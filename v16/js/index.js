!function(e){function t(t){for(var s,a,r=t[0],c=t[1],l=t[2],u=0,h=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(d&&d(t);h.length;)h.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,r=1;r<i.length;r++){var c=i[r];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var s={},n={index:0},o=[];function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=s,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;o.push([4,"chunk-vendors","chunk-common"]),i()}({0:function(e,t){},"0032":function(e,t,i){},"0c7e":function(e,t,i){"use strict";i("bbc4")},1:function(e,t){},"141b":function(e,t,i){},2:function(e,t){},"27fc":function(e,t,i){},"3d3c":function(e,t,i){"use strict";i("0032")},"3e8d":function(e,t,i){"use strict";i("4593")},4:function(e,t,i){e.exports=i("56d7")},"40b3":function(e,t,i){"use strict";i("b41d")},4593:function(e,t,i){},"45ce":function(e,t,i){"use strict";i("b929")},"46e0":function(e,t,i){},"4cc6":function(e,t,i){},"4fd3":function(e,t,i){},5070:function(e,t,i){"use strict";i("46e0")},"56d7":function(e,t,i){"use strict";i.r(t);var s=i("2b0e"),n=(i("c73d"),i("2f62"));i("14d9");var o={data:()=>({zIndex:0,highlightmark:"None",editpos:"None",selectbg:"none",bgs:["none","white","#f0f0f0"],toggle:0}),methods:{clean(){confirm("Clean the content?")&&(this.$refs.editor.innerHTML="")}},mounted(){this.zIndex=+new Date,document.addEventListener("mouseup",e=>{"None"!=this.highlightmark&&(function(e){var t="span",i=window.getSelection();if(i.rangeCount>0){var s=i.getRangeAt(0),n=s.commonAncestorContainer;if("#text"==n.nodeName){var o=document.createElement(t);if(o.style.backgroundColor=e,0==i.toString().trim().length)return;s.surroundContents(o);for(var a=o.parentNode.getElementsByTagName("span"),r=0;r<a.length;r++){var c=a[r];c!==o&&s.intersectsNode(c)&&(c.outerHTML=c.innerHTML)}}else{for(var l=[],d=document.createTreeWalker(n,NodeFilter.SHOW_ALL);d.nextNode();){var u=d.currentNode;1!==s.comparePoint(u,0)&&-1!==s.comparePoint(u,u.length)&&u.nodeType===Node.TEXT_NODE&&l.push(u)}var h=s.startContainer,p=s.startOffset;r=0,l.forEach((function(i){var n=document.createElement(t);if(n.style.backgroundColor=e,0==r){var o=i.nodeValue,a=o.substring(s.startOffset),c=o.substring(0,s.startOffset);i.nodeValue=c,n.textContent=a;var d=i.parentNode;d.insertBefore(n,i.nextSibling)}else r==l.length-1?(c=(o=i.nodeValue).substring(s.endOffset),a=o.substring(0,s.endOffset),i.nodeValue=c,n.textContent=a,(d=i.parentNode).insertBefore(n,i)):(n.textContent=i.nodeValue,(d=i.parentNode).replaceChild(n,i));r++})),s.setStart(h,p),i.removeAllRanges(),i.addRange(s)}}}(this.highlightmark),e.stopPropagation())})}},a=i("2877"),r=Object(a.a)(o,(function(){var e=this,t=e._self._c;return t("div",{class:{toggle:e.toggle}},[e.config.editor?t("div",{staticStyle:{margin:"5px",width:"100%",background:"rgba(255, 255, 255, 0.6)"},style:{position:"None"==e.editpos?"sticky":"fixed",top:"Top"==e.editpos?0:"auto",bottom:"Bottom"==e.editpos?0:"auto",zIndex:e.zIndex}},[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("div",[e._l(e.bgs,(function(i){return t("span",{key:i,staticStyle:{"min-width":"10px","min-height":"10px",display:"inline-block"},style:{background:i,border:e.selectbg==i?"1px solid red":"1px solid gray"},on:{click:function(t){e.selectbg=i}}})})),t("span",{staticStyle:{"margin-left":"20px",cursor:"pointer"},on:{click:function(t){return e.clean()}}},[e._v("Clear")]),t("span",{staticStyle:{"margin-left":"10px",cursor:"pointer"},style:{fontWeight:e.toggle?"bold":"normal"},on:{click:function(t){e.toggle=!e.toggle}}},[e._v("H/S")])],2),t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{"user-select":"none"}},[t("span",{staticStyle:{"margin-right":"20px"},on:{click:function(t){return e.updateConfig({activeTran:!e.config.activeTran})}}},[e._v(" "+e._s(e.config.activeTran?"ON":"OFF"))]),e._l(["None","yellow","pink","lightgreen"],(function(i){return t("span",{key:i,staticStyle:{"min-width":"10px","min-height":"10px",display:"inline-block",margin:"5px",cursor:"pointer","border-bottom":"2px solid gray"},style:{background:i,borderColor:e.highlightmark==i?"red":"gray",borderWidth:e.highlightmark==i?"2px ":"0"},on:{click:function(t){e.highlightmark=i}}},[e._v(e._s(i)+" ")])}))],2),t("div",{staticStyle:{"user-select":"none"}},e._l(["Top","Bottom","None"],(function(i){return t("span",{key:i,staticStyle:{"min-width":"10px","min-height":"10px",display:"inline-block",margin:"5px",cursor:"pointer"},style:{background:i,color:e.editpos==i?"red":"gray"},on:{click:function(t){e.editpos=i}}},[e._v(e._s(i)+" ")])})),0)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.toggle,expression:"!toggle"}],ref:"editor",staticStyle:{border:"2px dashed #ccc",padding:"5px"},style:{background:e.selectbg},attrs:{contenteditable:"true"}})]):e._e()])}),[],!1,null,null,null).exports,c=i("fdab"),l=i("f5ef"),d=(i("e9f5"),i("ab43"),i("1157")),u=i.n(d),h={props:["word","playing","playMode","playRel"],data:()=>({curPlay:"",rwords:[]}),created(){},computed:{relwordList(){return this.rwords.slice(0,Math.min(this.rwords.length,this.playRel))},relwords(){return this.$store.state.config.relwords}},methods:{async playWords(e){let t=u()(e);if(this.curPlay=this.word.q,this.scroll2el(u()(this.$refs.word),t),this.playing){if(await this.playSound(this.word,!0),this.playMode>=2&&(await this.sleep(500),await this.playSound(this.word,!0)),this.isSpell){await this.sleep(1e3);let e=this.curPlay.split("").map(e=>e);for(let t=0;t<e.length;t++)await this.tts("en",e[t],!0,6)}this.playMode>=3&&await this.playSound(this.word,!0,"zh"),await this.sleep(1e3),this.playRel&&await this.playRwords(t),this.curPlay=""}},async playRwords(e){let t=this.rwords;for(let i=0;i<t.length;i++){if(!this.playing)return;this.curPlay=t[i].q,this.scroll2el(u()(this.$refs.rword[i]),e),await this.playSound(t[i],!0),this.playMode>=2&&await this.playSound(t[i],!0),this.playMode>=3&&await this.playSound(t[i],!0,"zh"),await this.sleep(1e3)}},onEnterPlay(e,t){(async()=>{var i=!1;let s=function(){i=!0,e.target.removeEventListener("mouseout",s)};e.target.addEventListener("mouseout",s);for(let e=0;e<100;e++){if(i)return;await this.playSound(t,!0)}})()},loadRords(e){if(!e)return;let t=this;u.a.ajax({url:"/data/word/r/"+e.q.substring(0,2)+"/"+e.q+".js",type:"get",dataType:"jsonp",jsonpCallback:e.q,timeout:5e3,cache:1,success:function(e){t.rwords.length=0;let i=e[1].map(e=>({q:e[0],to:e[1],am:e[2]}));t.rwords.push(...i)},error:function(e){t.rwords.length=0}})}},mounted(){this.relwords&&this.loadRords(this.word)},watch:{relwords(e){e?this.loadRords(this.word):this.rwords.splice(0,this.rwords.length)}}},p=(i("a43e"),Object(a.a)(h,(function(){var e=this,t=e._self._c;return t("div",{ref:"word",staticClass:"word",staticStyle:{padding:"5px 0"}},[t("div",{class:{detach:!e.word.i&e.word.n,remove:!e.word.n}},[t("div",{class:{cur:e.curPlay==e.word.q},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.playSound(e.word)}}},[e._v(" "+e._s(e.word.q)+" "),e.word.am?t("b",{on:{mouseenter:function(t){return e.onEnterPlay(t,e.word)}}},[e._v(" ["+e._s(e.word.am)+"]")]):e._e()]),t("div",{staticStyle:{"font-weight":"bold"}},[t("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleItemIsNew(e.word,t)}}},[e._v(e._s(e.word.to))])])]),e._l(e.relwordList,(function(i){return t("div",{key:i.q,ref:"rword",refInFor:!0,staticClass:"rword"},[t("div",{class:{cur:e.curPlay==i.q},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.playSound(i)}}},[e._v(" "+e._s(i.q)+" "),i.am?t("b",{on:{mouseenter:function(t){return e.onEnterPlay(t,i)}}},[e._v(" ["+e._s(i.am)+"]")]):e._e()]),t("div",[t("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleItemIsNew(i,t)}}},[e._v(e._s(i.to))])])])}))],2)}),[],!1,null,"12994e18",null)).exports,f={data:()=>({pageSize:5,page:1,playMode:0,playRel:0,playing:0}),created(){},components:{WordItem:p},computed:{relwords(){return this.$store.state.config.relwords},pageList(){let e=this.words;return 0==e.length?e:e.slice((this.page-1)*this.pageSize,this.page*this.pageSize)},pages(){let e=this.words;return Math.floor((e.length+this.pageSize-1)/this.pageSize)},...Object(n.b)(["curItem","words"])},methods:{changePlayMode(){this.playing&&this.playMode?(this.playMode=this.playMode>2?0:this.playMode+1,0==this.playMode&&(this.playing=0)):(this.playing=!this.playing,this.playMode||(this.playMode=1))},changePlayNum(e){},getPageItems(e){let t=this.words;return 0==t.length?[]:t.slice(e*this.pageSize,(e+1)*this.pageSize)},toPage(e){e<1||e>this.pages||(this.page=e)},async playList(){for(let e=this.page-1;e<this.pages;e++){this.getPageItems(e);for(let e=0;e<this.$refs.word.length;e++){if(!this.playing)return void this.$store.commit("curPlay",null);await this.sleep(1),await this.$refs.word[e].playWords(this.$refs.words)}this.page++,await this.sleep(1)}this.page--,this.playing=0}},mounted(){l.a.$on("toggleAutoPlay",()=>{this.playing=!this.playing})},watch:{playing(e){e&&this.playList()}}},g=(i("3e8d"),Object(a.a)(f,(function(){var e=this,t=e._self._c;return t("div",[t("div",{ref:"words",staticClass:"witems",staticStyle:{padding:"5px","max-height":"calc(100vh - 180px)",overflow:"auto"}},e._l(e.pageList,(function(i){return t("WordItem",{key:i.q,ref:"word",refInFor:!0,staticStyle:{padding:"5px 0"},attrs:{word:i,playMode:e.playMode,playing:e.playing,playRel:e.playRel}})})),1),t("div",{staticClass:"bottom"},[t("a",{class:{playing:e.playing},on:{click:function(t){return e.changePlayMode()}}},[e._v("Play"+e._s(e.playMode))]),e.relwords?t("a",{on:{click:function(t){e.playRel=e.playRel>=20?0:e.playRel+5}}},[e._v(" PR"+e._s(e.playRel)+" ")]):e._e(),t("div",{staticStyle:{"text-align":"right",float:"right"}},[e._v(" ("),t("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),t("a",{staticClass:"ctrl",on:{click:function(t){e.toPage(parseInt(e.page)-1)}}},[e._v(" Prev ")]),t("a",{staticClass:"ctrl",on:{click:function(t){e.toPage(parseInt(e.page)+1)}}},[e._v(" Next ")])])])])}),[],!1,null,"a545123c",null)).exports,m=(i("910d"),i("f665"),i("88a7"),i("271a"),i("5494"),i("b60c")),v=i("ba5f"),y=i("1f80"),w=(i("13d5"),i("7d54"),i("9485"),i("1e70"),i("79a4"),i("c1a1"),i("8b00"),i("a4e7"),i("1e5a"),i("72c3"),i("34e9")),b=i("eb5e"),x=i.n(b),k=i("da7e"),T=i.n(k),C=i("db49");let _=T.a.get("my")||[],S=[{n:"Radio",data:[],a:1},{n:"Video",c:C.d,data:function(){return this.videos}},{n:"Fav",data:_,c:[]},{n:"TV",data:[],c:[],s:function(e,t){return(e["group-title"]+e["tvg-language"]+e["tvg-country"]+e.title).toLowerCase().indexOf(t)>-1},c2:[],c2f:function(e,t){let i=e["tvg-language"];return i&&i.indexOf(t)>-1},title:function(e){return e.title},cnt:{}},{n:"MJ",data:[],c:[],disabled:1},{n:"Local",data:[],c:[],disabled:0,del:1},{n:"TTS",data:[],a:1},{n:"Custom",data:[],a:1}],$=Array.from(new Set(_.map(e=>S[e.mediaType].n)));S[2].c=$;var A={data:()=>({refresh:1,cachedNum:0,loading:0,favMap:_.reduce((e,t)=>(e[t.vid]=1,e),{}),mediaTypes:S,curOpt1:"",curOpt2:"",pageSize:500,page:1,curVideoId:"",search:"",busy:0,mediaType:1,subIndex:0,done:0}),created(){},computed:{...Object(n.b)(["words"]),preload(){return this.$store.state.config.preload},cnt(){return this.mediaTypes[this.mediaType].cnt},curMediaType(){return this.mediaTypes[this.mediaType]},opts1(){let e=this.mediaTypes[this.mediaType].c||[],t=this.mediaTypes[this.mediaType].cnt;return this.curOpt2&&t&&(e=e.filter(e=>t[e+this.curOpt2])),e},opts2(){let e=this.mediaTypes[this.mediaType].c2||[],t=this.mediaTypes[this.mediaType].cnt;return this.curOpt1&&t&&(e=e.filter(e=>t[this.curOpt1+e])),e},pageList(){let e=this.searchList();return e.length>0&&(e=e.slice(0,this.page*this.pageSize)),e},pages(){let e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)},...Object(n.b)(["videos"])},methods:{ifneedload(){0==this.pageList.length&&"Video"==this.curMediaType.n&&l.a.$emit("fresh","videos",1)},async cacheWords(e){let t=0,i="",s=e.cc;if(s){let e="";if(0==s.indexOf("http"))try{if(e=await fetch(s).then(e=>e.text()),0==e.indexOf("<?xml")){e=e.replace(/\n/g,"");let i,s=/<p begin="(.*?)" end="(.*?)".*?>(.*?)<\/p>/g,n="WEBVTT\n\n",o=-1;for(;null!=(i=s.exec(e));)-1==o&&(o=12==i[1].length?0:1),n+=o?`${i[1]}0 --\x3e ${i[2]}0\n${i[3].replace(/<.*?>\s*/g," ").trim()}\n\n`:`${i[1]} --\x3e ${i[2]}\n${i[3].replace(/<.*?>\s*/g," ").trim()}\n\n`;e=n,t=1}}catch(e){}let h=e.match(/[A-Z]/g),p=e.match(/[a-z]/gi,"");if(t=0,h&&p&&h.length/p.length>.4){var n=e.split(/\n+/).filter(e=>2!=e.indexOf(":"));n.shift();for(var o=[],a=0;a<n.length;a++){for(var r=n[a].trim(),c=a+1;c<n.length;c++){if(!(n[c].trim().indexOf(r)>-1))break;r=n[a=c].trim()}for(var l=o.length,d=l-1;d>=0&&l>=o.length-4;d--){var u=o[d];0!=r.indexOf(u)||(l=d)}o.length=l,o.push(r)}e=o.join(" ").toLowerCase().replace(/\s+/," ")}else t=1;if(i=e,i.trim()){let e=Object(m.b)(this.words,i,!1);for(let t=0;t<e[1].length;t++)await Object(y.b)(e[1][t].q,e[1][t].to)}}},getFileBase64:e=>new Promise((t,i)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>i(e)}),del(e){confirm("delete?")&&fetch("cache/local",{method:"put",headers:{type:"video/mp4",name:encodeURIComponent(e.title),delete:e.url}}).then(()=>{let t=this.mediaTypes[this.mediaType].data.indexOf(e);t>-1&&this.mediaTypes[this.mediaType].data.splice(t,1)})},async upload(e){let t=e.target.files[0];if(!t.name||!t.size)return;let i=[new Date(t.lastModified)].map(e=>[e.getFullYear(),e.getMonth()+1,e.getDate()].join("/")).join("")+" "+Math.ceil(t.size/1024/1024)+"M "+t.name,s=await this.getFileBase64(t);fetch("cache/local",{method:"put",body:s,headers:{type:t.type||"video/mp4",encode:"base64",name:encodeURIComponent(i),cat:this.search.trim()}}).then(e=>e.json()).then(e=>{setTimeout(()=>{this.loadLocal()},10)})},async loadLocal(){try{await Object(w.b)("list/cache/local").then(e=>e.json()).then(e=>{this.loading=0,e&&e.length&&(this.mediaTypes[this.mediaType].data.splice(0,this.mediaTypes[this.mediaType].data.length),this.mediaTypes[this.mediaType].data.length=0,this.mediaTypes[this.mediaType].data.push(...e.map(e=>(e.vid=e.url,e))))})}catch(e){}},onFav(e,t,i){e.stopPropagation(),2!=i&&(t.mediaType=i);let s=-1;for(var n=0;n<_.length;n++)if(_[n].vid==t.vid){s=n;break}s>-1?_.splice(s,1):_.push(t),t.fav=this.favMap[t.vid]=s>-1?0:1,this.$set(this.favMap,t.vid,t.fav);let o=Array.from(new Set(_.map(e=>S[e.mediaType].n)));this.mediaTypes[2].c.length=0,this.mediaTypes[2].c.push(...o),this.refresh++,T.a.set("my",_)},focusSearch(){this.search=""},changeMediaType(){let e=this.mediaTypes[this.mediaType].n,t=sessionStorage;switch(e){case"TV":(async()=>{const e="group-title";this.loading=1;for(let i=0;i<10;i++)try{let i=await Object(w.b)("https://iptv-org.github.io/api/channels.json").then(e=>e.json()),s=await Object(w.b)("https://iptv-org.github.io/api/streams.json").then(e=>e.json()),n=[],o={},a={};for(let e=0;e<s.length;e++)a[s[e].channel]=s[e];i=i.filter(e=>a[e.id]).map(t=>(t.url=a[t.id].url,t.vid=t.id,t[e]=t.categories.join(","),t.fav=0,t.title=t.name+"/"+t.languages,t)),i.sort((t,i)=>t[e].localeCompare(i[e])),n.sort(),i.forEach(t=>{t[e]&&t[e].split(";").forEach(e=>{let t=e;o[t]=o[t]?o[t]+1:1,o[e]=o[e]?o[e]+1:1})});let r=this.mediaTypes[this.mediaType].data,c=this.mediaTypes[this.mediaType].c,l=this.mediaTypes[this.mediaType].cnt;c.length=r.length=0,r.push(...i),c.push(...n),Object.assign(l,o),t.tvtime=(new Date).getTime();break}catch(e){await this.sleep(2e3),i++}this.loading=0})();break;case"MJ":if(0==this.mediaTypes[this.mediaType].data.length){if(this.loading)return;this.loading=1,Object(v.c)(null,{cmd:"urls",content:{p:"mj.json",cache:864e5}},e=>{this.loading=0,e.content&&e.content.length&&this.mediaTypes[this.mediaType].data.push(...e.content.map(e=>({vid:e[0],title:e[1],urls:[],rate:e[2],date:e[4]})))})}break;case"Radio":case"Custom":case"TTS":{if(this.loading)return;this.loading=1,localStorage[this.mediaType+"time"];let t=this.mediaType,i="Custom"==e?this.config.m3u8Repo:"https://smlog.github.io/data/"+e.toLowerCase()+"s.json";(async()=>{for(let s=0;s<10;s++)try{let s=await Object(w.b)(i).then(e=>e.json()).then(e=>{if(this.loading=0,e.content&&e.content.length){return e.content.map(e=>(e.vid=e.url,e.url=new URL(e.url,i).href,e))}});s&&(this.mediaTypes[t].data.length=0,this.mediaTypes[this.mediaType].data.push(...s),await this.saveCache(e,s),localStorage[this.mediaType+"time"]=(new Date).getTime());break}catch(e){await this.sleep(2e3),s++}this.loadCache(e).catch(()=>{localStorage[e+"time"]=0}).then(t=>{t.length?(this.mediaTypes[this.mediaType].data.length=0,this.mediaTypes[this.mediaType].data.push(...t)):localStorage[e+"time"]=0}),this.loading=0})()}break;case"lo":"12345"!=prompt("confirm:")&&(this.mediaType=0);break;case"Local":this.loadLocal()}},loadMore(){this.busy=!0,setTimeout(()=>{this.busy=this.pages>0&&this.page>=this.pages,this.busy||this.page++},1e3)},searchList(){let e=this.search.toLowerCase().trim();if(1==this.mediaType){let t=this.videos;return this.curOpt1&&(t=t.filter(e=>e.src==this.curOpt1)),this.done&&(t=t.filter(e=>e._d)),e?t.filter(t=>t.d.indexOf(e)>-1||t.title.toLowerCase().indexOf(e)>-1):t}let t=this.mediaTypes[this.mediaType].data,i=this.mediaTypes[this.mediaType].c2f,s=this.mediaTypes[this.mediaType].s||((e,t)=>e.title.toLowerCase().indexOf(t)>-1);return 2==this.mediaType?this.curOpt1&&(t=t.filter(e=>S[e.mediaType].n==this.curOpt1)):this.curOpt1&&(t=t.filter(e=>e.src.indexOf(this.curOpt1)>-1)),this.curOpt2&&i&&(t=t.filter(e=>i(e,this.curOpt2))),e?t.filter(t=>s(t,e)):t},play(e,t,i,s){this.curVideoId=e.vid,this.updateConfig2({mediaTypeText:S[this.mediaType].n});let n=1;if(4==this.mediaType&&(s=s||0,this.subIndex=s,e.urls.length?e.url=e.urls[s]:(n=0,Object(v.c)(null,{cmd:"urls",content:{p:"mj/"+e.vid,cache:864e5}},n=>{n.content&&n.content.length&&(e.urls.push(...n.content),e.url=e.urls[s],l.a.$emit("videoId",parseInt(this.mediaType),e,t,i,s))}))),n){let e=this.config2.playList;e.splice(0,e.length,...this.pageList),this.updateConfig2({mediaType:this.mediaType,playList:e,playIndex:i})}t&&this.$emit("selectItem",e)},toPage(e){e<1||e>this.pages||(this.page=e)}},mounted(){if(location.href.indexOf("autoplay")>-1){var e=()=>{(async()=>{let e=!0;for(;e;){var t=this.searchList();if(t&&t.length){this.play(t[0],1,0),location.href.indexOf("fullscreen")>-1&&this.updateConfig({viewMode:0}),e=!1;break}await new Promise(e=>setTimeout(e,1e3))}})(),document.removeEventListener("click",e)};document.addEventListener("click",e)}x.a.init({mainElement:this.$refs.container2,triggerElement:this.$refs.container2,onRefresh(){l.a.$emit("fresh","videos",1)}}),l.a.$on("end",(e,t,i,s)=>{let n,o=this.searchList(),a=i,r=s;if(4!=this.mediaType){let e=t?-1:1,s=-1;for(let t=i+e;t>=0&&t<o.length;t+=e)if(!this.config.isAudio||1!=this.mediaType||0!==o[t].audio&&"cnn"!=o[t].src){s=t;break}if(-1==s)for(let e=0;e<o.length;e++)if(!this.config.isAudio||1!=this.mediaType||0!==o[e].audio&&"cnn"!=o[e].src){s=e;break}-1==s&&(s=0),a=s}else{let e=o[a].urls.length;t?(r--,r<0&&(r=e-1)):(r++,r>=e&&(r=0)),a>0&&(n=o[a-1])}this.play(o[a],0,a,r,n)})},watch:{mediaType(){this.page=1,this.busy=0,this.curOpt1=this.curOpt2=""},"$store.state.config.mj":function(e){S[4].disabled=!e}}},P=(i("0c7e"),Object(a.a)(A,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"list",staticStyle:{position:"relative","user-select":"none"}},[t("div",[5==e.mediaType?t("div",{staticClass:"op",staticStyle:{display:"flex","justify-content":"space-between"}},[t("div",{staticClass:"a-upload"},[t("input",{attrs:{name:"files",type:"file"},on:{change:function(t){return e.upload(t)}}}),e._v("Upload ")])]):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticStyle:{"text-align":"center"}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-spinner"}})],1),t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],staticStyle:{"max-height":"400px",overflow:"auto"},attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"30"}},[t("div",{ref:"container2",staticClass:"result"},[t("table",{staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(i,s){return t("tr",{key:i.vid||i.title,class:{_d:i._d,_c:i._c},staticStyle:{cursor:"pointer"}},[t("td",[t("div",{on:{click:function(t){t.stopPropagation(),e.play(i,1,s),e.updateConfig2({showList:0})}}},[[e.refresh?t("div",{class:{cur:e.curVideoId==i.vid,ni:!i.i,cached:i.cached}},[t("i",{staticClass:"num",on:{click:function(t){return t.stopPropagation(),e.onFav(t,i,e.mediaType)}}},[e._v(e._s(s+1))]),i.d?t("span",[e._v(e._s(i.d)+":")]):e._e(),t("span",[e._v(" "+e._s(e.curMediaType.title&&e.curMediaType.title(i)||i.title))]),i.duration?t("span",{staticClass:"src"},[e._v(e._s(("0"+parseInt(i.duration/60)).substr(-2))+":"+e._s(("0"+i.duration%60).substr(-2)))]):e._e(),i.src?t("span",{staticClass:"src"},[e._v(e._s(i.src))]):e._e(),i.org?t("span",{staticClass:"src"},[e._v(e._s(i.org))]):e._e(),e.mediaTypes[e.mediaType].del?t("span",{staticClass:"del",on:{click:function(t){return t.stopPropagation(),e.del(i,e.mediaType)}}},[e._v("x")]):e._e(),i.rate?t("span",[e._v(" rate:"+e._s(i.rate)+" ")]):e._e(),e.favMap[i.vid]?t("span",[e._v("*")]):e._e()]):e._e(),e.curVideoId==i.vid&&i.urls&&i.urls.length?t("div",e._l(i.urls,(function(n,o){return t("span",{key:o,class:{cur:e.subIndex==o},staticStyle:{margin:"8px"},on:{click:function(t){return t.stopPropagation(),e.play(i,1,s,o)}}},[e._v(e._s(o+1))])})),0):e._e()]],2)])])})),0)])]),t("div",{staticStyle:{"text-align":"right",background:"#444","padding-right":"5px"}},[t("select",{directives:[{name:"show",rawName:"v-show",value:e.opts1.length,expression:"opts1.length"},{name:"model",rawName:"v-model",value:e.curOpt1,expression:"curOpt1"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.curOpt1=t.target.multiple?i:i[0]},function(t){e.page=1}]}},[t("option",{attrs:{value:""}},[e._v("All")]),e._l(e.opts1,(function(i){return t("option",{key:i,domProps:{value:i}},[e._v(" "+e._s(i)),e.cnt?t("span",[e._v("("+e._s(e.cnt[i+e.curOpt2])+")")]):e._e()])}))],2),t("select",{directives:[{name:"show",rawName:"v-show",value:e.opts2.length,expression:"opts2.length"},{name:"model",rawName:"v-model",value:e.curOpt2,expression:"curOpt2"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.curOpt2=t.target.multiple?i:i[0]},function(t){e.page=1}]}},[t("option",{attrs:{value:""}},[e._v("All")]),e._l(e.opts2,(function(i){return t("option",{key:i,domProps:{value:i}},[e._v(" "+e._s(i)),e.cnt?t("span",[e._v("("+e._s(e.cnt[e.curOpt1+i])+")")]):e._e()])}))],2),t("select",{directives:[{name:"model",rawName:"v-model",value:e.mediaType,expression:"mediaType"}],on:{click:function(t){return e.ifneedload()},focus:function(t){return e.changeMediaType()},change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.mediaType=t.target.multiple?i:i[0]},function(t){e.changeMediaType(),e.ifneedload()}]}},[e._l(e.mediaTypes,(function(i,s){return[i.disabled?e._e():t("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(i.n)+" ")])]}))],2),e._v(" Filter:"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{width:"60px"},domProps:{value:e.search},on:{focus:function(t){return e.focusSearch()},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" ("),t("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),t("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page-1)}}},[e._v(" Prev ")]),t("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page+1)}}},[e._v(" Next ")])])])}),[],!1,null,"a3ba9fe6",null)).exports;var L={data:()=>({show:0,showList:0,isHover:0}),created(){},computed:{...Object(n.b)(["curItem","words"])},components:{Video:P},methods:{isM:()=>null!=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),togglePlay(){l.a.$emit("togglePlay")},showPlayer(){l.a.$emit("showPlayer")}},mounted(){let e=e=>{this.$refs.mediaList&&(this.$refs.mediaList.contains(e.target)||this.$refs.mediaListText.contains(e.target)||(this.showList=!1)),this.$refs.listContainer&&!this.$refs.listContainer.contains(e.target)&&this.updateConfig2({showList:0})},t=document;t.addEventListener("click",e),t.addEventListener("touchend",e)},watch:{}},I=(i("5070"),Object(a.a)(L,(function(){var e=this,t=e._self._c;return e.config.showvideos?t("div",{ref:"listContainer",staticClass:"vb_1 is-fixed-bottom is-hidden-desktop",class:{hover:e.dockList||e.isM()||e.isHover,isActivedTran:e.config.activeTran},style:{opacity:0!=e.config.viewMode||e.isHover?1:.01},on:{mouseenter:function(t){e.isHover=1,e.updateConfig2({showList:1})},mouseleave:function(t){e.isHover=0},click:function(t){return e.updateConfig2({showList:1})},touchmove:function(t){return e.updateConfig2({showList:1})},touchstart:function(t){return e.updateConfig2({showList:1})}}},[t("div",{ref:"mediaList",staticClass:"listCon"},[t("Video",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],on:{selectItem:function(t){e.showList=0,e.updateConfig2({showPlay:!0})}}})],1),t("div",{staticClass:"columns has-text-centered is-mobile is-size-7 is-marginless is-paddingless",staticStyle:{"user-select":"none"},attrs:{id:"player_ctrl"}},[e.shownews?t("div",{staticClass:"column is-marginless",staticStyle:{"flex-grow":"0.1"}},[t("span",{on:{click:function(t){return e.updateConfig2({showPlay:!e.config2.showPlay})}}},[e._v("Read")])]):e._e(),t("div",{ref:"mediaListText",staticClass:"column is-marginless"},[t("span",{staticClass:"button",class:{play:!e.config2.playingM,pause:e.config2.playingM},staticStyle:{"margin-right":"10px","margin-left":"10px"},on:{click:function(t){return e.togglePlay()}}}),t("span",{ref:"showListBt",staticStyle:{"flex-grow":"1"},on:{click:function(t){e.showList=!e.showList}}},[t("font-awesome-icon",{attrs:{icon:["fas","ellipsis"]}}),e._v(" "+e._s(e.config2.title)+" ")],1)])])]):e._e()}),[],!1,null,"3a7bb05c",null)).exports,O=i("611b"),M=i.n(O),N=(i("c78c"),{components:{vdr:M.a},mounted(){this.y=.865*(u()(".videoCon").height()||9*Math.min(u()(window).width(),u()(window).height())/16),this.width=.8*(u()(".videoCon").width()||u()(window).width()),this.x=.1*(u()(".videoCon").width()||u()(window).width()),this.height=16*(u()(".videoCon").height()||Math.min(u()(window).width(),u()(window).height()))/232},data:function(){return{width:200,height:16,x:0,y:0}},methods:{onResize:function(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s},onDrag:function(e,t){this.x=e,this.y=t}}}),j=Object(a.a)(N,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"100%",width:"100%",position:"absolute",top:"0"}},[t("vdr",{staticStyle:{background:"rgba(0, 0, 0, 1)",border:"none"},attrs:{w:e.width,h:e.height,x:e.x,y:e.y,parent:!0,debug:!1,isConflictCheck:!0,snap:!0,snapTolerance:20}})],1)}),[],!1,null,null,null).exports,R=(i("fda2"),function(){var e=this,t=e._self._c;return t("div",[e._l(e.config.playerNum,(function(i){return t("video",{key:i,ref:"videoPlayer",refInFor:!0,staticClass:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",attrs:{"x5-playsinline":"",preload:"auto","webkit-playsinline":"true",playsinline:"true","x-webkit-airplay":"allow",airplay:"allow",controls:"",poster:"",autoplay:"false",title:e.hovering?"":e.title,id:i},on:{mouseover:function(t){e.hovering=!0},mouseout:function(t){e.hovering=!1}}})})),t("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"keeplive",attrs:{controls:"",src:e.audio},on:{ended:function(t){return e.keepOnLive()}}})],2)}),W=i("f0e2"),z=(i("a151"),i("2e59"),i("94b9"),i("6b63")),U=i.n(z);i("6856")(W.a),s.a.prototype.$video=W.a;var F={props:["source","cc","title","mediaItem","timeupdate","preloadNextUrl"],data:()=>({audio:U.a,maxBitRate:!1,curPlayIndex:0,activeIndex:0,nextIndex:1,debugStr:"",hovering:!1,players:null,options:{inactivityTimeout:5e3,userActive:2e3,userActions:{hotkeys:function(e){88===e.which&&this.pause(),89===e.which&&this.play()}},type:"application/x-mpegURL",src:"",preload:!0,autoplay:!1,isLoop:!1,playsinline:!0,controls:"progress,current,durration,volume",crossOrigin:!1,textTrackDisplay:!0,playbackRates:[.5,.6,.7,.8,.9,1],fill:!0,fluid:!0,plugins:{airPlay:{addButtonToControlBar:!0}},html5:{vhs:{overrideNative:!1},hls:{enableLowInitialPlaylist:!0,smoothQualityChange:!0,overrideNative:!1},nativeVideoTracks:!0,nativeAudioTracks:!0}}}),created(){},computed:{},methods:{handleKeyDown(e){"Space"===e.code&&(this.players[this.activeIndex].paused()?this.players[this.activeIndex].play():this.players[this.activeIndex].pause())},loopPlay(){this.players[this.activeIndex].currentTime(0),this.players[this.activeIndex].play()},getCurrentPlayerUrl(){let e=this.players.filter(e=>e.actived);if(e.length>0)return e[0].src()},keepOnLive(){this.config.isAudio&&this.playNextVideo()},bufferNext(e){(async()=>{let[t,i]=await this.getNextPlayUrl(this.curPlayIndex);i&&(e.idx=t,this.setMediaUrl(i,e),e.muted(!0),e.play())})()},isStuck(e){if(e.currentTime()>e.duration())return!0;let t=e.buffered();return t.length>0&&t.end(t.length-1)>0&&e.currentTime()>t.end(t.length-1)},async getNextPlayUrl(e){let t=e,i=this.config2.playList;for(let e=0;e<i.length;e++)try{t+=1,t=Math.min(i.length,t)==i.length?0:t;let e=i[t];return this.curPlayIndex=t,[t,await this.getItemUrl(e)]}catch(e){continue}return[0,0]},toInt(e){try{return parseInt(e)}catch(e){return""}},async playListVideo(e){if(e<0)return;let t=this.players,i=this.config2.playList[e];if(!i)return;let s="";try{s=await this.getItemUrl(i),navigator.mediaSession.metadata=new window.MediaMetadata({title:i.title,artist:this.config2.mediaTypeText,album:this.config2.mediaTypeText,artwork:[{src:"icon.png",sizes:"32x32",type:"image/png"}]})}catch(e){}s||this.playNextVideo(),this.activeIndex=t.map(e=>e.url).indexOf(s),-1==this.activeIndex&&(this.activeIndex=0,this.curPlayIndex=e,t.map(e=>e.idx=-1),t[this.activeIndex].idx=e);let n=t[this.activeIndex];window.players=this.players,document.querySelectorAll(".video-js")[this.activeIndex].style.display="";for(let t=0;t<this.players.length;t++)if(t!=this.activeIndex){if(this.players[t].idx&&this.players[t].idx-e>0&&this.players[t].idx-e<this.players.length)continue;let[i,s]=await this.getNextPlayUrl(this.curPlayIndex);s&&(this.players[t].idx=i,this.players[t].muted(!0),await this.setMediaUrl(s,this.players[t]),this.players[t].muted(!0),this.players[t].actived=!1,this.players[t].play()),document.querySelectorAll(".video-js")[t].style.display=this.config.dev?"":"none"}this.$refs.keeplive.style.display=this.config.dev?"":"none",this.$emit("initPlayer",n),window.player=n,l.a.$emit("end",0,0,n.idx-1),n.muted(!1),n.actived=!0,n.loopCounts=0,await this.setMediaUrl(s,n),this.$refs.keeplive.inited||(this.$refs.keeplive.play(),this.$refs.keeplive.inited=!0);try{n.paused()&&n.currentTime(0),n.play()}catch(e){}},async getItemUrl(e){if(await Object(C.b)(e,this.config2.mediaType),0!==this.config.isAudio)try{if(null==e.audio)try{await Object(w.c)(e)}catch(e){}if(this.config.isAudio){if(!e.audio)throw"no audio";return e.audio+"?_="+this.config2.mediaType}}catch(e){throw e}return e.url},async setMediaUrl(e,t){if(t.checkTime=0,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(()=>{t.actived&&this.playNextVideo()},5e3),t.endTimer&&clearTimeout(t.endTimer),t.waitTimes=0,t.url!==e&&e){let i="audio/mpeg";e.indexOf(".m3p")>-1?i="audio/mp3":e.indexOf(".m4a")>-1?i="audio/mp4":e.indexOf(".mp4")>-1?i="video/mp4":e.indexOf("m3u8")>-1?i="application/x-mpegURL":e.indexOf(".mpd")>-1&&(i="application/dash+xml"),e.indexOf("/cache/local")>-1?await fetch(e).then(e=>e.blob()).then(e=>{t.src([{src:window.URL.createObjectURL(e),type:i}])}):t.src([{src:e,type:i}]),t.url=e}},playNextVideo(e){if(!e&&this.players[this.activeIndex].paused())return;if(!e&&this.config.isAudio&&!this.players[this.activeIndex].paused()){try{this.$refs.keeplive.currentTime=0,this.$refs.keeplive.play()}catch(e){}if(!(this.players[this.activeIndex].readyState()<3)){try{this.players[this.activeIndex].play()}catch(e){}return}{try{this.players[this.activeIndex].play()}catch(e){}this.$refs.keeplive.tryTime||(this.$refs.keeplive.tryTime=(new Date).getTime());let e=((new Date).getTime()-this.$refs.keeplive.tryTime)/1e3,t="keep live["+e+"] "+new Date;if(u()(this.$refs.keeplive).attr("title",t),e<10)return}this.$refs.keeplive.tryTime=0}let t=this.players.map((e,t)=>[t,e.idx]).sort((e,t)=>e[1]-t[1]);if(t.length<=1)return void l.a.$emit("end",0,0,this.players[this.activeIndex].idx);if(this.nextIndex=t[t.length>1?1:0][0],this.config.isLoop>0&&this.config.isLoop<4)switch(this.config.isLoop){case 1:return this.loopPlay();case 2:break;case 3:if(this.players[this.activeIndex].loopCounts++,this.players[this.activeIndex].loopCounts<this.config.loopCount)return this.loopPlay()}else 4!=this.config.isLoop&&([this.nextIndex,this.activeIndex]=[this.activeIndex,this.nextIndex]);this.players[this.nextIndex].actived=!1,this.players[this.activeIndex].actived=!0,this.players[this.activeIndex].loopCounts=this.players[this.nextIndex].loopCounts=0;let i=this.players[this.activeIndex];i.currentTime(0),i.muted(!1),this.players[this.nextIndex].muted(!0),document.querySelectorAll(".video-js")[this.nextIndex].style.display=this.config.dev?"":"none",document.querySelectorAll(".video-js")[this.activeIndex].style.display="",document.querySelectorAll(".video-js video").forEach(e=>e.style.display=""),this.$refs.keeplive.style.display=this.config.dev?"":"none",i.play(),this.$emit("initPlayer",i),l.a.$emit("end",0,0,this.players[this.activeIndex].idx-1)},init(){let e=this;this.players||(this.players=this.$refs.videoPlayer.map((t,i)=>{let s=this.player=this.$video(t,this.options,(function(){s.index=i;let t=this.textTracks(),n=()=>{if(s.actived)for(let i=0;i<t.length;i++){let n=t[i];if("showing"==n.mode&&(n.cuechange||(n.addEventListener("cuechange",()=>{s.actived&&"captions"==n.kind&&n.activeCues&&n.activeCues[0]&&e.$emit("cuechange",n.activeCues[0],n)}),n.cuechange=1),"captions"==n.kind)){n.activeCues&&n.activeCues[0]&&e.$emit("cuechange",n.activeCues[0],n);break}}};["change","removtrack","addtrack"].forEach(e=>{t.addEventListener(e,n)}),t.addEventListener("addtrack",()=>{setTimeout(()=>{for(var i=0;i<t.length&&("captions"==t[i].kind&&(t[i].mode=e.cc&&"new word"==t[i].label&&s.actived?"showing":"disabled"),"new word"!=t[i].label);i++);},5e3)})}));return s.on("loadeddata",()=>{0==this.config.isAudio&&setTimeout(()=>{if(this.config.maxBitRate){for(var e=s.qualityLevels(),t=0,i=null,n=0;n<e.length;n++){var o=e[n];o.enabled=!1,o.bitrate>t&&(t=o.bitrate,i=o)}i&&(i.enabled=!0)}},0),setTimeout(()=>{let e=s.textTracks();for(var t=0;t<e.length;t++)s.actived&&"new word"===e[t].label||(e[t].mode="disabled")},100),s.playbackRate(e.config.playbackrate),e.config.custCue&&setTimeout(()=>{u()("video track").attr("kind","metadata")},3e3)}),s.on("timeupdate",e=>{if(s.timer&&clearTimeout(s.timer),!s.actived)return setTimeout(()=>{!s.actived&&s.pause()},0),s.duration()===1/0?void s.pause():void 0;s.checkTime=s.currentTime(),s.timer=setTimeout(()=>{s.paused()||this.toInt(s.checkTime)!==this.toInt(s.currentTime())||this.playNextVideo(1),s.timer=0},1e4),this.$emit("timeupdate",e,s)}),s.on("useractive",()=>{this.updateConfig2({touchstart:1})}),s.on("userinactive",()=>{this.updateConfig2({touchstart:0})}),s.on("stalled",()=>{s.actived&&this.config.isAudio&&this.playNextVideo()}),s.on("suspend",()=>{s.actived&&this.config.isAudio&&this.playNextVideo()}),s.on("waiting",()=>{s.actived&&this.config.isAudio&&setTimeout(()=>{this.playNextVideo()},2e3)}),s.on("ended",()=>{s.actived&&(s.endTimer&&clearTimeout(s.endTimer),this.playNextVideo(1))}),s.on("error",e=>{s.actived?this.playNextVideo():this.bufferNext(s)}),s.on("pause",()=>{s.actived&&(this.$emit("pause"),l.a.$emit("pause"),this.updateConfig2({playingM:0}),s.endTimer&&clearTimeout(s.endTimer))}),s.on("play",()=>{s.actived&&(this.$emit("play"),l.a.$emit("play"),this.updateConfig2({playingM:1}))}),s.on("playing",()=>{s.actived&&s.endTimer&&clearTimeout(s.endTimer)}),s.on("ratechange",()=>{s.actived&&setTimeout(()=>{s.currentTime()>1&&""+s.playbackRate()!=""+this.config.playbackrate&&this.updateConfig({playbackrate:s.playbackRate()})},500)}),s}),this.$emit("initPlayer",this.players[0]))}},mounted(){this.$nextTick(()=>{setTimeout(()=>{this.init()},1e3)}),window.addEventListener("keydown",this.handleKeyDown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyDown)},watch:{"$store.state.config.isAudio":{handler(){setTimeout(()=>{this.playListVideo(this.config2.playIndex)},800)}},"$store.state.config2.playIndex":{handler(e){this.playListVideo(e)}},"$store.state.config.playbackrate":{handler(e){this.players&&this.players.length&&this.players.map(t=>{t.playbackRate(e)})}},"$store.state.config.dev":{handler(e){setTimeout(()=>{this.$refs.videoPlayer&&this.$refs.videoPlayer.filter(e=>!e.actived).forEach(t=>t.style.display=e?"":"none"),this.$refs.keeplive.style.display=e?"":"none"},100),setTimeout(()=>{u()(window).resize()},100)}},source(){this.init()},title(){document.title=this.title}}},E=(i("40b3"),Object(a.a)(F,R,[],!1,null,"3304e042",null)).exports,q=i("5806"),D={props:["source","cc","isLive"],data:()=>({alioptions:{isLive:0,useH5Prism:1,playsinline:1,useHlsPluginForSafari:1}}),created(){},computed:{},components:{VueAliplayerV2:i.n(q).a},updated(){this.$nextTick(()=>{this.init()})},methods:{init(){this.alioptions.isLive=this.isLive},ended(){this.$emit("ended")}},mounted(){this.$nextTick(()=>{this.init()})},watch:{source(){this.init()}}},V=(i("8f09"),Object(a.a)(D,(function(){var e=this;return(0,e._self._c)("vue-aliplayer-v2",{ref:"VueAliplayerV2",staticClass:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",attrs:{source:e.source,options:e.alioptions,isLive:e.isLive},on:{ended:e.ended}})}),[],!1,null,"25e888d1",null)).exports,H={data:()=>({custCue:"",isAliPlayer:0,isHide:0,cc:0,loopCount:0,cueIndex:0,item:{},nextItem:{},isCc:0,mediaType:1,videoUrl:"",preloadNextUrl:"",show:0,url:"",top:"0%",player:null,videos:null,videoId:"",videoIndex:0,text:"",scrollTimer:1,title:"",isAutoScroll:!0,playing:0,sps:[],isMask:0,av:1,isTouch:0}),created(){},computed:{...Object(n.b)(["showApp","curItem","words","seeCurWords","nextUrl"]),preload(){return this.$store.state.config.preload},dict(){return this.$store.state.config.dict}},components:{PlayerControllers:I,VideoJsPlayer:E,AliPlayer:V,ResizeMask:j},methods:{selectVideo(e,t,i,s,n){i&&(this.show=1),location.search.indexOf("hidePlayer=1")>-1&&(this.show=0),this.videoId=t.vid,this.title=t.title,this.item=t,this.videoIndex=s,this.subIndex=n,this.mediaType=e,this.$store.commit("add2CurWords",[[],1]),this.onCuesChangeSync2=0,this.text="",this.updateConfig2({title:t.title}),0==this.mediaType?(this.videoUrl=this.url=t.url,this.av=0):(async()=>{try{await this.loadVideo(t,e)}catch(e){this.end()}})()},touchstartCustCue(){this.player&&this.player.pause(),l.a.touchstartCustCue=1},resize(){setTimeout(()=>{u()(window).resize()},200)},modeText(){switch(this.config.isAudio){case 0:return"Video";default:return"Audio"}},loopText(){switch(this.config.isLoop){case 0:return"Seq";case 1:return"LL";case 2:return"LSeq";case 3:return"LSeq"+this.loopCount;case 4:return"Loop"}},onTouch(){clearTimeout(this.isTouch),this.isTouch=setTimeout(()=>{clearTimeout(this.isTouch),this.isTouch=0},3e3)},initPlayer(e){this.player=e},clickUrl(){let e=this.$refs.jsplayer.getCurrentPlayerUrl();open(e)},tryCaption2TTV(){var e={};let t;this.onCuesChangeSync2=(i,s)=>{if("showing"==s.mode&&"captions"==s.kind){t!=s&&(e={},u()(this.$refs.lynx).html("")),t=s;for(var n=s.cues,o=[],a=n.length-1;a>=0;a--){let t=n[a];if(e[""+t.startTime])break;e[""+t.startTime]=1;let i=`<span begin="${parseInt(t.startTime)}" end="${parseInt(t.endTime)}">${this.textAddNewMarks(this.words,t.text,!1).replace(/^(\s*[A-Z][^A-Z]+)/g,"<br />$1")}</span> `;o.unshift(i)}o.length>0&&(this.cues=u()(this.$refs.lynx).append(o.join("\n")).find("span"))}}},LseqNext(e,t){this.config.isLoop>0&&this.config.isLoop<4&&t&&t.duration()-t.currentTime()<1&&!this.loadingNext&&(this.loadingNext=1,setTimeout(()=>{2==this.config.isLoop?(this.loopCount=0,this.next()):3==this.config.isLoop?(this.loopCount++,this.loopCount>=this.config.loopCount&&(this.loopCount=0,this.next())):1==this.config.isLoop&&(this.loopCount=0,this.player.pause(),this.next()),setTimeout(()=>{this.loadingNext=0},1e4)},1e3*(t.duration()-t.currentTime())))},setUpScroll(e){if(clearInterval(this.scrollTimer),this.onCuesChangeSync=0,this.isAutoScroll&&!e)if(this.cc){if(this.player){this.cueIndex=0;let e=u()(this.$refs.text);this.cues=e.find("span"),e.find("span").each((function(){u()(this).text().trim()||u()(this).attr("skip",1)})),this.onCuesChangeSync=()=>{let t=this.cues,i=parseInt(this.player.currentTime());if(this.cueIndex>=t.length&&(this.cueIndex=0,e.find("span.cur").removeClass("cur"),0==t.length&&this.setTimeout(this.setUpScroll,100)),this.cueIndex>0){let i=t.eq(this.cueIndex);if(i.addClass("cur"),this.cueIndex<4&&t.eq(1).addClass("cur"),this.dict){let e=i.find(".newWord").text().trim();e&&(this.title=e)}i.attr("skip")||this.scrollMid(i,e),this.cueIndex++}else for(let s=0;s<t.length;s++){let n=t.eq(s);if(n&&n.attr("begin")<=i&&n.attr("end")>i){if(e.find("span.cur").removeClass("cur"),n.addClass("cur"),this.dict){let e=n.find(".newWord").text().trim();e&&(this.title=e)}this.cueIndex=s+1,this.scrollMid(n,e);break}}}}}else{let e=u()(this.$refs.text),t=u()(this.$refs.lynx),i=0;window.cancelAnimationFrame(window.requestAnimationFrame2),window.requestAnimationFrame2=window.requestAnimationFrame(()=>{e.animate({scrollTop:-e.height()},100)}),this.scrollTimer=setInterval(()=>{let s=0,n=e.height(),o=t.height()-n,a=(o+n/2)/this.player.duration(),r=Math.ceil(2*a);this.player.currentTime()!=i&&(s=e.scrollTop()+r,window.cancelAnimationFrame(window.requestAnimationFrame3),window.requestAnimationFrame3=window.requestAnimationFrame(()=>{e.animate({scrollTop:s},100)}),i=this.player.currentTime()),this.top=Math.floor(100*Math.min(1,1*s/o))+"%"},2e3)}},async bg(){return new Promise(e=>{Object(v.c)(null,{cmd:"bg",title:this.title},(function(t){t&&e()}))})},markNewWords(e){var t=this.words;this.text=this.textAddNewMarks(t,e.replace(/\n/g,"<br />"))},textAddNewMarks(e,t,i){let s=Object(m.b)(e,t,i);return setTimeout(()=>{this.$store.commit("add2CurWords",[s[1]])},1e3),s[0]},ajustTextHeight(){this.$refs.text.style.top=(u()(this.$refs.videoCon).is(":hidden")?0:u()(this.$refs.videoCon).height())+u()(this.$refs.bts).height()+"px"},next(e){!e&&this.config.isLoop<2&&this.seeCurWords?(async()=>{await new Promise(e=>{l.a.$once("finishPlayCurWords",()=>{e()}),l.a.$emit("playCurWords")}),this.end(0)})():this.end(0)},prev(){this.end(1)},error(){setTimeout(()=>{this.end(0)},1e4)},end(e){this.cueIndex=0,this.setUpScroll(!0),this.$store.commit("nextUrl",""),l.a.$emit("end",this.videoId,e,this.videoIndex,this.subIndex,this.config.isAudio)},cuechange(e,t){if(this.followme);else{if(this.lastPauseTime||(this.lastPauseTime=this.player.currentTime()),this.config.follow&&e){let t=e.text.trim();if(t.length>1&&t.match(/[,.?!]$/)){let t=this,i=this.lastPauseTime;t.followme=!0,(async()=>{await new Promise(t=>setTimeout(t,1e3*(e.endTime-e.startTime))),this.player.pause();let s=this.player.currentTime()-i,n=1.5*s*1e3;for(let e=0;e<t.config.followCnt;e++)await new Promise(e=>setTimeout(e,n)),this.player.currentTime(i),this.player.play().catch(()=>{}),await new Promise(e=>setTimeout(e,1e3*s)),this.player.pause();this.lastPauseTime=0,t.followme=!1,this.player.play().catch(()=>{})})()}}if(this.onCuesChangeSync2&&this.onCuesChangeSync2(e,t),this.onCuesChangeSync&&this.onCuesChangeSync(e,t),e&&this.config.custCue){let t=e.endTime-e.startTime;this.custCue=e.text,this.cueTimer&&clearTimeout(this.cueTimer),this.cueTimer=setTimeout(()=>{this.player.paused()||(this.custCue=""),this.cueTImer=0},1e3*(5+t))}}},init(){var e=this;u()(this.$refs.top).scroll((function(){e.ajustTextHeight()}))},trimDup(e){for(var t=[],i=e.split("\n"),s=0;s<i.length-1;s++){if(i[s].trim())for(var n=s+1;n<i.length;n++)0==i[n].indexOf(i[s])&&(s=n);t.push(i[s])}return(t=t.map((e,t)=>0==t?e:e.toLowerCase())).join("\n").split(/(?=\d{2}:\d{2}:\d{2}.\d{3} --> \d{2}:\d{2}:\d{2}.\d{3})/).map((e,t,i)=>0==t||t==i.length-1?e:e.replace(/\d{2}:\d{2}:\d{2}.\d{3}\n/,i[t+1].split(" --\x3e")[0]+"\n")).join("")},async loadTTV(e){this.cc=0;let t="",i="";if(e){let u="";if(0==e.indexOf("http"))try{if(u=await fetch(e).then(e=>e.text()),0==u.indexOf("<?xml")){u=u.replace(/\n/g,"");let e,t=/<p begin="(.*?)" end="(.*?)".*?>(.*?)<\/p>/g,i="WEBVTT\n\n",s=-1;for(;null!=(e=t.exec(u));)-1==s&&(s=12==e[1].length?0:1),i+=s?`${e[1]}0 --\x3e ${e[2]}0\n${e[3].replace(/<.*?>\s*/g," ").trim()}\n\n`:`${e[1]} --\x3e ${e[2]}\n${e[3].replace(/<.*?>\s*/g," ").trim()}\n\n`;u=i,this.cc=1}}catch(e){}let h=u.match(/[A-Z]/g),p=u.match(/[a-z]/gi,"");if(this.cc=0,h&&p&&h.length/p.length>.4){var s=u.split(/\n+/).filter(e=>2!=e.indexOf(":"));s.shift();for(var n=[],o=0;o<s.length;o++){for(var a=s[o].trim(),r=o+1;r<s.length;r++){if(!(s[r].trim().indexOf(a)>-1))break;a=s[o=r].trim()}for(var c=n.length,l=c-1;l>=0&&c>=n.length-4;l--){var d=n[l];0!=a.indexOf(d)||(c=l)}n.length=c,n.push(a)}u=n.join(" ").toLowerCase().replace(/\s+/," ")}else this.cc=1;if(t=u,this.isCc&&!this.cc)return this.next(),1;t.trim()&&(t=this.textAddNewMarks(this.words,t,!1)),this.cc?(i=this.trans(t),this.text="",this.text=this.caption2Text(t)):(u=u.replace(/\.[\s]+/g,".\n"),this.markNewWords(u)),this.$nextTick(()=>{setTimeout(()=>this.setUpScroll(),100)})}return setTimeout(()=>{let e=this.player,s=e.textTracks();for(var n=0;n<s.length;n++)"new word"==s[n].label&&e.removeRemoteTextTrack(s[n]);if(i.trim()){var o=new Blob([t]),a=URL.createObjectURL(o);e.addRemoteTextTrack({kind:"captions",label:"new word",mode:"showing",srclang:"zh",default:"true",src:a},!0)}},0),0},caption2Text:e=>"<span>"+e.replace(/^WEBVTT[\s\n]*/,"").replace(/(\d{2}):(\d{2}):(\d{2}).(\d{3}) --> (\d{2}):(\d{2}):(\d{2}).(\d{3})/g,(e,t,i,s,n,o,a,r)=>`<span begin="${60*i+parseInt(s)}" end="${60*a+parseInt(r)}">`).replace(/<span/g,"</span><span"),trans(e){let t=u()("<div>"+e+"</div>");return t.find("em.newWord").replaceWith((function(){var e=u()(this);return`<i>${e.find(".newWorda").text()}</i><b>${e.find(".newWordb").text()}</b>`})),t.html().replace(/&gt;/g,">")},async loadVideo(e,t,i){if(e.vid){if(await Object(C.b)(e,t,i),this.show&&this.config.isAudio<2){try{this.isAliPlayer||await this.loadTTV(e.cc)}catch(e){}e.cc||(this.cc=2,setTimeout(()=>{this.tryCaption2TTV()},0)),this.config.custCue&&setTimeout(()=>{u()("video track").attr("kind","metadata")},3e3)}setTimeout(()=>{this.ajustTextHeight()},1e3)}},scrollMid(e,t){if(!e||!e.offset)return;if(!e.offset())return;let i=e.offset().top+t[0].scrollTop-t.offset().top-t.height()/2;window.cancelAnimationFrame(window.requestAnimationFrame1),window.requestAnimationFrame1=window.requestAnimationFrame(()=>{u()(t).animate({scrollTop:i},1e3)})}},mounted(){let e=this;this.init(),document.body.addEventListener("click",()=>{this.config.bgkeeplive&&Object(y.d)(1),this.updateConfig2({touchstart:1}),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.updateConfig2({touchstart:0}),this.timer=0},2e3)}),l.a.$on("NEXT",()=>{this.next(1)}),l.a.$on("PRE",()=>{this.prev(1)}),l.a.$on("videos",e=>{this.videos=e}),l.a.$on("togglePlay",()=>{this.config2.playingM?this.player.pause():this.player.play()}),l.a.$on("showPlayer",()=>{this.show=!this.show}),u()(window).on("resize",(function(){e.ajustTextHeight()}))},watch:{"$store.state.config2.playIndex":{handler(e){let t=this.config2.playList[e];this.show=1,this.selectVideo(this.config2.mediaType,t,0,e)}},videoUrl(e){this.updateConfig2({videoUrl:e})},showApp(e){e?this.player.paused()||(this.player.pause(),this.isTranPause=1):this.isTranPause&&(this.isTranPause=0,this.player.play()),!e&&l.a.touchstartCustCue&&(setTimeout(()=>{this.player.currentTime(Math.max(0,this.player.currentTime()-this.config.backplay)),this.emit("togglePlay")},1e3),l.a.touchstartCustCue=0)},isHide(){setTimeout(()=>{this.ajustTextHeight()},0)},isAutoScroll(){this.setUpScroll()},show(e){e&&setTimeout(()=>{u()(window).resize()},100)},"$store.state.config.viewMode":{handler(){this.resize()}}}},B=(i("a885"),Object(a.a)(H,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"top",staticClass:"top",on:{click:function(t){return e.onTouch()}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.hi,expression:"!config.hi"}],ref:"videoCon",staticClass:"videoCon",staticStyle:{position:"relative"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.hi&&e.config.custCue&&e.config.custCue<3&&e.custCue,expression:"!config.hi && config.custCue && config.custCue < 3 && custCue"}],staticClass:"custCue"},[t("div",{staticStyle:{display:"flex","justify-content":"center"}},[t("div",{staticStyle:{background:"rgba(0, 0, 0, 0.5)"},domProps:{innerHTML:e._s(e.custCue)},on:{touchstart:function(t){return e.touchstartCustCue()},click:function(t){return t.preventDefault(),t.stopPropagation(),e.touchstartCustCue()}}})])]),t("font-awesome-icon",{staticClass:"pbtn",staticStyle:{left:"0"},attrs:{icon:["fas","arrow-left"]},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.emit("PRE")},mouseenter:function(t){return e.updateConfig2({touchstart:1})},mouseleave:function(t){return e.updateConfig2({touchstart:0})}}}),t("font-awesome-icon",{staticClass:"pbtn",staticStyle:{right:"0"},attrs:{icon:["fas","arrow-right"]},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.emit("NEXT")},mouseenter:function(t){return e.updateConfig2({touchstart:1})},mouseleave:function(t){return e.updateConfig2({touchstart:0})}}}),e.isAliPlayer?e._e():t("div",[t("VideoJsPlayer",{ref:"jsplayer",attrs:{source:e.videoUrl,preloadNextUrl:e.preloadNextUrl,cc:e.cc,title:e.title,mediaItem:e.item},on:{cuechange:e.cuechange,initPlayer:e.initPlayer,ended:e.next,timeupdate:e.LseqNext,error:e.error}})],1),e.isAliPlayer?t("div",{staticClass:"ali"},[t("AliPlayer",{attrs:{source:e.videoUrl,isLive:3==e.mediaType},on:{ended:e.next}})],1):e._e(),e.isMask?t("ResizeMask"):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:(e.config.viewMode<0||e.config.hi)&&(e.isMask<2||e.isTouch),expression:"(config.viewMode < 0 || config.hi) && (isMask < 2 || isTouch)"}],staticStyle:{position:"relative","z-index":"10000"}},[t("div",{ref:"bts",class:{preload:e.preload},attrs:{id:"bts"}},[t("a",{staticClass:"up",class:{selected:e.isAutoScroll},staticStyle:{"margin-left":"0"},on:{click:function(t){e.isAutoScroll=!e.isAutoScroll}}},[t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.isAutoScroll,expression:"isAutoScroll"}],attrs:{size:"xs",icon:"fa-solid fa-check"}}),e._v(" "+e._s(e.top))],1),e._e(),t("a",{staticClass:"up",class:{selected:e.config.hi},on:{click:function(t){e.updateConfig({hi:!e.config.hi}),e.resize()}}},[e._v(" Hi")]),t("a",{staticClass:"up",class:{selected:e.config.follow},on:{click:function(t){return e.updateConfig({follow:!e.config.follow})}}},[e._v(" F")]),t("a",{staticClass:"up",on:{click:function(t){return e.updateConfig({fs:e.config.fs>=8?1:e.config.fs+1})}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}}),t("span",[e._v(e._s(e.config.fs))])],1),e._e(),t("a",{staticClass:"loop",class:{nocc:2==e.config.isAudio},on:{click:function(t){return e.updateConfig({isAudio:e.config.isAudio>=2?0:1+e.config.isAudio})}}},[e._v(" "+e._s(e.modeText())+" ")]),t("a",{staticClass:"loop",on:{click:function(t){return e.updateConfig({isLoop:++e.config.isLoop>4?0:e.config.isLoop})}}},[e._v(" "+e._s(e.loopText())+" ")]),t("a",{on:{click:function(t){return e.prev(1)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-left"}})],1),t("a",{on:{click:function(t){return e.next(1)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-right"}})],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isMask<2&&(e.config.hi||0!==e.config.viewMode),expression:"isMask < 2 && (config.hi || config.viewMode !== 0)"}],ref:"text",staticClass:"text"},[e._e(),e._e(),t("div",{ref:"lynx",domProps:{innerHTML:e._s(e.text)}})])]),t("PlayerControllers")],1)}),[],!1,null,"2b6a2bed",null)).exports;window.loaded=function(){alert(this)};var J={data:()=>({pageSize:5,page:1,curVideoId:"",search:"",busy:0}),created(){},filters:{fmtDate:e=>e.substring(4,6)+"-"+e.substring(6,8)},computed:{pageList(){let e=this.searchList();return 0==e.length||(e=e.slice(0,this.page*this.pageSize)),e},pages(){let e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)},...Object(n.b)(["news","words"])},methods:{close(e,t){let i=u()("html, body").scrollTop()-u()("#a"+t).outerHeight();setTimeout(()=>{u()("html, body").animate({scrollTop:i},300)},300),e.show=!1},clickHandler(e){l.a.$emit("click",e)},loadContent(e,t){if(""!=Object(v.a)().toString())return;let i=this;e.desc||Object(v.c)(null,{cmd:"content",content:e},s=>{if(s.content){let n=Object(m.a)(this.words,s.content);n=n.replace(/<img(.*?)>/gi,'<iframe style="width:100%;margin:0;padding:0;border:0;" frameborder="no" border="0" class="img"  $1 ></iframe>').replace(/src=/i,'src = "about:blank" _src='),setTimeout(()=>{let e=document.querySelectorAll("#a"+t+" iframe.img");for(let t=0;t<e.length;t++){let s=e[t],n=s.getAttribute("_src");if(!n){u()(s).remove();continue}let o=s.contentDocument||s.contentWindow.document;o.addEventListener("click",i.clickHandler),o.addEventListener("touchend",i.clickHandler),o.body.style.overflow="hidden",o.body.innerHTML=`<img  style="width:100%;" src="${n}" />`,o.body.querySelector("img").onload=function(){u()(s).height(u()(s).contents().height())}}},100),e.desc=n}this.curVideoId=e.p}),this.$set(e,"show",!e.show)},loadMore(){this.busy=!0,setTimeout(()=>{this.page++,this.busy=this.pages>0&&this.page>=this.pages},1e3)},searchList(){return this.news},toPage(e){e<1||e>this.pages||(this.page=e)}},mounted(){l.a.$on("swiper",(e,t)=>{this.pageList.map((e,t)=>e.show&&this.close(e,t))})},watch:{}},K=(i("e681"),Object(a.a)(J,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"20"}},[t("div",{staticStyle:{padding:"5px",background:"white"}},[t("table",{staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(i,s){return t("tr",{key:s},[t("td",[t("h4",{staticClass:"title",class:{cur:e.curVideoId==i.p,ni:!i.i},on:{click:function(t){return e.loadContent(i,s)}}},[e._v(" "+e._s(e._f("fmtDate")(i.date))+": "+e._s(i.title)+" "),t("i",{staticClass:"src"},[e._v(e._s(i.src))])]),t("div",{attrs:{id:"a"+s}},[t("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"item.show"}],staticClass:"desc",domProps:{innerHTML:e._s(i.desc)}}),i.show?t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){return e.close(i,s)}}},[e._v(" Close ")]):e._e()])])])})),0)]),t("div",{staticStyle:{"text-align":"right"}},[e._v(" Filter:"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{width:"60px"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" ("),t("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),t("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page-1)}}},[e._v(" Prev ")]),t("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page+1)}}},[e._v(" Next ")])])])}),[],!1,null,"600c5b4c",null)).exports,X=i("ec3d"),Z={data:()=>({fontSize:100,url:"",pageSize:20,page:1,curVideoId:"",search:"",busy:0,news:[],curIndex:0,loading:0}),created(){},filters:{fmtDate:e=>e.substring(4,6)+"-"+e.substring(6,8)},computed:{pageList(){let e=this.searchList();return 0==e.length||(e=e.slice(0,this.page*this.pageSize)),e},pages(){let e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)},...Object(n.b)(["words"])},methods:{fontScale(e){this.updateConfig({fontSize:this.config.fontSize+100*e})},getNewsItems:async e=>await fetch(e).then(e=>e.text()).then(t=>{const i=new DOMParser,s=i.parseFromString(t,"text/html");i.baseURI=e;const n=s.querySelectorAll('a[href^="/"]');return Array.from(n).filter(e=>{const t=e.getAttribute("href");return/\d{4}\/\d{2}\/\d{2}/.test(t)}).map(t=>({link:e+t.getAttribute("href"),title:t.textContent.trim(),pubDate:t.href.match(/\d{4}\/\d{2}\/\d{2}/)[0]}))}).catch(e=>{}),close(e){setTimeout(()=>{u()("body .new2").animate({scrollTop:e.scrollTop},300)},300),e.show=!1},clickHandler(e){l.a.$emit("click",e)},async fetchUrl(){let e="https://ftr.fivefilters.net/makefulltextfeed.php?max=1&url="+encodeURIComponent(this.url);if(this.url&&this.url.match("http.+"))if(0==this.news.filter(e=>e.link==this.url).length){let t=await Object(C.a)(e,"xml");t.rss.channel.item.pubDate=t.rss.channel.item.pubDate.replace(" +0000",""),this.news.unshift(t.rss.channel.item),this.loadContent(t.rss.channel.item,0)}else alert(this.url+" already exists!")},open(e,t){""==Object(v.a)().toString()&&(this.curIndex=t,this.loading=1,e.scrollTop=u()("body .new2").scrollTop(),this.$set(e,"show",!e.show),setTimeout(()=>{this.loadContent(e,t)},0))},async loadContent(e){if(""!=Object(v.a)().toString())return;if(!e.show)return;let t=e.link.replace(/.+\/(.*?\/[^/]+)/,"$1"),i=await this.loadCache("new-"+t).catch(()=>"");if(!i&&e.link){let s="https://ftr.fivefilters.net/makefulltextfeed.php?max=1&url="+encodeURIComponent(e.link);i=(await Object(C.a)(s,"xml")).rss.channel.item.description.replace(/(<\/?a.*?>)|(<\/?span.*?>)/g,"");let n=u()("<div>"+i+"</div>"),o=["title","src","srcset","class"];n.find("*").each((function(){let e=u()(this),t=[];u.a.each(this.attributes,(function(){this&&this.specified&&-1==o.indexOf(this.name.toLowerCase())&&t.push(this.name)}));for(let i of t)e.removeAttr(i)})),n.find("iframe").remove(),n.find("img,video").attr("referrerpolicy","no-referrer"),i=n[0].innerHTML,sessionStorage["new-"+t]=Object(X.d)(i)}let s=Object(m.b)(this.words,i);i=s[0],this.$store.commit("add2CurWords",[s[1],1]),e.desc=i,this.curVideoId=e.p,this.loading=2},loadMore(){this.busy=!0,setTimeout(()=>{this.page++,this.busy=this.pages>0&&this.page>=this.pages},1e3)},searchList(){return this.news},toPage(e){e<1||e>this.pages||(this.page=e)},getDate(e){if(e.pubDate){let t=new Date(e.pubDate);return t.getMonth()+1+"-"+t.getDate()}return""},getImage(e){if(e.thumbnail)return e.thumbnail.url;if(e.group&&e.group.content&&e.group.content.length>0){return e.group.content.pop().url}},fresh(){l.a.$emit("freshnews",1)}},mounted(){let e=this;x.a.init({mainElement:this.$refs.container,triggerElement:this.$refs.container,onRefresh(){e.fresh()}}),l.a.$on("swiper",(e,t)=>{this.pageList.map((e,t)=>e.show&&this.close(e,t))}),sessionStorage.news&&this.news.push(...Object(X.a)(sessionStorage.news)),l.a.$on("freshnews",t=>{let i=localStorage.freshnews||0;!t&&(new Date).getTime()-i<216e5||(async()=>{let t=[],i=this.config.rsss.filter(e=>e.enable);if(null==i)for(let e=0;e<i.length;e++)try{let s=await fetch("https://api.rss2json.com/v1/api.json?rss_url="+encodeURIComponent(i[e].url)).then(e=>e.json()).then(t=>t.items.filter(e=>e.pubDate).map(t=>({title:t.title,link:t.link,pubDate:t.pubDate,thumb:this.getImage(t),name:i[e].name})));t.push(...s.filter(e=>e.link&&-1==e.link.indexOf("/videos/")))}catch(e){}let s=["https://edition.cnn.com/business","https://edition.cnn.com"];for(let e=0;e<s.length;e++)t=t.concat(await this.getNewsItems(s[e]));let n=[],o={};for(let e of this.news.concat(t))e&&(o[e.link]?o[e.link].title=e.title:(e.dt=new Date(e.pubDate).getTime(),n.push(e),o[e.link]=e));n.sort((e,t)=>t.dt-e.dt),n.length=Math.min(e.config.keepNewsCount,n.length),localStorage.freshnews=(new Date).getTime(),sessionStorage.news=Object(X.d)(JSON.stringify(n)),this.news.length=0,this.news.push(...n)})()})},watch:{}},Q=(i("a2ff"),Object(a.a)(Z,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"new2",staticStyle:{position:"fixed",top:"0",bottom:"0",overflow:"auto"},style:{fontSize:this.config.fontSize+"%"}},[t("div",{staticClass:"newbar",staticStyle:{display:"flex"}},[t("a",{staticClass:"btn",on:{click:function(t){return e.fontScale(-.1)}}},[e._v("-")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"urlinput",attrs:{placeholder:"http:// or https:// url"},domProps:{value:e.url},on:{blur:e.fetchUrl,focus:function(t){e.url=""},input:function(t){t.target.composing||(e.url=t.target.value)}}}),t("a",{staticClass:"btn",on:{click:function(t){return e.fontScale(.1)}}},[e._v("+")])]),t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],ref:"container",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"20"}},[t("div",{staticStyle:{padding:"5px","user-select":"none"}},[t("table",{staticClass:"row",staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(i,s){return t("tr",{key:i.link,class:{cur:e.curIndex==s}},[t("td",[t("div",{staticClass:"item",class:{cur:e.curIndex==s,loading:i.show&&e.curIndex==s&&1==e.loading,loaded:i.show&&e.curIndex==s&&2==e.loading,readed:i.desc},on:{mouseover:function(t){e.curIndex=s},click:function(t){return e.open(i,s)}}},[i.thumb?t("img",{staticClass:"thumb",attrs:{src:i.thumb,referrerpolicy:"no-referrer"}}):e._e(),t("div",[t("div",{staticClass:"title"},[e._v(e._s(s+1)+". "+e._s(i.title))]),t("div",{staticClass:"info"},[t("span",{staticClass:"name"},[e._v(e._s(i.name))]),t("span",{staticClass:"date"},[e._v(e._s(e.getDate(i)))])])])]),t("div",{attrs:{id:"a"+s}},[t("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"item.show"}],staticClass:"desc",domProps:{innerHTML:e._s(i.desc)}}),i.show?t("div",{staticClass:"close",on:{click:function(t){return e.close(i,s)}}},[t("a",{staticClass:"bt"},[e._v("Close")])]):e._e()])])])})),0)]),0==e.pageList.length?t("div",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.fresh()}}},[t("a",[e._v("Refresh")])]):e._e()])])}),[],!1,null,"2d8a4c06",null)).exports,Y={data:()=>({playMode:localStorage.playMode&&parseInt(localStorage.playMode)||0,curPlay:"",isSpell:!1,playNum:0}),created(){},computed:{...Object(n.b)(["curWords","seeCurWords"])},components:{WordItem:p},methods:{async playList(){if(this.curWords.length)for(let e=0;e<this.$refs.word.length;e++){if(!this.config2.playing)return void(this.curPlay="");await this.sleep(10),await this.$refs.word[e].playWords(this.$refs.curWs)}this.updateConfig2({playing:0})},showHideCurWords(e){let t=u()(window).width();if(u()(".videoCon").is(":visible")){let i=u()(".videoCon").width(),s=i>0&&t-i<.25*t;u()(this.$refs.curWs).css("top",s?u()(".text").offset().top+"px":"auto"),e?s?(u()(".text").css({width:t!=i?Math.min(.75*t,i)+"px":"75%"}),u()(this.$refs.curWs).css({left:"auto",right:"0"})):u()(this.$refs.curWs).css({left:u()(".text").outerWidth()+"px",right:"auto"}):u()(".text").css("width","100%")}else e?(u()(this.$refs.curWs).css({left:"auto",right:"0",top:0}),u()(".new2").css("width","75%")):u()(".new2").css("width","100%")}},mounted(){u()(window).resize(()=>{this.showHideCurWords(this.seeCurWords)}),l.a.$on("newWord",e=>{this.$store.commit("add2CurWords",[[e]])}),l.a.$on("playCurWords",()=>{(async()=>{if(this.config2.playing)this.updateConfig2({playing:0});else{this.updateConfig2({playing:1}),this.skipTrigAutoPlay=1;try{await this.playList()}catch(e){}this.skipTrigAutoPlay=0}l.a.$emit("finishPlayCurWords")})()})},watch:{"$store.state.config2.playing":{handler(e){e&&!this.skipTrigAutoPlay&&this.playList()}},"$store.state.config.seeCurWords":{handler(e){this.showHideCurWords(e)}}}},G=(i("60e0"),Object(a.a)(Y,(function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords,expression:"config.seeCurWords"}],ref:"curWs",staticClass:"curWs"},e._l(e.curWords,(function(i){return t("WordItem",{key:i.q,ref:"word",refInFor:!0,staticStyle:{padding:"5px 0"},attrs:{curPlay:e.curPlay,word:i,playMode:e.playMode,playing:e.config2.playing,playRel:3}})})),1)])}),[],!1,null,"17d18f8b",null)).exports,ee={data:()=>({playMode:localStorage.playMode&&parseInt(localStorage.playMode)||0,curPlay:"",isSpell:!1,playNum:0,opacity:.1}),created(){},computed:{},components:{},watch:{"$store.state.config2.mask":{handler(e){e||this.onLeave()}},"$store.state.config.viewMode":{handler(e){try{0==e?this.enterFullscreen(document.querySelector("#app")):this.exitFullscreen(document.querySelector("#app"))}catch(e){}}}},methods:{changeRate(){this.config.playbackrate=(.1+parseFloat(this.config.playbackrate)).toFixed(1),this.updateConfig({playbackrate:this.config.playbackrate>1?.5:this.config.playbackrate})},clickAudio(){this.updateConfig({isAudio:this.config.isAudio>=2?0:1+this.config.isAudio})},onLeave(){this.opacity=0,this.updateConfig2({mask:0})},onTouch(){this.opacity=1,this.updateConfig2({mask:1})},togglePlayAndMode(){this.playMode++,this.playMode>3&&(this.playMode=0),localStorage.playMode=this.playMode},setShowCurWords(e){this.updateConfig({seeCurWords:e}),e||this.updateConfig2({playing:e})}},mounted(){document.addEventListener("click",e=>{this.$refs.op_tool&&(this.$refs.op_tool.contains(e.target)||this.onLeave())})}},te=(i("3d3c"),Object(a.a)(ee,(function(){var e=this,t=e._self._c;return t("div",{ref:"op_tool",staticClass:"op_tool",class:{show:e.opacity,hide:!e.opacity},on:{touchstart:function(t){return e.onTouch(1)},mouseover:function(t){return e.onTouch()},mouseout:function(t){return e.onLeave(0)},touchmove:function(t){return e.onTouch()}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.opacity<1,expression:"opacity < 1"}],ref:"mask",staticStyle:{width:"150%",height:"100%",position:"absolute","z-index":"1","user-select":"none"},on:{touchstart:function(e){e.preventDefault()},touchend:function(e){e.preventDefault()},touchmove:function(e){e.preventDefault()}}}),t("div",{staticClass:"icons"},[t("span",{class:{playing:e.config2.playing},on:{click:function(t){return e.togglePlayAndMode()}}},[e._v(e._s(e.playMode))]),t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords&&e.config2.playing,expression:"config.seeCurWords && config2.playing"}],attrs:{icon:"volume-high","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),e.config.audioRead?t("font-awesome-icon",{attrs:{icon:"ear-listen","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({audioRead:!e.config.audioRead})}}},[e._v("AR")]):t("font-awesome-icon",{attrs:{icon:"ear-deaf","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({audioRead:!e.config.audioRead})}}},[e._v("AR")]),t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords&&!e.config2.playing,expression:"config.seeCurWords && !config2.playing"}],attrs:{icon:"volume-xmark","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),t("font-awesome-icon",{class:{active:e.config.viewMode>-1,vmode0:0==e.config.viewMode,left:2==e.config.viewMode},attrs:{icon:"fa-solid fa-maximize","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({viewMode:++e.config.viewMode>2?-1:e.config.viewMode})}}}),t("font-awesome-icon",{class:{active:e.config.seeCurWords},attrs:{icon:["fas","list"],"fixed-width":"",size:"lg"},on:{click:function(t){return e.setShowCurWords(!e.config.seeCurWords)}}}),1==e.config.isAudio?t("font-awesome-icon",{attrs:{icon:["fas","headphones"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}):2==e.config.isAudio?t("font-awesome-icon",{attrs:{icon:["fas","headphones-simple"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}):t("font-awesome-icon",{attrs:{icon:["fas","tv"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}),t("a",{on:{click:function(t){return e.updateConfig({fs:e.config.fs>=8?1:e.config.fs+1})}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}}),t("span",[e._v(e._s(e.config.fs))])],1),t("font-awesome-icon",{class:{active:e.config.custCue,borderTop:2==e.config.custCue,hideCue:3==e.config.custCue,borderBottom:1==e.config.custCue},attrs:{icon:["fas","closed-captioning"],"fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({custCue:++e.config.custCue>3?0:e.config.custCue})}}}),t("font-awesome-icon",{attrs:{icon:"eye","fixed-width":"",size:"lg"},on:{click:function(t){return e.toggleSetting()}}}),t("div",[t("a",{on:{click:function(t){return e.changeRate()}}},[e._v(e._s(e.config.playbackrate))])]),t("div",[t("a",{on:{click:function(t){return e.updateConfig({theme:"dark"==e.config.theme?"light":"dark"})}}},[e._v(e._s(e.config.theme))])])],1)])}),[],!1,null,"24358ac8",null)).exports,ie={data:()=>({pauseTimer:0,pauseTimerTimer:0,endTime:"",token:"",tokenMessage:"",showSetting:1,refreshIndicator:0,uploadDate:"",voices:["YD","BD","BK","SG","LC"],rssIndex:-1}),filters:{fmtDate:e=>e?e.getHours()+":"+e.getMinutes()+":"+e.getSeconds():""},created(){const e=this;let t=+new Date,i=()=>{setTimeout(()=>{this.isFullscreen()||0!==e.config.viewMode||this.updateConfig({viewMode:-1})},1e3)};(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i)),Object(v.c)(null,{cmd:"getConfig",reqId:++t},e=>{e&&(this.$store.commit("config",e),setTimeout(()=>{try{i()}catch(e){}},0))}),(async()=>{let i={};e.timer=setInterval(()=>{"complete"===document.readyState&&(window.clearInterval(e.timer),Object(v.c)(null,{cmd:"getConfig",reqId:++t},e=>{if(!e)return;let t=Object.assign(this.config,e,i),s=t.rsss,n=e.rsss?e.rsss.reduce((e,t)=>(e[t.name]=t.enable,e),{}):{};s.forEach(e=>{e.enable=n[e.name]?1:0});let o=t.urls,a={};if(e.urls)for(let t of Object.keys(e.urls))for(let i of e.urls[t])a[i.url]=i.enable;for(let e of Object.keys(o))for(let t of o[e])t.enable=a[t.url]?1:0;Object.assign(t,e),s&&s.length&&Object.assign(t,{rsss:s,urls:o}),this.$store.commit("config",t),this.loadmodsdata().then(()=>{this.refresh()})}),Object(v.c)(null,{cmd:"get",name:"user",reqId:++t},e=>{this.tokenMessage=e}),Object(v.c)(null,{cmd:"get",name:"uploadDate",reqId:++t},e=>{this.uploadDate=e}))},1e3)})()},mounted(){setTimeout(()=>{this.config.autoRefresh&&this.refresh(!0)},1e3)},methods:{focus(e){setTimeout(()=>{e.target.focus()},1e3)},mUpload(){this.$store.commit("setLoading",1),this.loading||(this.loading=1,Object(v.c)(null,{cmd:"mUpload"},e=>{e&&this.refresh(),this.$store.commit("setLoading",0),this.loading=0}))},async loadmodsdata(){let e=[];for(let t in this.config)0==t.indexOf("show")&&this.config[t]&&e.push(t.substring(4));e.sort().reverse();for(let t=0;t<e.length;t++)try{let i=await this.loadCache(e[t]);this.$store.commit(e[t],i||[])}catch(e){}l.a.$on("fresh",(e,t)=>{this.refreshmode(e,t)})},async refreshmode(e,t){var i=this;l.a.$emit("fresh"+e,t),this.$store[e]&&this.$store[e].length>0&&await this.saveCache(e,this.$store[e]);let s={};await new Promise(n=>{Object(v.c)(null,{cmd:"lists",force:t,type:e},t=>{t&&(t.contents&&t.contents.length&&(i.$store.commit(e,t.contents),s[e]=t.contents),t.done&&n())})});let n=Object.keys(s);for(var o=0;o<n.length;o++){let e=n[o];await this.saveCache(e,s[e]).catch(e=>{})}},async refresh(e){var t=this;if(t.refreshIndicator)return;t.refreshIndicator=1;let i=[];for(let e in this.config)0==e.indexOf("show")&&this.config[e]&&i.push(e.substring(4));i.sort().reverse();for(let t=0;t<i.length;t++)await this.refreshmode(i[t],e);t.refreshIndicator=0},upConfig(){Object(v.c)(null,{cmd:"setConfig",content:this.config},()=>{this.$store.commit("config",this.config)})},submitTimer(){clearTimeout(this.pauseTimerTimer);let e=this,t=parseInt(this.pauseTimer);if(t>0){let i=(new Date).getTime();e.endTime=new Date(i+60*t*1e3),this.pauseTimerTimer=setTimeout(()=>{u()("audio,video").each((function(){u()(this)[0].pause()})),Object(v.c)(null,{cmd:"audio",pause:!0},(function(){})),e.pauseTimer=0,e.endTime=""},60*t*1e3)}},submitToken(){this.tokenMessage="",Object(v.c)(null,{cmd:"token",content:this.token},e=>{e&&(this.tokenMessage=e.message||e.name,e.name||setTimeout(()=>{Object(v.c)(null,{cmd:"token"},e=>{this.tokenMessage=e,e||(this.token="")})},3e3))})},toggleHl(){u()("html > head #newwordHl").length>0?u()("html > head #newwordHl").remove():u()("html > head").append(u()('<style id="newwordHl" type = "text/css">\n      .newWordb{   display:none;}\n      </style>'))}},computed:{...Object(n.b)(["curTab","showApp","curItem"])},watch:{"$store.state.config.showvideos":{handler(e){e&&!Object.keys(this.config.urls).length&&window.location.reload()}}}},se=(i("6686"),Object(a.a)(ie,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-no-word":"1"}},[t("div",{staticStyle:{"font-size":"0.8em",color:"white"}},[t("div",{staticClass:"t_1"},[t("span",[t("input",{attrs:{type:"checkbox"},on:{click:function(t){return e.toggleHl()}}}),e._v("HL")]),t("span",{on:{click:function(t){e.showSetting=!e.showSetting}}},[e._v(" Setting ")]),t("span",{on:{click:function(t){return e.refresh(!0)}}},[e._v("Refresh"),e.refreshIndicator?t("span",[e._v("...")]):e._e()]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.autoRefresh,expression:"config.autoRefresh"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.autoRefresh)?e._i(e.config.autoRefresh,null)>-1:e.config.autoRefresh},on:{change:function(t){var i=e.config.autoRefresh,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"autoRefresh",i.concat([null])):o>-1&&e.$set(e.config,"autoRefresh",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"autoRefresh",n)}}}),t("span",[e._v(" Editor")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.editor,expression:"config.editor"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.editor)?e._i(e.config.editor,null)>-1:e.config.editor},on:{change:[function(t){var i=e.config.editor,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"editor",i.concat([null])):o>-1&&e.$set(e.config,"editor",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"editor",n)},function(t){return e.upConfig()}]}}),t("span",[e._v(" Dev")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.dev,expression:"config.dev"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.dev)?e._i(e.config.dev,null)>-1:e.config.dev},on:{change:[function(t){var i=e.config.dev,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"dev",i.concat([null])):o>-1&&e.$set(e.config,"dev",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"dev",n)},function(t){return e.upConfig()}]}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSetting,expression:"showSetting"}],staticStyle:{"font-size":"0.8em",color:"white","text-align":"left","border-top":"1px dashed white",padding:"5px"}},[t("div",[t("div",[e._v(" Translate Url:"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.tranUrl,expression:"config.tranUrl"}],domProps:{value:e.config.tranUrl},on:{blur:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"tranUrl",t.target.value)}}})])]),t("div",[t("div",[e._v(" Back ground Audio keep live "),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.bgkeeplive,expression:"config.bgkeeplive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.bgkeeplive)?e._i(e.config.bgkeeplive,null)>-1:e.config.bgkeeplive},on:{change:[function(t){var i=e.config.bgkeeplive,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"bgkeeplive",i.concat([null])):o>-1&&e.$set(e.config,"bgkeeplive",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"bgkeeplive",n)},function(t){return e.upConfig()}]}})])]),t("audio",{directives:[{name:"show",rawName:"v-show",value:e.config.bgkeeplive,expression:"config.bgkeeplive"}],attrs:{id:"bgAudio",controls:""},on:{click:function(e){e.stopPropagation()}}})]),t("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[t("div",[t("span",[e._v(" Retain:")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.retains,expression:"config.retains",modifiers:{number:!0}}],staticStyle:{"max-width":"30px"},attrs:{min:"30"},domProps:{value:e.config.retains},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"retains",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),t("div",[t("span",[e._v(" Loop Count:")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.loopCount,expression:"config.loopCount",modifiers:{number:!0}}],staticStyle:{"max-width":"30px"},attrs:{min:"1"},domProps:{value:e.config.loopCount},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"loopCount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),t("div",[t("span",[e._v(" Timeout Next:")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.timeoutnext,expression:"config.timeoutnext"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.timeoutnext)?e._i(e.config.timeoutnext,null)>-1:e.config.timeoutnext},on:{change:[function(t){var i=e.config.timeoutnext,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"timeoutnext",i.concat([null])):o>-1&&e.$set(e.config,"timeoutnext",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"timeoutnext",n)},function(t){return e.upConfig()}]}})])]),t("div",{staticStyle:{"text-align":"left"}},[e._v(" Stop after "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.pauseTimer,expression:"pauseTimer",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.pauseTimer},on:{blur:[e.submitTimer,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.pauseTimer=e._n(t.target.value))}}}),e._v(" minus "),e.endTime?t("span",[e._v("at "+e._s(e._f("fmtDate")(e.endTime)))]):e._e()])]),t("div",{staticStyle:{"text-align":"left"}},[e._v(" Token: "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.token,expression:"token"}],staticStyle:{width:"100%","box-sizing":"border-box"},domProps:{value:e.token},on:{blur:function(t){return e.submitToken()},input:function(t){t.target.composing||(e.token=t.target.value)}}})]),t("div",{staticStyle:{color:"red","font-weight":"bold"}},[e._v(e._s(e.tokenMessage))])]),e.tokenMessage?t("div",[t("div",[e._v(" Word upload: "),t("a",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(t){return e.mUpload()}}},[e._v("upload "+e._s(e.uploadDate))])]),t("div",[e._v(" Upload "),t("div",[e._v(" only when new word reach "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.config.fzWords,expression:"config.fzWords"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"fzWords",t.target.multiple?i:i[0])},function(t){return e.upConfig()}]}},[t("option",{attrs:{value:"0"}},[e._v("Disable")]),e._l([1,3,5,10,20,50,100],(function(i){return t("option",{key:i,domProps:{value:i}},[e._v(" "+e._s(i)+" ")])}))],2)]),t("div",[e._v(" only when new video reach "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.config.fzVideos,expression:"config.fzVideos"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"fzVideos",t.target.multiple?i:i[0])},function(t){return e.upConfig()}]}},[t("option",{attrs:{value:"0"}},[e._v("Disable")]),e._l([1,5,10,20,50,100],(function(i){return t("option",{key:i,domProps:{value:i}},[e._v(" "+e._s(i)+" ")])}))],2)])])]):e._e(),t("div",{staticStyle:{"text-align":"left"}},[e._v(" Enable: "),t("div",[t("label",[e._v(" Radio "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.radio,expression:"config.radio"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.radio)?e._i(e.config.radio,null)>-1:e.config.radio},on:{change:[function(t){var i=e.config.radio,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"radio",i.concat([null])):o>-1&&e.$set(e.config,"radio",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"radio",n)},function(t){return e.upConfig()}]}})]),t("label",[e._v(" Words "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.showwords,expression:"config.showwords"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.showwords)?e._i(e.config.showwords,null)>-1:e.config.showwords},on:{change:[function(t){var i=e.config.showwords,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"showwords",i.concat([null])):o>-1&&e.$set(e.config,"showwords",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"showwords",n)},function(t){return e.upConfig()}]}})]),t("label",[e._v(" MJ "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.mj,expression:"config.mj"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.mj)?e._i(e.config.mj,null)>-1:e.config.mj},on:{change:[function(t){var i=e.config.mj,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"mj",i.concat([null])):o>-1&&e.$set(e.config,"mj",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"mj",n)},function(t){return e.upConfig()}]}})]),t("label",[e._v(" Dict "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.dict,expression:"config.dict"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.dict)?e._i(e.config.dict,null)>-1:e.config.dict},on:{change:[function(t){var i=e.config.dict,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"dict",i.concat([null])):o>-1&&e.$set(e.config,"dict",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"dict",n)},function(t){return e.upConfig()}]}})]),t("label",[e._v(" Rel Words "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.relwords,expression:"config.relwords"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.relwords)?e._i(e.config.relwords,null)>-1:e.config.relwords},on:{change:[function(t){var i=e.config.relwords,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"relwords",i.concat([null])):o>-1&&e.$set(e.config,"relwords",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"relwords",n)},function(t){return e.upConfig()}]}})])])]),t("div",[t("label",[e._v(" Vidoes "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.showvideos,expression:"config.showvideos"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.showvideos)?e._i(e.config.showvideos,null)>-1:e.config.showvideos},on:{change:[function(t){var i=e.config.showvideos,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"showvideos",i.concat([null])):o>-1&&e.$set(e.config,"showvideos",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"showvideos",n)},function(t){return e.upConfig()}]}})]),e.config.showvideos?t("div",{staticStyle:{"max-height":"50vh",overflow:"auto"}},[t("ul",{staticStyle:{border:"1px solid #ccc",padding:"5px"}},e._l(e.config.urls,(function(i,s){return t("li",{key:s},[t("div",{staticStyle:{"font-weight":"bold","font-size":"120%",display:"flex","justify-content":"space-between"}},[t("span",[e._v(e._s(s))]),t("input",{attrs:{type:"checkbox"},on:{click:function(e){i.forEach(e=>e.enable=!e.enable)},change:function(t){return e.upConfig()}}})]),e._l(i,(function(i){return t("div",{key:i.url,staticStyle:{display:"flex"}},[t("div",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","flex-grow":"1"}},[e._v(" ... "+e._s(i.url.substr(-40))+" ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:i.enable,expression:"g.enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.enable)?e._i(i.enable,null)>-1:i.enable},on:{change:[function(t){var s=i.enable,n=t.target,o=!!n.checked;if(Array.isArray(s)){var a=e._i(s,null);n.checked?a<0&&e.$set(i,"enable",s.concat([null])):a>-1&&e.$set(i,"enable",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(i,"enable",o)},function(t){return e.upConfig()}]}})])}))],2)})),0)]):e._e()]),t("div",{staticStyle:{"user-select":"none"}},[t("div",{staticStyle:{"text-align":"left",margin:"5px 0px",display:"flex","justify-content":"space-between","font-weight":"bold",color:"black","font-size":"120%"}},[t("span",[e._v(" Rss: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.shownews,expression:"config.shownews"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.shownews)?e._i(e.config.shownews,null)>-1:e.config.shownews},on:{change:[function(t){var i=e.config.shownews,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"shownews",i.concat([null])):o>-1&&e.$set(e.config,"shownews",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"shownews",n)},function(t){return e.upConfig()}]}})]),t("div",[t("span",[e._v("Keep:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.keepNewsCount,expression:"config.keepNewsCount",modifiers:{number:!0}}],staticStyle:{"max-width":"40px"},attrs:{type:"input",min:"0",max:"200"},domProps:{value:e.config.keepNewsCount},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"keepNewsCount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e.config.shownews?t("div",{staticStyle:{"max-height":"50vh",overflow:"auto"}},[t("ul",{staticStyle:{border:"1px solid #ccc",padding:"5px"}},e._l(e.config.rsss,(function(i,s){return t("li",{key:i.url,on:{click:function(t){e.rssIndex=s}}},[t("div",[t("div",[t("div",{staticStyle:{display:"flex"}},[t("a",{staticStyle:{"flex-grow":"1"}},[e._v(e._s(s)+" "+e._s(i.name))]),t("input",{directives:[{name:"model",rawName:"v-model",value:i.enable,expression:"rss.enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.enable)?e._i(i.enable,null)>-1:i.enable},on:{change:[function(t){var s=i.enable,n=t.target,o=!!n.checked;if(Array.isArray(s)){var a=e._i(s,null);n.checked?a<0&&e.$set(i,"enable",s.concat([null])):a>-1&&e.$set(i,"enable",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(i,"enable",o)},function(t){return e.upConfig()}]}})]),t("div",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[t("span",[e._v(e._s(i.url))])])])])])})),0)]):e._e()]),t("div",{staticStyle:{"text-align":"left",margin:"5px 0",display:"flex","justify-content":"space-between","flex-wrap":"wrap"}},[t("div",[e._v(" Sound: "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.config.autoSound,expression:"config.autoSound"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"autoSound",t.target.multiple?i:i[0])},function(t){return e.upConfig()}]}},[t("option",{attrs:{value:""}},[e._v("No sound")]),t("option",{attrs:{value:"auto"}},[e._v("auto")]),e._l(e.voices,(function(i){return t("option",{key:i,domProps:{value:i}},[e._v(e._s(i))])}))],2)]),t("div",[e._v(" Translate Max Len:"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.activeTran,expression:"config.activeTran"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.activeTran)?e._i(e.config.activeTran,null)>-1:e.config.activeTran},on:{change:function(t){var i=e.config.activeTran,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"activeTran",i.concat([null])):o>-1&&e.$set(e.config,"activeTran",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"activeTran",n)}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.maxTranLen,expression:"config.maxTranLen",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.config.maxTranLen},on:{input:function(t){t.target.composing||e.$set(e.config,"maxTranLen",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",[e._v(" Back play: "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.backplay,expression:"config.backplay",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.config.backplay},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"backplay",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v("s ")]),t("div",[e._v(" waitTimes: "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.waitTimes,expression:"config.waitTimes",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.config.waitTimes},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"waitTimes",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",[e._v(" Follow Count: "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.followCnt,expression:"config.followCnt",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"1"},domProps:{value:e.config.followCnt},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"followCnt",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",[e._v(" playerNum: "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.playerNum,expression:"config.playerNum",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"1"},domProps:{value:e.config.playerNum},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"playerNum",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",[e._v(" Dock List:"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.dockList,expression:"config.dockList"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.dockList)?e._i(e.config.dockList,null)>-1:e.config.dockList},on:{change:[function(t){var i=e.config.dockList,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"dockList",i.concat([null])):o>-1&&e.$set(e.config,"dockList",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"dockList",n)},function(t){return e.upConfig()}]}})]),t("div",[e._v(" custCue:"),t("a",{on:{click:function(t){e.config.custCue=++e.config.custCue>3?0:e.config.custCue,e.upConfig()}}},[e._v(e._s(0==e.config.custCue?"Default":1==e.config.custCue?"Bottom":2==e.config.custCue?"Top":"Disable")+" "+e._s(e.config.custCue)+" ")])]),t("div",[e._v(" maxBitRate:"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.maxBitRate,expression:"config.maxBitRate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.maxBitRate)?e._i(e.config.maxBitRate,null)>-1:e.config.maxBitRate},on:{change:[function(t){var i=e.config.maxBitRate,s=t.target,n=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&e.$set(e.config,"maxBitRate",i.concat([null])):o>-1&&e.$set(e.config,"maxBitRate",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.config,"maxBitRate",n)},function(t){return e.upConfig()}]}})]),t("div",[e._v(" m3u8Repo:"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.m3u8Repo,expression:"config.m3u8Repo"}],domProps:{value:e.config.m3u8Repo},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"m3u8Repo",t.target.value)}}})])])])])}),[],!1,null,"85a90616",null)).exports;i("141b");var ne={data:()=>({ver:"v250216.1",zIndex:(new Date).getTime(),error:"",errorUrl:"",showTimer:!1,pauseTimer:0,pauseTimerTimer:0,endTime:"",showInputToken:0,token:"",tokenMessage:"",wlargeh:0}),filters:{fmtDate:e=>e?e.getHours()+":"+e.getMinutes()+":"+e.getSeconds():""},components:{Editor:r,HelloWorld:c.a,NewWordsR:g,MediaPlayer:B,Setting:se,News:K,News2:Q,CurWords:G,TopTool:te},mounted(){this.setTheme(this.config.theme);const e=()=>{const e=document.documentElement;e.style.setProperty("--doc-height",window.innerHeight+"px"),setTimeout(()=>{e.style.setProperty("--doc-height",window.innerHeight+"px"),self.wlargeh=window.innerWidth>window.innerHeight},200)};window.addEventListener("resize",e),e(),l.a.root=this.$refs.root,u()(this.$refs.rootnav).on("click",()=>{this.clearSelect()});let t,i,s=document;s.addEventListener("touchstart",(function(e){if(1==e.targetTouches.length){var s=e.targetTouches[0];i=t=s.pageX}}),!1),s.addEventListener("touchmove",(function(e){if(1==e.targetTouches.length){var t=e.targetTouches[0];i=t.pageX}}),!1),s.addEventListener("touchend",(function(e){if(Math.abs(i-t)>140){0==Object(v.a)().toString().length&&l.a.$emit("swiper",e,i-t)}}),!1);let n=0,o=e=>{this.$refs.root&&this.showApp&&(this.$refs.root.contains(e.target)||this.$store.commit("setShowApp",!1)),n||(n=1,Object(w.a)())};s.addEventListener("click",o),s.addEventListener("touchend",o),l.a.$on("click",o),this.$refs.play.addEventListener("mouseenter",e=>{this.setCurTab("HelloWorld"),l.a.$emit("play",e)}),this.$refs.play.addEventListener("click",e=>{this.setCurTab("HelloWorld"),l.a.$emit("play",e)}),l.a.$on("error",e=>{this.error=e.error,this.errorUrl=e.errorUrl})},methods:{setTheme(e){"BODY"==this.$refs.app.parentElement.tagName&&(this.$refs.app.parentElement.classList.add(e),this.$refs.app.parentElement.classList.remove("dark"==e?"light":"dark"),document.querySelector("meta[name=theme-color]").content="dark"==e?"#000000":"#BFD9FF",document.querySelector("meta[name=theme-color]").media=`(prefers-color-scheme: ${e})`)},touchMask(){this.$store.commit("setShowSetting",0),this.$store.commit("setShowApp",0),this.updateConfig2({mask:0}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},clearSelect(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},toggleAutoPlay(){l.a.$emit("toggleAutoPlay")},showError(){alert(this.error+":"+this.errorUrl)},changeItemNew(e){this.curItem.q.trim()&&(this.curItem.n=e.target.checked?1:0,Object(v.c)(null,{cmd:"newWord",content:this.curItem},e=>{this.$store.commit("newWord",e.contents)}))},setCurTab(e){this.$store.commit("setCurTab",e)},enterTab(e,t){let i,s=function(){clearTimeout(i),e.target.removeEventListener("mouseout",s)};e.target.addEventListener("mouseout",s),i=setTimeout(()=>{this.setCurTab(t)},200)},submitToken(){this.tokenMessage="",Object(v.c)(null,{cmd:"token",content:this.token},e=>{this.tokenMessage=e.message||e.name})}},computed:{...Object(n.b)(["curTab","showApp","curItem","curPlay","loading","showSidebar"])},watch:{"$store.state.config.theme":{handler(e){this.setTheme(e)}},showApp(e){e&&(this.zIndex=(new Date).getTime())},pauseTimer(e){clearTimeout(this.pauseTimerTimer);let t=this,i=parseInt(e);if(i>0){let e=(new Date).getTime();t.endTime=new Date(e+60*i*1e3),this.pauseTimerTimer=setTimeout(()=>{u()("audio,video").each((function(){u()(this)[0].pause()})),Object(v.c)(null,{cmd:"audio",pause:!0},(function(){})),t.pauseTimer=0,t.endTime=""},60*i*1e3)}}}},oe=(i("a08b"),i("45ce"),Object(a.a)(ne,(function(){var e=this,t=e._self._c;return t("div",{ref:"app",staticClass:"mytranslate-extension",class:"fs-"+e.config.fs+" "+e.config.theme+(e.config.hi?" hi":""),attrs:{id:"app"}},[t("Editor"),t("div",{class:{viewMode:e.config.viewMode>0,viewMode2:2==e.config.viewMode,touchstart:e.config2.touchstart,showList:e.config2.showList,showCustCue:e.config.custCue,cueTop:2==e.config.custCue,cueBotton:1==e.config.custCue,pause:!e.config2.playingM,videoUrl:e.config2.videoUrl||e.config.shownews,dockList:e.config.dockList,showPlay:e.config2.showPlay},attrs:{data:e.config.viewMode}},[e.showApp||e.showSidebar||e.config2.mask?t("div",{staticClass:"vt-backdrop backdrop",staticStyle:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",background:"rgba(255, 255, 255, 0.1)",transition:"opacity 0.5s","z-index":"11110"},on:{click:function(t){return t.stopPropagation(),e.touchMask()},mouseup:function(e){e.stopPropagation()},touchend:function(e){e.stopPropagation()}}}):e._e(),e.loading?t("div",{staticClass:"loading"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-spinner"}})],1):e._e(),t("div",{staticStyle:{width:"100%",height:"100%"}},[e.curPlay?t("div",{staticClass:"curPlay"},[t("div",{on:{click:function(t){return e.toggleAutoPlay()}}},[e._v(" "+e._s(e.curPlay.q)+" "),e.curPlay.am?t("b",[e._v(" ["+e._s(e.curPlay.am)+"]")]):e._e(),t("div",[e._v(e._s(e.curPlay.to))])])]):e._e(),t("div",{staticClass:"videoview"},[t("MediaPlayer")],1),e.shownews&&!e.config2.showPlay?t("news2"):e._e(),t("cur-words")],1),t("div",{staticClass:"sidebarsetting",class:{open:e.showSidebar}},[t("div",{staticClass:"container",staticStyle:{margin:"5px","user-select":"none",display:"flex","justify-content":"space-between","line-height":"2em"}},[t("a",{staticClass:"barTitle",staticStyle:{"font-weight":"bold","font-size":"1.5em"},on:{click:e.toggleSetting}},[t("span",{staticStyle:{color:"blue"}},[e._v("abc")]),t("span",{staticStyle:{color:"red"}},[e._v("Wo")])]),t("div",{staticClass:"content"},[t("span",{staticClass:"ver"},[e._v(" "+e._s(e.ver))])])]),t("Setting",{staticStyle:{"background-color":"gray"}}),e.error?t("div",{staticClass:"error"},[t("div",[e._v(e._s(e.error))]),t("div",[t("a",{attrs:{target:"_blank",href:e.errorUrl}},[e._v(e._s(e.errorUrl))])])]):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showApp,expression:"showApp"}],ref:"root",style:{zIndex:e.zIndex},attrs:{id:"root_1"}},[t("div",{ref:"rootnav",attrs:{id:"nav"}},[t("div",{staticStyle:{display:"inline-block"}},[t("input",{attrs:{type:"checkbox",value:"true"},domProps:{checked:e.curItem.n},on:{mouseup:function(e){e.stopPropagation()},change:function(t){return e.changeItemNew(t)}}}),t("font-awesome-icon",{ref:"play",class:{active:"HelloWorld"==e.curTab},attrs:{icon:e.config.autoSound?"volume-high":"volume-off","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),e._v("  "),t("span",{class:{active:"HelloWorld"==e.curTab},on:{click:function(t){return e.setCurTab("HelloWorld")},mouseenter:function(t){return e.enterTab(t,"HelloWorld")}}},[e._v("Detail")]),e._v(" | "),t("span",{class:{active:"NewWordsR"==e.curTab},on:{click:function(t){return e.setCurTab("NewWordsR")},mouseenter:function(t){return e.enterTab(t,"NewWordsR")}}},[e._v("Word")]),e._v(" | "),e.error?t("span",{staticStyle:{color:"red"},on:{click:function(t){return e.showError()}}},[e._v("Error")]):e._e()],1),t("input",{staticStyle:{position:"absolute",right:"3px"},attrs:{type:"checkbox",value:"true"},domProps:{checked:e.curItem.n},on:{mouseup:function(e){e.stopPropagation()},change:function(t){return e.changeItemNew(t)}}})]),t("div",[t("keep-alive",[t(e.curTab,{key:e.curTab,tag:"component",attrs:{play:"$refs.play"}})],1)],1)])]),t("top-tool")],1)}),[],!1,null,"7a0e667e",null)).exports;s.a.use(n.a);let ae={};var re=new n.a.Store({state:{loading:0,curPlay:null,srcText:"",tranText:"",audioUrl:"",curTab:"HelloWorld",newword:"",showApp:0,showSidebar:0,hkdcny:{now:"",p:""},nextUrl:"",config2:{title:"",dev:0,showPlay:!1,mask:0,showList:0,touchstart:0,playing:0,touchCustCue:0,playingM:0,videoUrl:"",playList:[],playIndex:-1,mediaType:0,mediaTypeText:""},config:{audioRead:0,theme:"dark",fontSize:100,m3u8Repo:"",maxBitRate:0,waitTimes:2,playerNum:3,backplay:0,editor:0,playbackrate:1,custCue:0,seeCurWords:0,maxTranLen:300,viewMode:0,loopCount:3,isLoop:0,isAudio:1,fs:2,hi:0,follow:0,followCnt:1,keepNewsCount:50,autoRefresh:0,tranUrl:"",cacheMode:0,lastclean:0,retains:200,activeTran:1,shownews:0,showvideos:0,showwords:0,autoSound:"",mj:0,preload:0,dict:0,relwords:0,timeoutnext:0,audioCacheNum:1,dockList:0,rsss:[],urls:{}},curItem:{q:"",to:"",n:0,dt:0,am:"",en:"",parts:[],error:"",errorUrl:"",src:"",tos:[]},words:[],curWords:[],videos:[]},mutations:{curPlay(e,t){e.curPlay=t},setSrcText(e,t){e.srcText=t},setTranText(e,t){e.tranText=t},setAudioUrl(e,t){e.audioUrl=t},setCurTab(e,t){e.curTab=t},setNewword(e,t){e.newword=t},setShowApp(e,t){e.showApp=t},setShowSetting(e,t){e.showSidebar=t},setLoading(e,t){e.loading=t},setCurItem(e,t){e.curItem=t},setCurItem2(e,t){e.curItem=t},words(e,t){e.words=t},nextUrl(e,t){e.nextUrl=t},add2CurWords(e,[t,i]){i&&(e.curWords.length=0,ae={},e.config.seeCurWords&&(e.config.seeCurWords+=1));for(let i of t)ae[i.q]||(ae[i.q]=1,e.curWords.push(i))},videos(e,t){let i=+new Date-6048e5,s=sessionStorage;if(s.doneVideoMap){let e=JSON.parse(s.doneVideoMap);for(let t in e)e[t]<i&&delete e[t];if(s.doneVideoMap=JSON.stringify(e),t){for(let i of t.filter(e=>!e._d))i._d=e[i.vid]||0;t.filter(e=>!e._c&&(e._c=0))}}e.videos=t},news(e,t){e.news=t},config(e,t){e.config=Object.assign({},e.config,t)},config2(e,t){e.config2=Object.assign({},e.config2,t)},newWord(e,t){let i=-1;for(let s=0;s<e.words.length;s++)if(e.words[s].q==t.q){i=s;break}if(i>-1&&e.words.splice(i,1),e.words.unshift(t),l.a.$emit("newWord",t),e.config.fzWords>0){let t=0;for(let i=0;i<e.words.length&&i<=e.config.fzWords+5;i++)e.words[i].n&&t++;t>=e.config.fzWords&&l.a.$emit("fresh","words",1)}}},actions:{},modules:{},getters:{showNews:e=>e.config.showNews}}),ce=i("487a"),le=i.n(ce),de=i("be33"),ue=i("11ca"),he=i("2753"),pe=i("4ab5");var fe={data:()=>({}),methods:{isFullscreen:()=>document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,exitFullscreen(){this.isFullscreen()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())},enterFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},emit(e){l.a.$emit(e)},updateConfig(e){Object(v.c)(null,{cmd:"setConfig",content:Object.assign(this.config,e)},()=>{this.$store.commit("config",this.config)})},updateConfig2(e){this.$store.commit("config2",Object.assign(this.config2,e))},toggleSetting(){this.$store.commit("setShowSetting",!this.showSidebar)},playSound:(e,t,i="en")=>Object(w.e)(e,t,i),sleep:async e=>new Promise(t=>{setTimeout(t,e)}),toggleItemIsNew(e,t){return e.n=e.n>0?0:1,e.i=e.n?0:e.i,this.changeItemNew(e),t&&t.stopPropagation(),!1},changeItemNew(e){e.q.trim()&&Object(v.c)(null,{cmd:"newWord",content:e},e=>{this.$store.commit("newWord",e.contents)})},scroll2el(e,t){let i=e.offset().top+t[0].scrollTop-t.offset().top-t.height()+e.outerHeight();window.cancelAnimationFrame(window.requestAnimationFrame1),window.requestAnimationFrame1=window.requestAnimationFrame(()=>{u()(t).animate({scrollTop:i},500)})},async saveCache(e,t){let i="cache/"+e,s=JSON.stringify(t);s=Object(X.d)(s),"videos"==e?localStorage[e]=s:sessionStorage[i]=s},delCache:async e=>fetch("cache/"+e,{method:"PUT",headers:{delete:1}}).then(e=>e.json()),loadCache:async e=>Object(w.d)(e)},computed:{...Object(n.b)(["showSidebar"]),config(){return this.$store.state.config},dockList(){return this.$store.state.config.dockList},shownews(){return this.$store.state.config.shownews},config2(){return this.$store.state.config2}}},ge=(i("6519"),i("ad3d"));de.c.add(ue.a,he.a,pe.a),s.a.component("font-awesome-icon",ge.a),s.a.component("font-awesome-layers",ge.b),s.a.component("font-awesome-layers-text",ge.c),s.a.prototype.$http=T.a,s.a.prototype.$storejs=T.a,s.a.use(le.a),s.a.mixin(fe),new s.a({store:re,render:e=>e(oe)}).$mount("#mytranslate_app")},"5fe8":function(e,t,i){},"60e0":function(e,t,i){"use strict";i("4fd3")},6519:function(e,t){!function(){for(var e=0,t=["webkit","moz"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),s=Math.max(0,16.7-(i-e)),n=window.setTimeout((function(){t(i+s)}),s);return e=i+s,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},6686:function(e,t,i){"use strict";i("4cc6")},"6b63":function(e,t,i){e.exports=i.p+"media/silence.mp3"},"8f09":function(e,t,i){"use strict";i("bf54")},a08b:function(e,t,i){"use strict";i("27fc")},a2ff:function(e,t,i){"use strict";i("e04b")},a43e:function(e,t,i){"use strict";i("afb5")},a885:function(e,t,i){"use strict";i("ff12")},afb5:function(e,t,i){},b41d:function(e,t,i){},b929:function(e,t,i){},bbc4:function(e,t,i){},bf54:function(e,t,i){},e04b:function(e,t,i){},e681:function(e,t,i){"use strict";i("5fe8")},ff12:function(e,t,i){}});