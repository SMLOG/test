(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["chunk-common"],{

/***/ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/HelloWorld.vue?vue&type=script&lang=js&":
/*!*******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/HelloWorld.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(browser) {/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ \"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\");\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ \"./node_modules/core-js/modules/es.string.trim.js\");\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ \"./node_modules/core-js/modules/es.string.replace.js\");\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"./node_modules/core-js/modules/es.regexp.to-string.js\");\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.regexp.test.js */ \"./node_modules/core-js/modules/es.regexp.test.js\");\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.find.js */ \"./node_modules/core-js/modules/es.array.find.js\");\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vuex */ \"./node_modules/vuex/dist/vuex.esm.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _bus__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/bus */ \"./src/bus.js\");\n/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/service */ \"./src/service.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar timer;\n\n\n\n\nwindow.notinchromeextend = true;\nwindow.$ = jquery__WEBPACK_IMPORTED_MODULE_13___default.a;\nvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      list: []\n    };\n  },\n  created: function created() {},\n  methods: {\n    selectItem: function selectItem(item) {\n      var _this = this;\n\n      this.curItem.to = item.to;\n      this.curItem.n = !this.curItem.n;\n      this.$store.commit(\"setCurItem\", this.curItem);\n      Object(_service__WEBPACK_IMPORTED_MODULE_15__[\"service\"])(null, {\n        cmd: \"newWord\",\n        content: this.curItem\n      }, function (resp) {\n        // this.$store.commit(\"setCurItem\", resp.contents);\n        if (resp) {\n          _this.$store.commit(\"newWord\", resp.contents);\n        }\n      });\n    },\n    updateItem: function updateItem() {\n      this.curItem.n = !this.curItem.n;\n      this.changeItemNew(this.curItem);\n    },\n    sendMessage: function sendMessage(tab, params, resp) {\n      Object(_service__WEBPACK_IMPORTED_MODULE_15__[\"service\"])(tab, params, resp);\n    },\n    updatePos: function updatePos() {\n      var _this2 = this;\n\n      var root = jquery__WEBPACK_IMPORTED_MODULE_13___default()(_bus__WEBPACK_IMPORTED_MODULE_14__[\"default\"].root);\n\n      try {\n        var r = window.getSelection ? window.getSelection().getRangeAt(0) : document.selection && document.selection.createRange();\n        var s = r.getBoundingClientRect();\n        var left = isMobile ? 0 : (s.left + s.right) / 2 + jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scrollLeft() - 20;\n        var top = s.bottom + jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scrollTop() + 8;\n        left = Math.max(0, left);\n        top = Math.max(0, top);\n        root.css({\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: \"auto\"\n        });\n        console.log(\"error....\");\n        setTimeout(function () {\n          console.log(root.offset().left + root.outerWidth(), jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).width());\n          var reachRight = left + root.offset().left + root.outerWidth() >= jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).width(); //let reachBottom =\n          //   root.offset().top + root.outerHeight() >= $(window).height();\n\n          var reachBottom = top + root.offset().top + root.outerHeight() >= jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).height() + jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scrollTop();\n\n          if (reachRight || reachBottom) {\n            top = reachBottom ? jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).height() + jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scrollTop() - root.outerHeight() : top;\n            root.css({\n              top: top,\n              left: reachRight ? \"auto\" : left,\n              right: reachRight ? 0 : \"auto\"\n            });\n          } else {\n            root.css({\n              position: \"absolute\",\n              top: top,\n              left: left,\n              right: \"auto\"\n            });\n          }\n\n          if (_this2.config.viewMode > -1) {\n            root.css({\n              top: 0\n            });\n          }\n        }, 100);\n      } catch (ee) {\n        root.css({\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          right: \"auto\"\n        });\n      }\n\n      console.log(\"viewmod\");\n\n      if (this.config.viewMode) {\n        root.css({\n          top: 0,\n          position: \"absolute\"\n        });\n      } //this.clearSelect();\n\n    },\n    clearSelect: function clearSelect() {\n      if (window.getSelection) {\n        if (window.getSelection().empty) {\n          // Chrome\n          window.getSelection().empty();\n        } else if (window.getSelection().removeAllRanges) {\n          // Firefox\n          window.getSelection().removeAllRanges();\n        }\n      } else if (document.selection) {\n        // IE?\n        document.selection.empty();\n      }\n    },\n    playSound: function playSound(item, wait, speeker) {\n      var _this3 = this;\n\n      var self = this;\n      return new Promise(function (resolve) {\n        clearTimeout(timer);\n        if (!self.autoSound) resolve();else timer = setTimeout(function () {\n          _this3.sendMessage(null, {\n            cmd: \"audio\",\n            content: item.q,\n            wait: wait,\n            speeker: speeker\n          }, function (response) {\n            console.log(response);\n            if (response) resolve();\n          });\n        }, 100);\n      });\n    },\n    onEnterPlay: function onEnterPlay(event, item) {\n      var _this4 = this;\n\n      Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var self, stop, target, handle, i;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                self = _this4;\n                stop = false;\n\n                if (event) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 4:\n                target = event.target;\n\n                handle = function handle() {\n                  console.log(\"stop\");\n                  stop = true;\n                  target && event.target.removeEventListener(\"mouseleave\", handle);\n                };\n\n                if (target) {\n                  event.target.addEventListener(\"mouseleave\", handle);\n                  console.log(target);\n                }\n\n                i = 0;\n\n              case 8:\n                if (!(i < 100)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                console.log(stop);\n                console.log(stop);\n\n                if (!stop) {\n                  _context.next = 13;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 13:\n                console.log(stop);\n                _context.next = 16;\n                return self.playSound(item, true);\n\n              case 16:\n                i++;\n                _context.next = 8;\n                break;\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    goto: function goto(src, item) {\n      var url;\n      var en = encodeURIComponent(item.q);\n\n      if (src == \"G\") {\n        url = \"https://translate.google.cn/?sl=en&tl=zh-CN&text=\".concat(en, \"&op=translate\"), \"google\";\n      } else if (src == \"BD\") {\n        url = \"https://fanyi.baidu.com/#/en/zh/\".concat(en);\n      } else {\n        url = \"http://www.iciba.com/word?w=\".concat(en);\n      }\n\n      window.open(url);\n    },\n    getExist: function getExist(text) {\n      var words = this.words;\n      var q = text.toLowerCase().trim();\n\n      for (var j = 0; j < words.length; j++) {\n        if (words[j].q == q) {\n          return words[j];\n        }\n      }\n\n      return {\n        n: false\n      };\n    },\n    tran: function tran() {\n      var _this5 = this;\n\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        var text = Object(_service__WEBPACK_IMPORTED_MODULE_15__[\"GetSelectedText\"])().toString().replace(/[\\r\\n]/g, \" \").replace(/\\s+/g, \" \").trim();\n        if (!text || text.length == 0 || text.length > _this5.config.maxTranLen) return;\n        var chars = text.trim();\n        if (/\\/\\/:/.test(text)) return;\n        /*else if( /[\\u4e00-\\u9fa5]/.test(text)){\n         }*/\n\n        if (text.length > _this5.config.maxTranLen) {\n          text = text.substring(0, _this5.config.maxTranLen);\n        }\n\n        _this5.$store.commit(\"setShowApp\", true); // this.updatePos();\n\n\n        var vue = _this5;\n\n        var item = _this5.getExist(text);\n\n        item = Object.assign({\n          q: text,\n          dt: new Date().getTime(),\n          am: \"\",\n          en: \"\",\n          to: \"\",\n          _toList: [],\n          errorUrl: \"\"\n        }, _this5.getExist(text));\n\n        _this5.$store.commit(\"setCurTab\", \"HelloWorld\");\n\n        _this5.$store.commit(\"setCurItem\", item);\n\n        if (chars.length > 1) {\n          _this5.sendMessage(null, {\n            cmd: \"translate\",\n            content: item,\n            config: vue.config\n          }, function (response) {\n            console.log(response);\n\n            if (response) {\n              if (!item.to && response.length > 0) {\n                var _toList = response.filter(function (e) {\n                  return e.to != undefined;\n                });\n\n                item.to = _toList.length > 0 ? _toList[0].to : \"\";\n              }\n\n              if (!item.en && response.length > 0) {\n                var _toList2 = response.filter(function (e) {\n                  return e.en != undefined;\n                });\n\n                item.en = _toList2.length > 0 ? _toList2[0].en : \"\";\n                item.am = _toList2.length > 0 ? _toList2[0].am : \"\";\n              }\n\n              item._toList = response;\n              console.log(response);\n              vue.$store.commit(\"setCurItem\", item);\n              console.log(item);\n            }\n          });\n\n          console.log(\"play sound\");\n          vue.playSound(item);\n        }\n      }, 500);\n    }\n  },\n  mounted: function mounted() {\n    var _this6 = this;\n\n    var self = this; // $(document).on(\"click\", \".newWord\", function () {\n    // self.playSound({ q: $(\".newWorda\", this).text() });\n    // });\n\n    jquery__WEBPACK_IMPORTED_MODULE_13___default()(document).on(isMobile ? \"click\" : \"mouseenter\", \".newWord\", function () {\n      self.playSound({\n        q: jquery__WEBPACK_IMPORTED_MODULE_13___default()(\".newWorda\", this).text()\n      });\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_13___default()(document).on(\"click\", \".newWord\", function () {\n      jquery__WEBPACK_IMPORTED_MODULE_13___default()(this).find(\".newWordb\").toggle();\n    });\n    Object(_service__WEBPACK_IMPORTED_MODULE_15__[\"transHtml\"])();\n    document.addEventListener(\"keydown\", function (event) {\n      console.log(event);\n\n      if (event.key == \"Control\") {\n        if (jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"html > head #newwordHl\").length > 0) {\n          jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"html > head #newwordHl\").remove();\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"html > head\").append(jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"<style id=\\\"newwordHl\\\" type = \\\"text/css\\\">\\n      .newWordb{   display:none;}\\n      </style>\"));\n        } //  this.tran();\n\n      }\n    });\n\n    if (isMobile) {\n      var t = 0;\n      jquery__WEBPACK_IMPORTED_MODULE_13___default()(document).on(\"click\", function () {\n        if (new Date().getTime() - t < 300) {\n          if (jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"html > head #newwordHl\").length > 0) {\n            jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"html > head #newwordHl\").remove();\n          } else {\n            jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"html > head\").append(jquery__WEBPACK_IMPORTED_MODULE_13___default()(\"<style id=\\\"newwordHl\\\" type = \\\"text/css\\\">\\n      .newWordb{   display:none;}\\n      </style>\"));\n          }\n        }\n\n        t = new Date().getTime();\n      });\n    }\n\n    document.addEventListener(\"mouseup\", function () {\n      console.log(\"mouseup\");\n      setTimeout(function () {\n        if (_this6.config.activeTran) _this6.tran();\n      }, 10);\n    });\n    document.addEventListener(\"touchend\", function () {\n      _this6.tran();\n    });\n    _bus__WEBPACK_IMPORTED_MODULE_14__[\"default\"].$on(\"play\", function (event) {\n      console.log(event);\n\n      _this6.onEnterPlay(event, _this6.curItem);\n    });\n    var lastTime = 0;\n    document.addEventListener(\"keyup\", function (event) {\n      console.log(event);\n\n      if (event.key == \"Control\") {\n        if (new Date().getTime() - lastTime < 500) {\n          _this6.$store.commit(\"config\", Object.assign({}, _this6.config, {\n            activeTran: !_this6.config.activeTran\n          }));\n        }\n\n        lastTime = new Date().getTime();\n      } else {\n        lastTime = 0;\n      }\n    });\n  },\n  computed: Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, Object(vuex__WEBPACK_IMPORTED_MODULE_12__[\"mapState\"])([\"curItem\", \"words\", \"showApp\"])), {}, {\n    autoSound: function autoSound() {\n      return this.$store.state.config.autoSound;\n    },\n    defaultText: function defaultText() {\n      return browser.i18n.getMessage(\"extName\");\n    },\n    _toList: function _toList() {\n      return this.curItem._toList && this.curItem._toList.filter ? this.curItem._toList.filter(function (e) {\n        return e.to;\n      }) : [];\n    }\n  }),\n  watch: {\n    showApp: function showApp() {\n      this.updatePos();\n    }\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! webextension-polyfill */ \"./node_modules/webextension-polyfill/dist/browser-polyfill.js\")))\n\n//# sourceURL=webpack:///./src/components/HelloWorld.vue?./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"e0841964-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/HelloWorld.vue?vue&type=template&id=469af010&scoped=true&":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"e0841964-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/HelloWorld.vue?vue&type=template&id=469af010&scoped=true& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { ref: \"hello\", staticStyle: { padding: \"5px\" } }, [\n    _c(\n      \"div\",\n      { staticClass: \"wrap\" },\n      [\n        _c(\n          \"div\",\n          { staticClass: \"row\", staticStyle: { display: \"inline-block\" } },\n          [\n            _vm._v(\" \" + _vm._s(_vm.curItem.q) + \" \"),\n            _vm.curItem.am\n              ? _c(\"b\", [_vm._v(\" [\" + _vm._s(_vm.curItem.am) + \"]\")])\n              : _vm._e(),\n            _vm.curItem.en != _vm.curItem.am\n              ? _c(\"b\", [_vm._v(\" [\" + _vm._s(_vm.curItem.en) + \"]\")])\n              : _vm._e(),\n            false\n              ? undefined\n              : _vm._e(),\n          ]\n        ),\n        false\n          ? undefined\n          : _vm._e(),\n        _vm._l(_vm._toList, function (to) {\n          return _c(\n            \"div\",\n            {\n              key: to.src,\n              staticClass: \"row\",\n              staticStyle: {\n                display: \"flex\",\n                \"justify-content\": \"space-between\",\n              },\n            },\n            [\n              _c(\n                \"span\",\n                {\n                  staticClass: \"to\",\n                  class: { cur: to.to == _vm.curItem.to },\n                  on: {\n                    click: function ($event) {\n                      $event.preventDefault()\n                      return _vm.selectItem(to)\n                    },\n                  },\n                },\n                [_vm._v(_vm._s(to.to))]\n              ),\n              _c(\n                \"span\",\n                {\n                  staticClass: \"src\",\n                  staticStyle: { color: \"#ccc\" },\n                  on: {\n                    mouseup: function ($event) {\n                      $event.preventDefault()\n                      $event.stopPropagation()\n                      return _vm.playSound(to, 1, to.src)\n                    },\n                    click: function ($event) {\n                      $event.preventDefault()\n                      $event.stopPropagation()\n                      return _vm.playSound(to, 1, to.src)\n                    },\n                  },\n                },\n                [_vm._v(_vm._s(to.src))]\n              ),\n            ]\n          )\n        }),\n        _vm.curItem.error\n          ? _c(\"div\", { staticClass: \"row\" }, [\n              _vm._v(_vm._s(_vm.curItem.error)),\n            ])\n          : _vm._e(),\n        _vm.curItem.errorUrl\n          ? _c(\"div\", { staticClass: \"row\" }, [\n              _c(\n                \"a\",\n                { attrs: { target: \"_blank\", href: _vm.curItem.errorUrl } },\n                [_vm._v(_vm._s(_vm.curItem.errorUrl))]\n              ),\n            ])\n          : _vm._e(),\n      ],\n      2\n    ),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack:///./src/components/HelloWorld.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22e0841964-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--7-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n    if(false) { var cssReload; }\n  \n\n//# sourceURL=webpack:///./src/components/HelloWorld.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--7-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./src/HtmlTrans.js":
/*!**************************!*\
  !*** ./src/HtmlTrans.js ***!
  \**************************/
/*! exports provided: htmlTrans, htmlTrans2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"htmlTrans\", function() { return htmlTrans; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"htmlTrans2\", function() { return htmlTrans2; });\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ \"./node_modules/core-js/modules/es.array.sort.js\");\n/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ \"./node_modules/core-js/modules/es.array.join.js\");\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ \"./node_modules/core-js/modules/es.array.slice.js\");\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ \"./node_modules/core-js/modules/es.string.split.js\");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nfunction htmlTrans(dict, str) {\n  return htmlTrans2(dict, str)[0];\n}\nfunction htmlTrans2(dict, str) {\n  //let str = q + \" \";\n  var dictMap = dict.reduce(function (map, cur) {\n    if (cur.n) map[cur.q] = cur;\n    return map;\n  }, {});\n  var keys = dict.reduce(function (prev, cur) {\n    if (cur.n) prev.push(cur.q.toLowerCase());\n    return prev;\n  }, []).sort();\n\n  var inKey = function inKey(string) {\n    var ls = string.toLowerCase();\n\n    for (var i = 0; i < keys.length; i++) {\n      if (keys[i] == ls) return true;\n    }\n\n    return false;\n  };\n\n  var curWords = [];\n\n  var template = function template(q, to) {\n    curWords.push(dictMap[to]);\n    return \"<em class=\\\"newWord\\\"><i class=\\\"newWorda\\\">\".concat(q, \"</i><u class=\\\"newWordb\\\">\").concat(dictMap[to].to, \" <b class=\\\"newWordc\\\">\").concat(dictMap[to].am ? \"[\" + dictMap[to].am + \"]\" : \"\", \"</b></u></em>\");\n  };\n\n  var startKey = function startKey(string) {\n    var ls = string.toLowerCase();\n\n    for (var i = 0; i < keys.length; i++) {\n      if (keys[i].indexOf(ls) == 0) return true;\n    }\n\n    return false;\n  };\n\n  var sp = [];\n  var s;\n\n  for (var i = 0, j = 0; i < str.length;) {\n    var c = str[i];\n\n    switch (c) {\n      case \" \":\n        if (j < i) {\n          s = str.substring(j, i);\n          sp.push(s);\n          j = i;\n        }\n\n        while (str[++i] == \" \") {\n          ;\n        }\n\n        s = str.substring(j, i);\n        sp.push(s);\n        j = i;\n        break;\n\n      case \"<\":\n        if (j < i) {\n          s = str.substring(j, i);\n          sp.push(s);\n          j = i;\n        }\n\n        while (str[++i] != \">\") {\n          ;\n        }\n\n        s = str.substring(j, ++i);\n        sp.push(s);\n        j = i;\n        break;\n\n      default:\n        if (!(c >= \"a\" && c <= \"z\" || c >= \"A\" && c <= \"Z\" || c == \"-\")) {\n          if (j < i) {\n            s = str.substring(j, i);\n            sp.push(s);\n            j = i;\n          }\n\n          sp.push(c);\n          j = ++i;\n        } else i++;\n\n    }\n  }\n\n  if (j <= str.length - 1) {\n    s = str.substring(j, str.length);\n    sp.push(s);\n  }\n\n  var sps = sp;\n  var cons = [];\n\n  for (var _i = 0; _i < sps.length;) {\n    var _j = void 0,\n        k = void 0;\n\n    var sub = void 0;\n\n    for (_j = _i + 1, k = _i; _j <= sps.length;) {\n      sub = sps.slice(_i, _j).filter(function (e) {\n        return e.indexOf(\"<\") == -1;\n      }).join(\"\");\n\n      if (startKey(sub)) {\n        if (inKey(sub)) {\n          k = _j;\n        }\n\n        ++_j;\n        continue;\n      } else break;\n    }\n\n    if (k > _i) {\n      //get it\n      sub = sps.slice(_i, k).filter(function (e) {\n        return e.indexOf(\"<\") == -1;\n      }).join(\"\").toLowerCase(); // cons.push(\"{{\");\n\n      var html = sps.slice(_i, k).join(\"\");\n      var hsp = html.split(\">\");\n\n      if (hsp.length % 2 == 0) {\n        if (hsp[0].indexOf(\"<\") > -1) {\n          var temp = hsp.shift();\n\n          var _c = hsp.join(\">\");\n\n          cons.push(\"\".concat(temp, \">\").concat(template(_c, sub)));\n        } else {\n          var _temp = hsp.pop();\n\n          _temp = hsp.pop();\n\n          var _c2 = hsp.join(\">\");\n\n          cons.push(\"\".concat(template(_c2, sub)).concat(_temp, \">\"));\n        }\n      } else {\n        if (dictMap[sub] == undefined) {\n          console.log(sub);\n        }\n\n        cons.push(\"\".concat(template(html, sub)));\n      } //cons.push(html + dictMap[sub].to);\n      // cons.push(\"}}\");\n\n\n      _i = k;\n    } else {\n      cons.push(sps.slice(_i, _i + 1).join(\"\"));\n      _i++;\n    }\n  } // console.log(cons.join(\"\\n\"));\n\n\n  return [cons.join(\"\"), curWords];\n}\n/**\n * var str =\n  \"After shooting up 76% in 2020, Amazon's stock is up just 6% this year, compared to a nearly 26% rise in the S&amp;P 500. Supply chain problems and pay hikes to recruit and retain workers have eaten into Amazon's profits despite the ongoing boom in online shopping.\";\n\nvar dict = [\n  { q: \"ongoing\", to: \"不间断的\" },\n  { q: \"boom\", to: \"繁荣\" },\n  { q: \"morning\", to: \"早上\" },\n  { q: \"good morning\", to: \"早上好\" },\n];\n */\n//htmlTrans(dict, str);\n\n//# sourceURL=webpack:///./src/HtmlTrans.js?");

/***/ }),

/***/ "./src/bus.js":
/*!********************!*\
  !*** ./src/bus.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.runtime.esm.js\");\n\nvar bus = new vue__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n/* harmony default export */ __webpack_exports__[\"default\"] = (bus);\n\n//# sourceURL=webpack:///./src/bus.js?");

/***/ }),

/***/ "./src/components/HelloWorld.vue":
/*!***************************************!*\
  !*** ./src/components/HelloWorld.vue ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _HelloWorld_vue_vue_type_template_id_469af010_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HelloWorld.vue?vue&type=template&id=469af010&scoped=true& */ \"./src/components/HelloWorld.vue?vue&type=template&id=469af010&scoped=true&\");\n/* harmony import */ var _HelloWorld_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HelloWorld.vue?vue&type=script&lang=js& */ \"./src/components/HelloWorld.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport *//* harmony import */ var _HelloWorld_vue_vue_type_style_index_0_id_469af010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css& */ \"./src/components/HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css&\");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(\n  _HelloWorld_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _HelloWorld_vue_vue_type_template_id_469af010_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _HelloWorld_vue_vue_type_template_id_469af010_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  \"469af010\",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"src/components/HelloWorld.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=webpack:///./src/components/HelloWorld.vue?");

/***/ }),

/***/ "./src/components/HelloWorld.vue?vue&type=script&lang=js&":
/*!****************************************************************!*\
  !*** ./src/components/HelloWorld.vue?vue&type=script&lang=js& ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_13_0_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js& */ \"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/HelloWorld.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_cache_loader_dist_cjs_js_ref_13_0_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n//# sourceURL=webpack:///./src/components/HelloWorld.vue?");

/***/ }),

/***/ "./src/components/HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css&":
/*!************************************************************************************************!*\
  !*** ./src/components/HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css& ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_style_index_0_id_469af010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib??vue-loader-options!./HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css& */ \"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/HelloWorld.vue?vue&type=style&index=0&id=469af010&scoped=true&lang=css&\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_style_index_0_id_469af010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_style_index_0_id_469af010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_style_index_0_id_469af010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if([\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_style_index_0_id_469af010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\n\n//# sourceURL=webpack:///./src/components/HelloWorld.vue?");

/***/ }),

/***/ "./src/components/HelloWorld.vue?vue&type=template&id=469af010&scoped=true&":
/*!**********************************************************************************!*\
  !*** ./src/components/HelloWorld.vue?vue&type=template&id=469af010&scoped=true& ***!
  \**********************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_e0841964_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_template_id_469af010_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"e0841964-vue-loader-template\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib??vue-loader-options!./HelloWorld.vue?vue&type=template&id=469af010&scoped=true& */ \"./node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e0841964-vue-loader-template\\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/HelloWorld.vue?vue&type=template&id=469af010&scoped=true&\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_e0841964_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_template_id_469af010_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_e0841964_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_template_id_469af010_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n//# sourceURL=webpack:///./src/components/HelloWorld.vue?");

/***/ }),

/***/ "./src/compress.js":
/*!*************************!*\
  !*** ./src/compress.js ***!
  \*************************/
/*! exports provided: encode, decode, decode2, decodeStr */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"encode\", function() { return encode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decode\", function() { return decode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decode2\", function() { return decode2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decodeStr\", function() { return decodeStr; });\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.typed-array.uint8-array.js */ \"./node_modules/core-js/modules/es.typed-array.uint8-array.js\");\n/* harmony import */ var core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.typed-array.at.js */ \"./node_modules/core-js/modules/es.typed-array.at.js\");\n/* harmony import */ var core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.typed-array.copy-within.js */ \"./node_modules/core-js/modules/es.typed-array.copy-within.js\");\n/* harmony import */ var core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.typed-array.every.js */ \"./node_modules/core-js/modules/es.typed-array.every.js\");\n/* harmony import */ var core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.typed-array.fill.js */ \"./node_modules/core-js/modules/es.typed-array.fill.js\");\n/* harmony import */ var core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.typed-array.filter.js */ \"./node_modules/core-js/modules/es.typed-array.filter.js\");\n/* harmony import */ var core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.typed-array.find.js */ \"./node_modules/core-js/modules/es.typed-array.find.js\");\n/* harmony import */ var core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.typed-array.find-index.js */ \"./node_modules/core-js/modules/es.typed-array.find-index.js\");\n/* harmony import */ var core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.typed-array.for-each.js */ \"./node_modules/core-js/modules/es.typed-array.for-each.js\");\n/* harmony import */ var core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.typed-array.includes.js */ \"./node_modules/core-js/modules/es.typed-array.includes.js\");\n/* harmony import */ var core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.typed-array.index-of.js */ \"./node_modules/core-js/modules/es.typed-array.index-of.js\");\n/* harmony import */ var core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.typed-array.iterator.js */ \"./node_modules/core-js/modules/es.typed-array.iterator.js\");\n/* harmony import */ var core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.typed-array.join.js */ \"./node_modules/core-js/modules/es.typed-array.join.js\");\n/* harmony import */ var core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.typed-array.last-index-of.js */ \"./node_modules/core-js/modules/es.typed-array.last-index-of.js\");\n/* harmony import */ var core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.typed-array.map.js */ \"./node_modules/core-js/modules/es.typed-array.map.js\");\n/* harmony import */ var core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.typed-array.reduce.js */ \"./node_modules/core-js/modules/es.typed-array.reduce.js\");\n/* harmony import */ var core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/es.typed-array.reduce-right.js */ \"./node_modules/core-js/modules/es.typed-array.reduce-right.js\");\n/* harmony import */ var core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.typed-array.reverse.js */ \"./node_modules/core-js/modules/es.typed-array.reverse.js\");\n/* harmony import */ var core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! core-js/modules/es.typed-array.set.js */ \"./node_modules/core-js/modules/es.typed-array.set.js\");\n/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! core-js/modules/es.typed-array.slice.js */ \"./node_modules/core-js/modules/es.typed-array.slice.js\");\n/* harmony import */ var core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! core-js/modules/es.typed-array.some.js */ \"./node_modules/core-js/modules/es.typed-array.some.js\");\n/* harmony import */ var core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! core-js/modules/es.typed-array.sort.js */ \"./node_modules/core-js/modules/es.typed-array.sort.js\");\n/* harmony import */ var core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! core-js/modules/es.typed-array.subarray.js */ \"./node_modules/core-js/modules/es.typed-array.subarray.js\");\n/* harmony import */ var core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-locale-string.js */ \"./node_modules/core-js/modules/es.typed-array.to-locale-string.js\");\n/* harmony import */ var core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-string.js */ \"./node_modules/core-js/modules/es.typed-array.to-string.js\");\n/* harmony import */ var core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_25__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar pako = __webpack_require__(/*! pako */ \"./node_modules/pako/index.js\");\n\nvar uint8base64 = __webpack_require__(/*! byte-base64 */ \"./node_modules/byte-base64/lib.js\");\n\nvar lzma = __webpack_require__(/*! lzma/src/lzma_worker.js */ \"./node_modules/lzma/src/lzma_worker.js\").LZMA_WORKER;\n\nfunction encode(str) {\n  /* let content = btoa(\n       pako.gzip(JSON.stringify(ret._raw), { to: \"string\", level: 9 })\n     )*/\n  var content = lzma.compress(str, 9);\n  content = uint8base64.bytesToBase64(new Uint8Array(content));\n  return content;\n}\nfunction decode(str) {\n  //JSON.parse(pako.ungzip(str, { to: \"string\" }))\n  return JSON.parse(lzma.decompress(uint8base64.base64ToBytes(str)));\n}\nfunction decode2(str) {\n  return JSON.parse(pako.ungzip(str, {\n    to: \"string\"\n  }));\n}\nfunction decodeStr(str) {\n  //JSON.parse(pako.ungzip(str, { to: \"string\" }))\n  return lzma.decompress(uint8base64.base64ToBytes(str));\n}\n\n//# sourceURL=webpack:///./src/compress.js?");

/***/ }),

/***/ "./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! exports provided: getCnnExtra, config, crossOrigs, getVideos, getVideoPromiseList, getAndPrepareNextExtra, getExtra, sources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCnnExtra\", function() { return getCnnExtra; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"config\", function() { return config; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"crossOrigs\", function() { return crossOrigs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getVideos\", function() { return getVideos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getVideoPromiseList\", function() { return getVideoPromiseList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAndPrepareNextExtra\", function() { return getAndPrepareNextExtra; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getExtra\", function() { return getExtra; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sources\", function() { return sources; });\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ \"./node_modules/core-js/modules/es.string.split.js\");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ \"./node_modules/core-js/modules/es.function.name.js\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ \"./node_modules/core-js/modules/es.array.sort.js\");\n/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ \"./node_modules/core-js/modules/es.array.join.js\");\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ \"./node_modules/core-js/modules/es.object.keys.js\");\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.regexp.test.js */ \"./node_modules/core-js/modules/es.regexp.test.js\");\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _bus__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/bus */ \"./src/bus.js\");\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/lib */ \"./src/lib.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar x2js = __webpack_require__(/*! x2js */ \"./node_modules/x2js/x2js.js\");\n\nvar x2jsIns = new x2js();\nfunction getCnnExtra(_x) {\n  return _getCnnExtra.apply(this, arguments);\n}\n\nfunction _getCnnExtra() {\n  _getCnnExtra = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(item) {\n    var mediaBaseUrl, VideoIOBaseUrl, url, resp, mediumId, m3u8, r, deviceType, agent;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!item.url) {\n              _context4.next = 2;\n              break;\n            }\n\n            return _context4.abrupt(\"return\");\n\n          case 2:\n            mediaBaseUrl = \"https://medium.ngtv.io/media/\";\n            VideoIOBaseUrl = \"https://fave.api.cnn.io\";\n            url = VideoIOBaseUrl + \"/v1/video?id=\" + item.vid + \"&customer=cnn&edition=international&env=prod\";\n            _context4.next = 7;\n            return Object(_lib__WEBPACK_IMPORTED_MODULE_16__[\"fetchRequest\"])(url).then(function (resp) {\n              return resp.json();\n            });\n\n          case 7:\n            resp = _context4.sent;\n            mediumId = resp.mediumId;\n            m3u8 = mediaBaseUrl + mediumId + \"?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6ImNubi1jbm4td2ViLTk1am96MCIsIm5ldHdvcmsiOiJjbm4iLCJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJjbm4iLCJpYXQiOjE1MjQ2ODQwMzB9.Uw8riFJwARLjeE35ffMwSa-37RNxCcQUEp2pqwG9TvM\";\n            _context4.next = 12;\n            return Object(_lib__WEBPACK_IMPORTED_MODULE_16__[\"fetchRequest\"])(m3u8).then(function (r) {\n              return r.json();\n            });\n\n          case 12:\n            r = _context4.sent;\n            deviceType = \"\";\n            agent = navigator.userAgent;\n            deviceType = /ipad|tablet/i.test(agent) ? \"tablet\" : /mobile/i.test(agent) ? \"phone\" : \"desktop\";\n\n            if (resp.closedCaptions && resp.closedCaptions.types) {\n              item.cc = resp.closedCaptions.types.filter(function (e) {\n                return e.format == \"webvtt\" && e.track && e.track.url;\n              })[0].track.url;\n            }\n\n            item.url = r.media[deviceType].unprotected.secureUrl;\n            _bus__WEBPACK_IMPORTED_MODULE_15__[\"default\"].$emit(\"video\", item);\n\n          case 19:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getCnnExtra.apply(this, arguments);\n}\n\nvar dtd = function dtd(item) {\n  var m = (item.url || item.vid).match(/\\d{4}\\/\\d{2}\\/\\d{2}/);\n  var d = m && m.length > 0 && m[0];\n  var dt = new Date(d).getTime();\n  item.d = d;\n  item.dt = dt;\n  item.i = 0;\n  return item;\n};\n\nvar config = {\n  crossOrigs: function () {\n    var _crossOrigs = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee(usingCross, url, type) {\n      var en;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              en = encodeURIComponent; //https://json2jsonp.com/\n\n              _context.next = 3;\n              return Object(_lib__WEBPACK_IMPORTED_MODULE_16__[\"fetchRequest\"])(usingCross ? \"https://api.allorigins.win/raw?url=\" + en(url) : url, {\n                method: \"get\",\n                headers: {}\n              }).then(function (response) {\n                return type == \"json\" ? response.json() : response.text();\n              }).then(function (r) {\n                return type == \"xml\" ? x2jsIns.xml2js(r) : r;\n              });\n\n            case 3:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function crossOrigs(_x2, _x3, _x4) {\n      return _crossOrigs.apply(this, arguments);\n    }\n\n    return crossOrigs;\n  }(),\n  mods: {\n    news: {},\n    videos: {\n      m: {\n        cnn: {\n          enable: 1,\n          ext: getCnnExtra,\n          res: [{\n            type: \"xml\",\n            conv: function () {\n              var _conv = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(json, src) {\n                var list, i, e, item;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        list = [];\n\n                        for (i = 0; i < json.videos.video.length; i++) {\n                          e = json.videos.video[i];\n                          item = {\n                            vid: e.id,\n                            title: e.headline,\n                            src: src,\n                            duration: e.duration.split(\":\").map(function (a, b) {\n                              return parseInt(a) * (b == 0 ? 1 : b == 1 ? 60 : 3600);\n                            }).reduce(function (t, i) {\n                              return t + i;\n                            }, 0)\n                          };\n                          list.push(dtd(item));\n                        }\n\n                        return _context2.abrupt(\"return\", list);\n\n                      case 3:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n\n              function conv(_x5, _x6) {\n                return _conv.apply(this, arguments);\n              }\n\n              return conv;\n            }()\n          }, {\n            type: \"json\",\n            conv: function () {\n              var _conv2 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(items, src) {\n                var list, t, i, e, item;\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        list = [];\n                        t = new Date().getTime();\n\n                        for (i = 0; i < items.length; i++) {\n                          e = items[i];\n                          item = {\n                            vid: e.videoId,\n                            title: e.title,\n                            src: src,\n                            t: t\n                          };\n                          list.push(dtd(item));\n                        }\n\n                        return _context3.abrupt(\"return\", list);\n\n                      case 4:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3);\n              }));\n\n              function conv(_x7, _x8) {\n                return _conv2.apply(this, arguments);\n              }\n\n              return conv;\n            }()\n          }]\n        },\n        cbs: {\n          enable: 1,\n          res: [{\n            type: \"json\",\n            crossOrig: 1,\n            conv: function conv(resp, src) {\n              var t = new Date().getTime();\n              return resp.items.filter(function (e) {\n                return e.type == \"vod\" && e.video2;\n              }).map(function (e) {\n                return dtd({\n                  vid: e.id,\n                  url: e.video2,\n                  title: e.fulltitle,\n                  cc: e.captions,\n                  src: src,\n                  t: t,\n                  duration: e.duration\n                });\n              });\n            }\n          }]\n        },\n        msn: {\n          enable: 1,\n          res: [{\n            type: \"json\",\n            crossOrig: 0,\n            conv: function conv(resp, src) {\n              var t = new Date().getTime();\n              return (resp.subCards || resp[0].subCards).filter(function (e) {\n                return e.type == \"video\" && e.provider.name != \"BuzzVideos\";\n              }).map(function (e) {\n                var closedCaptions = e.videoMetadata.closedCaptions;\n                var r = dtd({\n                  vid: e.id,\n                  duration: e.videoMetadata.playTime,\n                  url: e.externalVideoFiles.sort(function (a) {\n                    return a.url.indexOf(\"m3u8\") > -1 ? -1 : 0;\n                  })[0].url,\n                  title: e.title,\n                  cc: closedCaptions && closedCaptions.length && closedCaptions[0].href,\n                  src: src,\n                  org: e.provider && e.provider.name\n                });\n                r.dt = new Date(e.publishedDateTime).getTime();\n                r.t = t;\n                r.d = [new Date(r.dt)].map(function (e) {\n                  return \"\".concat(e.getFullYear(), \"/\").concat(e.getMonth() + 1, \"/\").concat(e.getDate());\n                }).join(\"\");\n                return r;\n              });\n            }\n          }]\n        }\n      }\n    }\n  }\n};\nfunction crossOrigs(_x9, _x10) {\n  return _crossOrigs2.apply(this, arguments);\n}\n\nfunction _crossOrigs2() {\n  _crossOrigs2 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(url, type) {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", config.crossOrigs(1, url, type));\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _crossOrigs2.apply(this, arguments);\n}\n\nfunction getVideos() {\n  return _getVideos.apply(this, arguments);\n}\n\nfunction _getVideos() {\n  _getVideos = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var t, srcs, rVideos, i, src, item, res, j, _item, k, url, resp, ret;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            t = parseInt(new Date().getTime() / 7200000);\n            srcs = Object.keys(config.mods.videos.m);\n            rVideos = [];\n            i = 0;\n\n          case 4:\n            if (!(i < srcs.length)) {\n              _context6.next = 44;\n              break;\n            }\n\n            src = srcs[i];\n            console.error(src);\n\n            if (config.mods.videos.m[src].enable) {\n              _context6.next = 9;\n              break;\n            }\n\n            return _context6.abrupt(\"continue\", 41);\n\n          case 9:\n            item = config.mods.videos.m[src];\n            res = item.res;\n            j = 0;\n\n          case 12:\n            if (!(j < res.length)) {\n              _context6.next = 41;\n              break;\n            }\n\n            _item = res[j];\n            k = 0;\n\n          case 15:\n            if (!(k < _item.urls.length)) {\n              _context6.next = 38;\n              break;\n            }\n\n            _context6.prev = 16;\n            url = _item.urls[k];\n            _context6.next = 20;\n            return config.crossOrigs(_item.crossOrig, url + \"?t=\" + t, _item.type);\n\n          case 20:\n            resp = _context6.sent;\n            _context6.t0 = rVideos.push;\n            _context6.t1 = rVideos;\n            _context6.t2 = _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n            _context6.next = 26;\n            return _item.conv(resp, src);\n\n          case 26:\n            _context6.t3 = _context6.sent;\n            _context6.t4 = (0, _context6.t2)(_context6.t3);\n\n            _context6.t0.apply.call(_context6.t0, _context6.t1, _context6.t4);\n\n            console.error(rVideos);\n            _context6.next = 35;\n            break;\n\n          case 32:\n            _context6.prev = 32;\n            _context6.t5 = _context6[\"catch\"](16);\n            console.error(_context6.t5);\n\n          case 35:\n            k++;\n            _context6.next = 15;\n            break;\n\n          case 38:\n            j++;\n            _context6.next = 12;\n            break;\n\n          case 41:\n            i++;\n            _context6.next = 4;\n            break;\n\n          case 44:\n            ret = [];\n            rVideos.reduce(function (map, item) {\n              if (!map[item.vid]) {\n                map[item.vid] = 1;\n                ret.push(item);\n              }\n\n              return map;\n            }, {});\n            return _context6.abrupt(\"return\", ret);\n\n          case 47:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[16, 32]]);\n  }));\n  return _getVideos.apply(this, arguments);\n}\n\nfunction getVideoPromiseList(_x11) {\n  return _getVideoPromiseList.apply(this, arguments);\n}\n\nfunction _getVideoPromiseList() {\n  _getVideoPromiseList = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(conf) {\n    var t, srcs, pList, _loop, i, _ret;\n\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            t = parseInt(new Date().getTime() / 7200000);\n            srcs = Object.keys(config.mods.videos.m);\n            pList = [];\n\n            _loop = function _loop(i) {\n              var src = srcs[i];\n              console.error(src);\n              if (!config.mods.videos.m[src].enable) return \"continue\";\n              var item = config.mods.videos.m[src];\n              var res = item.res;\n\n              var _loop2 = function _loop2(j) {\n                var urls = conf.urls[src].filter(function (e) {\n                  return e.enable;\n                });\n\n                var _loop3 = function _loop3(k) {\n                  var item = res[urls[k].index ? urls[k].index : 0];\n\n                  try {\n                    pList.push( /*#__PURE__*/Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n                      var url, resp;\n                      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n                        while (1) {\n                          switch (_context7.prev = _context7.next) {\n                            case 0:\n                              url = urls[k].url;\n                              console.log(url);\n                              _context7.next = 4;\n                              return config.crossOrigs(item.crossOrig, url + \"?t=\" + t, item.type);\n\n                            case 4:\n                              resp = _context7.sent;\n                              _context7.next = 7;\n                              return item.conv(resp, src);\n\n                            case 7:\n                              return _context7.abrupt(\"return\", _context7.sent);\n\n                            case 8:\n                            case \"end\":\n                              return _context7.stop();\n                          }\n                        }\n                      }, _callee7);\n                    })));\n                  } catch (e) {\n                    console.error(e);\n                  }\n                };\n\n                for (var k = 0; k < urls.length; k++) {\n                  _loop3(k);\n                }\n              };\n\n              for (var j = 0; j < res.length; j++) {\n                _loop2(j);\n              }\n            };\n\n            i = 0;\n\n          case 5:\n            if (!(i < srcs.length)) {\n              _context8.next = 12;\n              break;\n            }\n\n            _ret = _loop(i);\n\n            if (!(_ret === \"continue\")) {\n              _context8.next = 9;\n              break;\n            }\n\n            return _context8.abrupt(\"continue\", 9);\n\n          case 9:\n            i++;\n            _context8.next = 5;\n            break;\n\n          case 12:\n            return _context8.abrupt(\"return\", pList);\n\n          case 13:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _getVideoPromiseList.apply(this, arguments);\n}\n\nfunction getAndPrepareNextExtra(_x12, _x13, _x14) {\n  return _getAndPrepareNextExtra.apply(this, arguments);\n}\n\nfunction _getAndPrepareNextExtra() {\n  _getAndPrepareNextExtra = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(item, mediaType, nextItem) {\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            console.error(nextItem);\n            console.error(nextItem);\n\n            if (!item.loaded) {\n              _context9.next = 4;\n              break;\n            }\n\n            return _context9.abrupt(\"return\", item);\n\n          case 4:\n            _context9.next = 6;\n            return getExtra(item, mediaType);\n\n          case 6:\n            return _context9.abrupt(\"return\", _context9.sent);\n\n          case 7:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n  return _getAndPrepareNextExtra.apply(this, arguments);\n}\n\nfunction getExtra(_x15, _x16) {\n  return _getExtra.apply(this, arguments);\n}\n\nfunction _getExtra() {\n  _getExtra = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(item, mediaType) {\n    var ext;\n    return regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            if (item) {\n              _context10.next = 2;\n              break;\n            }\n\n            return _context10.abrupt(\"return\");\n\n          case 2:\n            if (!config.mods.videos.m[item.src]) {\n              _context10.next = 10;\n              break;\n            }\n\n            ext = config.mods.videos.m[item.src].ext;\n            _context10.t0 = ext;\n\n            if (!_context10.t0) {\n              _context10.next = 9;\n              break;\n            }\n\n            _context10.next = 8;\n            return ext(item, mediaType);\n\n          case 8:\n            _context10.t0 = _context10.sent;\n\n          case 9:\n            return _context10.abrupt(\"return\", _context10.t0);\n\n          case 10:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _getExtra.apply(this, arguments);\n}\n\nvar sources = Object.keys(config.mods.videos.m);\n\n//# sourceURL=webpack:///./src/config.js?");

/***/ }),

/***/ "./src/lib.js":
/*!********************!*\
  !*** ./src/lib.js ***!
  \********************/
/*! exports provided: cacheAudio, getAAduio, playSound, bgsound, fetchRequest, loadpkoData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cacheAudio\", function() { return cacheAudio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAAduio\", function() { return getAAduio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"playSound\", function() { return playSound; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bgsound\", function() { return bgsound; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchRequest\", function() { return fetchRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadpkoData\", function() { return loadpkoData; });\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ \"./node_modules/core-js/modules/es.array.join.js\");\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ \"./node_modules/core-js/modules/es.string.split.js\");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ \"./node_modules/core-js/modules/es.string.trim.js\");\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ \"./node_modules/core-js/modules/es.string.replace.js\");\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.json.stringify.js */ \"./node_modules/core-js/modules/es.json.stringify.js\");\n/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.error.cause.js */ \"./node_modules/core-js/modules/es.error.cause.js\");\n/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var m3u8_parser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! m3u8-parser */ \"./node_modules/m3u8-parser/dist/m3u8-parser.es.js\");\n/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/service */ \"./src/service.js\");\n/* harmony import */ var _compress__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/compress */ \"./src/compress.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction cacheAudio(_x) {\n  return _cacheAudio.apply(this, arguments);\n}\n\nfunction _cacheAudio() {\n  _cacheAudio = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url) {\n    var lines, i, base, u;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(url).then(function (r) {\n              return r.text();\n            }).then(function (r) {\n              return r.split(/\\n/g);\n            });\n\n          case 2:\n            lines = _context.sent;\n            i = 0;\n\n          case 4:\n            if (!(i < lines.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            console.error(lines[i]);\n\n            if (!(lines[i].substring(0, \"#EXTINF:\".length) == \"#EXTINF:\")) {\n              _context.next = 13;\n              break;\n            }\n\n            i++;\n            base = url.substring(0, url.lastIndexOf(\"/\"));\n            u = base + \"/\" + lines[i];\n            console.error(u);\n            _context.next = 13;\n            return fetch(u);\n\n          case 13:\n            i++;\n            _context.next = 4;\n            break;\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _cacheAudio.apply(this, arguments);\n}\n\nfunction getAAduio(_x2) {\n  return _getAAduio.apply(this, arguments);\n}\n\nfunction _getAAduio() {\n  _getAAduio = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(item) {\n    var manifest, parser, parsedManifest, audio, match;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(item.audio !== undefined)) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", item);\n\n          case 2:\n            _context2.next = 4;\n            return fetch(item.url + \"?_=1\").then(function (r) {\n              return r.text();\n            });\n\n          case 4:\n            manifest = _context2.sent;\n            parser = new m3u8_parser__WEBPACK_IMPORTED_MODULE_14__[\"Parser\"]();\n            parser.push(manifest);\n            parser.end();\n            parsedManifest = parser.manifest;\n\n            if (!(parsedManifest.segments && parsedManifest.segments.length && parsedManifest.segments.filter(function (e) {\n              return e.uri.indexOf('.aac') > -1;\n            }))) {\n              _context2.next = 12;\n              break;\n            }\n\n            item.audio = item.url;\n            return _context2.abrupt(\"return\", item);\n\n          case 12:\n            console.log(parsedManifest);\n            audio = parsedManifest.mediaGroups.AUDIO;\n            audio = JSON.stringify(audio).replace(/[{}]/g, \"\").trim();\n            match = audio.match(/uri\":\\s*\"(.*?)\"/);\n            if (match && match.length > 1) item.audio = item.url + \"/../\" + match[1];else item.audio = 0;\n            return _context2.abrupt(\"return\", item);\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getAAduio.apply(this, arguments);\n}\n\nfunction playSound(_x3, _x4) {\n  return _playSound.apply(this, arguments);\n}\n\nfunction _playSound() {\n  _playSound = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(item, wait) {\n    var lan,\n        cnText,\n        content,\n        display,\n        _args3 = arguments;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            lan = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : \"en\";\n\n            if (item) {\n              _context3.next = 3;\n              break;\n            }\n\n            return _context3.abrupt(\"return\");\n\n          case 3:\n            cnText = cn(item);\n            content = lan == \"en\" ? item.q : cnText;\n            display = \"\".concat(item.q).concat(item.am ? \" [\" + item.am + \"]\" : \"\", \" \").concat(cnText);\n            return _context3.abrupt(\"return\", tts(lan, content, wait, display));\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _playSound.apply(this, arguments);\n}\n\nfunction cn(item) {\n  var str = item.to.split(\";\").map(function (e) {\n    var t = e.indexOf(\".\");\n    return t > 0 && t < 5 ? e.substring(t + 1) : e;\n  }).join(\" \");\n  return str;\n}\n\nfunction tts(_x5, _x6, _x7, _x8) {\n  return _tts.apply(this, arguments);\n}\n\nfunction _tts() {\n  _tts = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(lan, content, wait, display) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", new Promise(function (resolve) {\n              Object(_service__WEBPACK_IMPORTED_MODULE_15__[\"service\"])(null, {\n                cmd: \"audio\",\n                content: content,\n                wait: wait,\n                lang: lan,\n                title: display\n              }, function (response) {\n                if (response) resolve();\n              });\n            }));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _tts.apply(this, arguments);\n}\n\nfunction bgsound() {\n  return _bgsound.apply(this, arguments);\n}\n\nfunction _bgsound() {\n  _bgsound = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", tts(\"en\", \"\", 0, 0));\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _bgsound.apply(this, arguments);\n}\n\nfunction fetchRequest(_x9) {\n  return _fetchRequest.apply(this, arguments);\n}\n\nfunction _fetchRequest() {\n  _fetchRequest = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(url) {\n    var params,\n        timeout,\n        isTimeout,\n        _args6 = arguments;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            params = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : {};\n            timeout = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : 10000;\n            isTimeout = false;\n            return _context6.abrupt(\"return\", new Promise(function (resolve, reject) {\n              var TO = setTimeout(function () {\n                isTimeout = true;\n                reject(new Error(\"Fetch timeout\"));\n              }, timeout);\n              fetch(url, params).then(function (res) {\n                clearTimeout(TO);\n\n                if (!isTimeout) {\n                  resolve(res);\n                }\n              }).catch(function (e) {\n                if (isTimeout) {\n                  return;\n                }\n\n                reject(e);\n              });\n            }));\n\n          case 4:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _fetchRequest.apply(this, arguments);\n}\n\nfunction loadpkoData(_x10) {\n  return _loadpkoData.apply(this, arguments);\n}\n\nfunction _loadpkoData() {\n  _loadpkoData = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(modname) {\n    var data, ret;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            data = localStorage[modname] || sessionStorage[modname];\n\n            if (!data) {\n              _context7.next = 7;\n              break;\n            }\n\n            ret = data;\n\n            try {\n              ret = Object(_compress__WEBPACK_IMPORTED_MODULE_16__[\"decode\"])(data);\n            } catch (ee) {\n              ret = Object(_compress__WEBPACK_IMPORTED_MODULE_16__[\"decodeStr\"])(data);\n            }\n\n            console.error(ret);\n            return _context7.abrupt(\"return\", ret);\n\n          case 7:\n            _context7.next = 12;\n            break;\n\n          case 9:\n            _context7.prev = 9;\n            _context7.t0 = _context7[\"catch\"](0);\n            console.log(_context7.t0);\n\n          case 12:\n            return _context7.abrupt(\"return\", null);\n\n          case 13:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[0, 9]]);\n  }));\n  return _loadpkoData.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./src/lib.js?");

/***/ }),

/***/ "./src/service.js":
/*!************************!*\
  !*** ./src/service.js ***!
  \************************/
/*! exports provided: GetSelectedText, getTextNodesIn, transHtml, service, callService, getBlobContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetSelectedText\", function() { return GetSelectedText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTextNodesIn\", function() { return getTextNodesIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transHtml\", function() { return transHtml; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"service\", function() { return service; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"callService\", function() { return callService; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBlobContent\", function() { return getBlobContent; });\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ \"./node_modules/core-js/modules/es.array.join.js\");\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.regexp.test.js */ \"./node_modules/core-js/modules/es.regexp.test.js\");\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ \"./node_modules/core-js/modules/es.string.trim.js\");\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ \"./node_modules/core-js/modules/es.function.name.js\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ \"./node_modules/core-js/modules/es.array.splice.js\");\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.json.stringify.js */ \"./node_modules/core-js/modules/es.json.stringify.js\");\n/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var core_js_modules_es_array_flat_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.array.flat.js */ \"./node_modules/core-js/modules/es.array.flat.js\");\n/* harmony import */ var core_js_modules_es_array_flat_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_flat_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var core_js_modules_es_array_unscopables_flat_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.array.unscopables.flat.js */ \"./node_modules/core-js/modules/es.array.unscopables.flat.js\");\n/* harmony import */ var core_js_modules_es_array_unscopables_flat_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_unscopables_flat_js__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ \"./node_modules/core-js/modules/es.object.values.js\");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ \"./node_modules/core-js/modules/es.string.replace.js\");\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ \"./node_modules/core-js/modules/es.array.sort.js\");\n/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _HtmlTrans__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./HtmlTrans */ \"./src/HtmlTrans.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var storejs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! storejs */ \"./node_modules/storejs/dist/store.js\");\n/* harmony import */ var storejs__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(storejs__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _bus__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @/bus */ \"./src/bus.js\");\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @/lib */ \"./src/lib.js\");\n/* harmony import */ var _tts__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @/tts */ \"./src/tts.js\");\n/* harmony import */ var _translator__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./translator */ \"./src/translator.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @/config */ \"./src/config.js\");\n/* harmony import */ var _compress__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @/compress */ \"./src/compress.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n //import fetchJSONP from \"fetch-jsonp\";\n//const audio = new Audio();\n\n\n\n\n\nvar pako = __webpack_require__(/*! pako */ \"./node_modules/pako/index.js\");\n\nvar updateconfig = 0; //window.pako = pako;\n\nvar RWORD = \"words\";\nvar NWORD = \"nwords\";\nvar lastAutoSound = \"\";\nvar jsonparse = JSON.parse;\nvar mya = jquery__WEBPACK_IMPORTED_MODULE_21___default()(\"<iframe id=\\\"myaudio\\\" style=\\\"display:none;\\\" referrerpolicy=\\\"no-referrer\\\" />\");\nmya.appendTo(\"body\");\nvar ifr = mya[0];\n/*window.pako = pako;\nwindow.storejs = storejs;\nlet currentDoc = ifr.contentDocument || ifr.contentWindow.document;\ncurrentDoc.body.innerHTML = `<audio id=\"sound\" controls ></audio>`;\n\n//let audio = currentDoc.querySelector(\"audio#sound\");*/\n\nvar currentDoc = window.document;\n\nvar _audio = new Audio();\n\n_audio.setAttribute(\"referrerpolicy\", \"no-referrer\");\n\naxios__WEBPACK_IMPORTED_MODULE_19___default.a.defaults.timeout = 5000;\nvar audioListeners = [];\n\nfunction responseAll() {\n  while (audioListeners.length > 0) {\n    var onRes = audioListeners.pop();\n    onRes({});\n  }\n}\n\nvar json2jsonpProxy = /*#__PURE__*/function () {\n  var _ref = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee(enable, url) {\n    var jurl;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!enable) {\n              _context.next = 5;\n              break;\n            }\n\n            jurl = \"https://json2jsonp.com/?url=\".concat(encodeURIComponent(url));\n            return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n              jquery__WEBPACK_IMPORTED_MODULE_21___default.a.ajax({\n                url: jurl,\n                dataType: \"jsonp\",\n                jsonp: \"callback\",\n                jsonpCallback: \"jsonpCb\",\n                cache: 1,\n                success: function success(data) {\n                  resolve(data);\n                },\n                error: function error(_error) {\n                  reject(_error);\n                }\n              });\n            }));\n\n          case 5:\n            _context.next = 7;\n            return ifr.contentWindow.fetch(url, {\n              mode: \"cors\"\n            }).then(function (r) {\n              return r.json();\n            });\n\n          case 7:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function json2jsonpProxy(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar translators = [/*#__PURE__*/function () {\n  var _ref2 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(content) {\n    var type;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            //yaoudao\n            type = Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"isBackground\"])() ? \"json\" : \"jsonp\";\n            _context2.next = 3;\n            return new Promise(function (resolve, reject) {\n              jquery__WEBPACK_IMPORTED_MODULE_21___default.a.ajax({\n                url: \"https://fanyi.youdao.com/openapi.do\",\n                type: \"GET\",\n                jsonpCallback: \"jcby\",\n                cache: 1,\n                data: {\n                  keyfrom: \"wangtuizhijia\",\n                  key: \"1048394636\",\n                  type: \"data\",\n                  doctype: type,\n                  version: \"1.1\",\n                  q: content.q\n                },\n                dataType: type,\n                success: function success(data) {\n                  if (data.errorCode == 0) {\n                    var ret = {\n                      to: data.translation[0],\n                      q: data.query,\n                      src: \"YD\"\n                    };\n\n                    if (data.basic) {\n                      ret.am = data.basic[\"uk-phonetic\"];\n                      ret.en = data.basic[\"us-phonetic\"];\n                    }\n\n                    ret._raw = data;\n                    resolve(ret);\n                  } else reject(data);\n                },\n                error: function error(err) {\n                  // reject(\"error when get dict from \" + url);\n                  resolve(err);\n                }\n              });\n            });\n\n          case 3:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}(), /*#__PURE__*/function () {\n  var _ref3 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(content) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"translate\"])(content.q);\n\n          case 2:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}(), /*#__PURE__*/function () {\n  var _ref4 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(content) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"translateG\"])(content.q);\n\n          case 2:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}(), /*#__PURE__*/function () {\n  var _ref5 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(content) {\n    var ret, local, r;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            ret = {};\n            ret.src = \"Dict\";\n            ret.q = content.q;\n            local = false;\n\n            if (!local) {\n              _context5.next = 8;\n              break;\n            }\n\n            Object.assign(ret, local);\n            _context5.next = 13;\n            break;\n\n          case 8:\n            _context5.next = 10;\n            return json2jsonpProxy(Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"isBackground\"])() ? 0 : 1, \"https://dict.iciba.com/dictionary/word/suggestion?word=\".concat(encodeURIComponent(content.q), \"&nums=1&timestamp=0&is_need_mean=1\"));\n\n          case 10:\n            r = _context5.sent;\n            console.log(r);\n\n            if (r.message.length > 0) {\n              ret.to = r.message[0].paraphrase || r.message[0].means.reduce(function (str, it) {\n                return str + it.part + \" \" + it.means.join(\",\");\n              }, \"\"); // storejs.set(r.message[0].key, { q: ret.q, to: ret.to });\n\n              ret._raw = r;\n            }\n\n          case 13:\n            console.log(ret);\n            return _context5.abrupt(\"return\", ret);\n\n          case 15:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x6) {\n    return _ref5.apply(this, arguments);\n  };\n}(), /*#__PURE__*/function () {\n  var _ref6 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(content) {\n    var ret, r;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            ret = {};\n            ret.src = \"Local\";\n            ret.q = content.q;\n            _context6.next = 5;\n            return json2jsonpProxy(Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"isBackground\"])() ? 0 : 1, \"http://localhost:3000/phonetics?q=\".concat(encodeURIComponent(content.q)));\n\n          case 5:\n            r = _context6.sent;\n            console.log(r);\n\n            if (r) {\n              ret.to = r.trans;\n              ret.am = r.uk;\n              ret.en = r.us;\n              ret._raw = r;\n            }\n\n            return _context6.abrupt(\"return\", ret);\n\n          case 9:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function (_x7) {\n    return _ref6.apply(this, arguments);\n  };\n}()];\nfunction GetSelectedText() {\n  if (document.getSelection) {\n    // all browsers, except IE before version 9\n    var sel = document.getSelection(); // sel is a string in Firefox and Opera,\n    // and a selectionRange object in Google Chrome, Safari and IE q version 9\n    // the alert method displays the result of the toString method of the passed object\n\n    return sel;\n  } else {\n    if (document.selection) {\n      // Internet Explorer before version 9\n      var textRange = document.selection.createRange();\n      return textRange.text;\n    }\n  }\n}\nfunction getTextNodesIn(node, includeWhitespaceNodes) {\n  /**\n   $(el).find(\":not(iframe)\").addBack().contents().filter(function() {\n        return this.nodeType == 3;\n    });\n   */\n  var textNodes = [],\n      nonWhitespaceMatcher = /\\S/;\n\n  function getTextNodes(node) {\n    if (node.nodeType == 3) {\n      if (includeWhitespaceNodes || nonWhitespaceMatcher.test(node.nodeValue)) {\n        textNodes.push(node);\n      }\n    } else {\n      for (var i = 0, len = node.childNodes.length; i < len; ++i) {\n        getTextNodes(node.childNodes[i]);\n      }\n    }\n  }\n\n  getTextNodes(node);\n  return textNodes;\n}\nfunction transHtml() {\n  var selectors = [];\n  var config = getConf();\n  jquery__WEBPACK_IMPORTED_MODULE_21___default()(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_21___default()(\"html > head\").append(jquery__WEBPACK_IMPORTED_MODULE_21___default()(\"<style type = \\\"text/css\\\">\\n        .newWorda{ color: #f73131!important;} \\n        .newWordb{ margin-left: 5px;color:brown!important;}\\n        .mousedown .mouseenter .newWordb  {\\n          display: none;\\n        }</style>\"));\n  });\n  if (!config || !config.transHtml) return;\n  /*  if (location.href.indexOf(\"cnn.com\") > -1) selector = \".zn-body__paragraph\";\n  else if (location.href.indexOf(\"globaltimes.cn\") > -1)\n    selector = \".article .article_right\";*/\n\n  var textNodes = getTextNodesIn(document.body, 0).filter(function (e) {\n    return [\"DIV\", \"P\", \"H1\", \"H2\", \"H3\", \"H4\", \"TD\", \"LI\"].indexOf(e.parentElement.tagName) > -1 && e.nodeValue.trim().length > 50;\n  });\n  textNodes.map(function (e) {\n    selectors.push(jquery__WEBPACK_IMPORTED_MODULE_21___default()(e.parentElement));\n  });\n  if (selectors.length > 0) jquery__WEBPACK_IMPORTED_MODULE_21___default()(function () {\n    service(null, {\n      cmd: \"lists\",\n      type: RWORD,\n      reqId: new Date().getTime()\n    }, function (resp) {\n      if (resp && resp.contents && resp.contents.length > 0) setTimeout(function () {\n        selectors.forEach(function (selector) {\n          var el = jquery__WEBPACK_IMPORTED_MODULE_21___default()(selector);\n\n          if (!el.attr(\"newword\")) {\n            el.each(function () {\n              var html = jquery__WEBPACK_IMPORTED_MODULE_21___default()(this).html();\n              if (/[\\u4e00-\\u9fa5]/.test(html)) return false;\n              console.log(html);\n              html = Object(_HtmlTrans__WEBPACK_IMPORTED_MODULE_20__[\"htmlTrans\"])(resp.contents, html);\n              console.log(html);\n              jquery__WEBPACK_IMPORTED_MODULE_21___default()(this).html(html);\n            });\n            el.data(\"newword\", true);\n          }\n        });\n      }, 3000); // console.log(dict);\n    });\n  });\n}\nvar callbacks = {};\n\nif (Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"isBackground\"])()\n/*&& location.protocol != \"chrome-extension:\"*/\n) {\n  window.onMessageListener = function (request, sender, sendResp) {\n    if (request && request.cmd) {\n      console.log(sender.tab ? \"from a content script:\" + sender.tab.url : \"from the extension\"); //\n\n      var cb = callbacks[request.reqId || request.cmd];\n      if (cb) cb(request.contents);\n    }\n\n    sendResp(request.contents);\n  };\n\n  chrome.runtime.onMessage.addListener(window.onMessageListener);\n}\n\nfunction service(tab, request, sendResponse) {\n  var interpreter = function interpreter(resp) {\n    if (resp && resp.error) {\n      _bus__WEBPACK_IMPORTED_MODULE_23__[\"default\"].$emit(\"error\", resp);\n    }\n\n    var respfun = sendResponse;\n    respfun(resp);\n  };\n\n  console.log(\"isBackground():\" + Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"isBackground\"])());\n\n  if (Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"isBackground\"])()) {\n    callbacks[request.reqId || request.cmd] = interpreter;\n    return chrome.runtime.sendMessage(tab, request, interpreter);\n  } else {\n    return callService(tab, request, interpreter);\n  }\n}\nvar serviceMap = {\n  post: function post(request, sendResponse) {\n    sendResponse();\n  },\n  get: function get(request, sendResponse) {\n    sendResponse(storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(request.name));\n  },\n  token: function token(request, sendResponse) {\n    console.error(request);\n\n    if (request.content) {\n      var auth = \"token \" + request.content;\n      fetch(\"https://api.github.com/user\", {\n        method: \"get\",\n        headers: {\n          accept: \"application/vnd.github.v3+json\",\n          Authorization: auth\n        }\n      }).then(function (r) {\n        return r.json();\n      }).then(function (json) {\n        if (json.name) {\n          storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(\"token\", request.content);\n          storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(\"user\", json.name);\n        }\n\n        sendResponse(json);\n      });\n    } else {\n      sendResponse(storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(\"user\"));\n    }\n  },\n  lists: function () {\n    var _lists = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(request, sendResponse) {\n      var ret, cnt, _ret$contents, words, d, len, nwords;\n\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              ret = {};\n              _context8.prev = 1;\n              cnt = 0;\n              _context8.next = 5;\n              return canRefresh(request.type, request.force, function () {\n                cnt++;\n                setTimeout(function () {\n                  Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n                    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n                      while (1) {\n                        switch (_context7.prev = _context7.next) {\n                          case 0:\n                            if (!LOADERS[request.type]) {\n                              _context7.next = 3;\n                              break;\n                            }\n\n                            _context7.next = 3;\n                            return LOADERS[request.type](request, sendResponse);\n\n                          case 3:\n                            cnt--;\n                            sendResponse({\n                              done: !cnt\n                            });\n\n                          case 5:\n                          case \"end\":\n                            return _context7.stop();\n                        }\n                      }\n                    }, _callee7);\n                  }))();\n                }, 1000);\n              });\n\n            case 5:\n              if (!(request.type == RWORD)) {\n                _context8.next = 14;\n                break;\n              }\n\n              words = loadUnGZipStore(request.type) || []; //remove not cancel new\n\n              for (d = 0, len = words.length; d < len; d++) {\n                if (!words[d].i && !words[d].n) {\n                  words.splice(d, 1);\n                  len--;\n                  d--;\n                }\n              }\n\n              gzipAndStore(request.type, words);\n              ret.contents = loadUnGZipStore(request.type) || [];\n              nwords = loadUnGZipStore(NWORD, 1) || [];\n\n              (_ret$contents = ret.contents).unshift.apply(_ret$contents, Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nwords));\n\n              _context8.next = 17;\n              break;\n\n            case 14:\n              _context8.next = 16;\n              return Object(_lib__WEBPACK_IMPORTED_MODULE_24__[\"loadpkoData\"])(request.type);\n\n            case 16:\n              ret.contents = _context8.sent;\n\n            case 17:\n              ret.done = !cnt;\n              sendResponse(ret);\n              _context8.next = 27;\n              break;\n\n            case 21:\n              _context8.prev = 21;\n              _context8.t0 = _context8[\"catch\"](1);\n              console.error(_context8.t0); // alert(ee);\n\n              _bus__WEBPACK_IMPORTED_MODULE_23__[\"default\"].$emit(\"error\", _context8.t0);\n              ret.done = 1;\n              sendResponse(ret);\n\n            case 27:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[1, 21]]);\n    }));\n\n    function lists(_x8, _x9) {\n      return _lists.apply(this, arguments);\n    }\n\n    return lists;\n  }(),\n  newWord: function () {\n    var _newWord = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(request, sendResponse) {\n      var ret, rcache, ncache, q, arr, d, cache, k, len;\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              ret = {};\n              request.content.q = request.content.q.trim();\n\n              if (request.content.q) {\n                _context9.next = 6;\n                break;\n              }\n\n              ret.error = \"empty word\";\n              sendResponse(ret);\n              return _context9.abrupt(\"return\");\n\n            case 6:\n              rcache = loadUnGZipStore(RWORD) || [];\n              ncache = loadUnGZipStore(NWORD, 1) || [];\n              q = request.content.q.toLocaleLowerCase();\n              arr = [ncache, rcache];\n              d = 0;\n\n            case 11:\n              if (!(d < arr.length)) {\n                _context9.next = 29;\n                break;\n              }\n\n              cache = arr[d];\n              k = 0, len = cache.length;\n\n            case 14:\n              if (!(k < len)) {\n                _context9.next = 26;\n                break;\n              }\n\n              if (!(cache[k].q == q)) {\n                _context9.next = 23;\n                break;\n              }\n\n              cache.splice(k, 1);\n              console.log(\"remove q cache:\" + q);\n              k--;\n              len--;\n              if (d == 1) gzipAndStore(RWORD, rcache);\n              d = arr.length;\n              return _context9.abrupt(\"break\", 26);\n\n            case 23:\n              k++;\n              _context9.next = 14;\n              break;\n\n            case 26:\n              d++;\n              _context9.next = 11;\n              break;\n\n            case 29:\n              ncache.unshift(Object.assign({}, request.content, {\n                q: q\n              }));\n\n              try {\n                gzipAndStore(NWORD, ncache, 1);\n              } catch (e) {\n                alert(e);\n              }\n\n              ret.contents = request.content;\n              sendResponse(ret);\n\n            case 33:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    function newWord(_x10, _x11) {\n      return _newWord.apply(this, arguments);\n    }\n\n    return newWord;\n  }(),\n  translate: function translate(request, sendResponse) {\n    var rets = [];\n    translators.map(function (e) {\n      return e(request.content).then(function (ret) {\n        rets.push(ret);\n\n        if (ret && ret._raw) {\n          if (request.config && request.config.tranUrl) Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n            var content;\n            return regeneratorRuntime.wrap(function _callee10$(_context10) {\n              while (1) {\n                switch (_context10.prev = _context10.next) {\n                  case 0:\n                    delete ret._raw.logid;\n                    content = Object(_compress__WEBPACK_IMPORTED_MODULE_28__[\"encode\"])(JSON.stringify(ret._raw));\n                    delete ret._raw;\n                    _context10.next = 5;\n                    return fetch(request.config.tranUrl, {\n                      method: \"POST\",\n                      headers: {\n                        Accept: \"application/json\",\n                        \"Content-Type\": \"application/json\"\n                      },\n                      body: JSON.stringify({\n                        item: request.content,\n                        resp: ret,\n                        enc: JSON.stringify({\n                          anc: content\n                        })\n                      })\n                    });\n\n                  case 5:\n                  case \"end\":\n                    return _context10.stop();\n                }\n              }\n            }, _callee10);\n          }))();else delete ret._raw;\n        }\n\n        sendResponse(rets);\n      });\n    });\n  },\n  audio: function audio(request, sendResponse) {\n    audioListeners.push(sendResponse);\n\n    if (request.pause || !request.content) {\n      if (request.pause) {\n        _audio.pause();\n      } else {\n        if (!_audio.inited) {\n          _audio.inited = 1;\n\n          if (!_audio.src) {\n            _audio.src = _tts__WEBPACK_IMPORTED_MODULE_25__[\"SILENT\"];\n\n            _audio.play();\n          }\n        }\n\n        return;\n      }\n\n      responseAll();\n      return false;\n    }\n\n    _audio.title = request.title || request.content.trim();\n    currentDoc.title = _audio.title;\n    var config = getConf();\n    Object(_tts__WEBPACK_IMPORTED_MODULE_25__[\"playAudio\"])(config.autoSound, responseAll, request, _audio);\n  },\n  audio2: function audio2(request, sendResponse) {\n    audioListeners.push(sendResponse);\n\n    if (request.pause || !request.content) {\n      if (request.pause) {\n        _audio.pause();\n      } else {\n        if (!_audio.inited) {\n          _audio.inited = 1;\n          _audio.src = \"3s.mp3\";\n\n          _audio.play();\n        }\n      }\n\n      responseAll();\n      return false;\n    }\n\n    _audio.title = request.content.trim();\n    currentDoc.title = _audio.title;\n    var lan = request.lang || \"en\";\n    var speed = request.speed || 5;\n    var config = getConf();\n    var content = request.content;\n    var BDTTS = \"https://fanyi.baidu.com/gettts?lan=\".concat(lan, \"&text=\").concat(encodeURIComponent(content), \"&spd=\").concat(speed, \"&source=web\");\n    var YDTTS = \"https://dict.youdao.com/dictvoice?audio=\" + encodeURIComponent(content) + \"&type=2\";\n\n    if (request.speeker == \"BD\" || config.autoSound == \"BD\" || config.autoSound == \"auto\" && lastAutoSound != \"YD\") {\n      _audio.src = BDTTS;\n    } else if (request.speeker == \"YD\" || config.autoSound == \"YD\" || config.autoSound == \"auto\" && lastAutoSound == \"YD\") {\n      if (lan != \"en\") {\n        responseAll();\n        return;\n      } else _audio.src = YDTTS;\n    }\n\n    var tryTimes = 1;\n\n    var onEnded = function onEnded() {\n      tryTimes = 0;\n      responseAll();\n    };\n\n    var onError = function onError(ee) {\n      console.error(_audio.src);\n      console.error(ee);\n\n      if (config.autoSound && tryTimes > 0 && tryTimes < 5) {\n        lastAutoSound = lastAutoSound == \"BD\" ? \"YD\" : \"BD\";\n        tryTimes++;\n\n        try {\n          var src = lastAutoSound == \"BD\" ? BDTTS : YDTTS;\n          console.log(src);\n          _audio.src = src;\n        } catch (eee) {\n          console.error(eee);\n        }\n\n        try {\n          _audio.play();\n        } catch (e1) {\n          console.log(\"error on\");\n          onEnded();\n        }\n\n        return;\n      }\n\n      console.log(\"error on\");\n      onEnded();\n    };\n\n    _audio.onerror = onError;\n    var timer = setTimeout(function () {\n      console.log(\"timerout\");\n\n      if (tryTimes && _audio.currentTime == 0) {\n        onError();\n      }\n    }, 3000);\n\n    _audio.onloadeddata = function () {\n      console.error(\"cancel timer\" + _audio.duration);\n\n      if (!isNaN(_audio.duration)) {\n        tryTimes = 0;\n        clearTimeout(timer);\n      }\n    };\n\n    _audio.onended = onEnded;\n    console.error(request.wait);\n\n    if (request.wait) {\n      try {\n        _audio.play();\n      } catch (e1) {\n        console.log(\"error on\");\n        onEnded();\n      }\n\n      return true;\n    } else {\n      try {\n        _audio.play();\n      } catch (e1) {\n        console.log(\"error on\");\n        onEnded();\n      }\n\n      return false;\n    }\n  },\n  setConfig: function setConfig(request, sendResponse) {\n    storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(\"config\", Object(_compress__WEBPACK_IMPORTED_MODULE_28__[\"encode\"])(JSON.stringify(request.content)));\n    sendResponse(getConf());\n  },\n  getConfig: function getConfig(request, sendResponse) {\n    Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n      var config, rconfig, rhost, map;\n      return regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              config = getConf();\n              rconfig = {};\n\n              if (updateconfig) {\n                _context11.next = 26;\n                break;\n              }\n\n              rhost = \"https://smlog.github.io/data/config.\";\n              _context11.prev = 4;\n              _context11.next = 7;\n              return jquery__WEBPACK_IMPORTED_MODULE_21___default.a.ajax({\n                url: rhost + \"js\",\n                dataType: \"jsonp\",\n                jsonpCallback: \"applyConfig\"\n              });\n\n            case 7:\n              rconfig = _context11.sent;\n              _context11.next = 23;\n              break;\n\n            case 10:\n              _context11.prev = 10;\n              _context11.t0 = _context11[\"catch\"](4);\n              console.error(_context11.t0);\n              _context11.prev = 13;\n              _context11.next = 16;\n              return fetch(rhost + \"json\").then(function (r) {\n                return r.json();\n              });\n\n            case 16:\n              rconfig = _context11.sent;\n              _context11.next = 23;\n              break;\n\n            case 19:\n              _context11.prev = 19;\n              _context11.t1 = _context11[\"catch\"](13);\n              console.error(_context11.t1);\n              updateconfig = 0;\n\n            case 23:\n              updateconfig = rconfig;\n              _context11.next = 27;\n              break;\n\n            case 26:\n              rconfig = updateconfig;\n\n            case 27:\n              map = Object.values(config.urls).flat().reduce(function (m, i) {\n                m[i.url] = i.enable;\n                return m;\n              }, {});\n              config = Object.assign(config, rconfig);\n              if (config.urls) Object.values(config.urls).flat().map(function (e) {\n                return e.enable = map[e.url];\n              });\n              sendResponse(config);\n\n            case 31:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11, null, [[4, 10], [13, 19]]);\n    }))();\n  },\n  urls: function urls(request, sendResponse) {\n    loadMjUrls(request, sendResponse);\n  },\n  mUpload: function mUpload(request, sendResponse) {\n    Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee12() {\n      var resp;\n      return regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.next = 2;\n              return uploadCache();\n\n            case 2:\n              resp = _context12.sent;\n              sendResponse(resp);\n\n            case 4:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }))();\n  }\n};\n\nfunction getConf() {\n  var r = storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(\"config\");\n\n  try {\n    r = r && Object(_compress__WEBPACK_IMPORTED_MODULE_28__[\"decode\"])(storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(\"config\")) || {};\n  } catch (error) {\n    console.error(error);\n  }\n\n  console.log(r);\n  return r;\n}\n\nfunction callService(tab, request, sendResp) {\n  var sendResponse = function sendResponse(resp) {\n    if (Object(_translator__WEBPACK_IMPORTED_MODULE_26__[\"isBackground\"])()) {\n      // chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {\n      console.log(resp);\n      chrome.tabs.sendMessage(tab.tab.id, // tabs && tabs.length > 0 && tabs[0].id,\n      {\n        cmd: request.cmd,\n        reqId: request.reqId,\n        contents: resp\n      }, function (response) {\n        console.log(response); // console.log(response.farewell);\n      }); // });\n    } else sendResp(resp);\n  };\n\n  if (serviceMap[request.cmd]) {\n    Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee13() {\n      return regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              _context13.next = 2;\n              return serviceMap[request.cmd](request, sendResponse);\n\n            case 2:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }))();\n  }\n\n  return true;\n}\n\nfunction canRefresh(_x12, _x13, _x14) {\n  return _canRefresh.apply(this, arguments);\n}\n\nfunction _canRefresh() {\n  _canRefresh = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee16(type, force, fn) {\n    var ct, config, key, v;\n    return regeneratorRuntime.wrap(function _callee16$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            ct = new Date().getTime();\n            config = getConf();\n\n            if (config[\"show\" + type]) {\n              _context16.next = 4;\n              break;\n            }\n\n            return _context16.abrupt(\"return\");\n\n          case 4:\n            key = \"_\" + type;\n            v = storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(key) || 0;\n            console.log(v);\n\n            if (!(force || ct - v > 1800000)) {\n              _context16.next = 11;\n              break;\n            }\n\n            _context16.next = 10;\n            return fn();\n\n          case 10:\n            storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(key, ct);\n\n          case 11:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee16);\n  }));\n  return _canRefresh.apply(this, arguments);\n}\n\nfunction getBlobContent(_x15, _x16, _x17, _x18, _x19) {\n  return _getBlobContent.apply(this, arguments);\n}\n\nfunction _getBlobContent() {\n  _getBlobContent = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee17(name, rep, path, sha, cacheTime) {\n    var token, auth, headers, url, json;\n    return regeneratorRuntime.wrap(function _callee17$(_context17) {\n      while (1) {\n        switch (_context17.prev = _context17.next) {\n          case 0:\n            token = storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(\"token\");\n            auth = \"token \" + token;\n            headers = {\n              accept: \"application/vnd.github.v3+json\"\n            };\n            if (token) headers[\"Authorization\"] = auth;\n            url = \"https://api.github.com/repos/\".concat(name, \"/\").concat(rep, \"/contents/\").concat(path) + (sha ? \"?ref=\".concat(sha) : \"\");\n            url += cacheTime ? (url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + \"cache=\".concat(cacheTime) : \"\";\n            _context17.next = 8;\n            return Object(_lib__WEBPACK_IMPORTED_MODULE_24__[\"fetchRequest\"])(url, {\n              method: \"get\",\n              headers: headers // cache: \"force-cache\",\n\n            }, 10000).then(function (r) {\n              return r.json();\n            });\n\n          case 8:\n            json = _context17.sent;\n            return _context17.abrupt(\"return\", json.content);\n\n          case 10:\n          case \"end\":\n            return _context17.stop();\n        }\n      }\n    }, _callee17);\n  }));\n  return _getBlobContent.apply(this, arguments);\n}\n\nfunction forEachCommitsAsc(_x20, _x21) {\n  return _forEachCommitsAsc.apply(this, arguments);\n}\n/*\nasync function forEachCommits({ name, rep, path, since }, cb, decode = true) {\n  var commitsUrl = `https://api.github.com/repos/${name}/${rep}/commits?path=${encodeURIComponent(\n    path\n  )}&per_page=100`;\n  if (since) commitsUrl += \"&since=\" + encodeURIComponent(since);\n\n  let token = storejs.get(\"token\");\n  var auth = \"token \" + token;\n\n  let headers = {\n    accept: \"application/vnd.github.v3+json\",\n  };\n  if (token) headers[\"Authorization\"] = auth;\n  let curPage = 1;\n  let commits = [];\n  for (;;) {\n    let pageCommits = await fetch(commitsUrl + \"&page=\" + curPage, {\n      method: \"get\",\n      headers: headers,\n    }).then((response) => {\n      return response.json();\n    });\n    commits.push(...pageCommits);\n    if (pageCommits.length < 100) break;\n    curPage++;\n  }\n\n  for (let i = 0; i < commits.length; i++) {\n    let commit = commits[i];\n    let content = await getBlobContent(name, rep, path, commit.sha);\n\n    if (await cb(commit, decode ? b64_to_utf8(content) : content, i)) return;\n  }\n  return commits;\n}\n*/\n\n\nfunction _forEachCommitsAsc() {\n  _forEachCommitsAsc = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee18(_ref12, cb) {\n    var name,\n        rep,\n        path,\n        since,\n        decode,\n        commitsUrl,\n        token,\n        auth,\n        headers,\n        curPage,\n        commits,\n        req,\n        pageCommits,\n        i,\n        commit,\n        content,\n        _args18 = arguments;\n    return regeneratorRuntime.wrap(function _callee18$(_context18) {\n      while (1) {\n        switch (_context18.prev = _context18.next) {\n          case 0:\n            name = _ref12.name, rep = _ref12.rep, path = _ref12.path, since = _ref12.since;\n            decode = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : true;\n            commitsUrl = \"https://api.github.com/repos/\".concat(name, \"/\").concat(rep, \"/commits?path=\").concat(encodeURIComponent(path), \"&per_page=100\");\n            if (since) commitsUrl += \"&since=\" + encodeURIComponent(since);\n            token = storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(\"token\");\n            auth = \"token \" + token;\n            headers = {\n              accept: \"application/vnd.github.v3+json\"\n            };\n            if (token) headers[\"Authorization\"] = auth;\n            curPage = 1;\n            commits = [];\n\n          case 10:\n            _context18.next = 12;\n            return fetch(commitsUrl + \"&page=\" + curPage, {\n              method: \"get\",\n              headers: headers\n            });\n\n          case 12:\n            req = _context18.sent;\n\n            if (!(req.status != 200)) {\n              _context18.next = 17;\n              break;\n            }\n\n            _context18.next = 16;\n            return req.json();\n\n          case 16:\n            throw _context18.sent;\n\n          case 17:\n            _context18.next = 19;\n            return req.json();\n\n          case 19:\n            pageCommits = _context18.sent;\n            commits.unshift.apply(commits, Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(pageCommits.reverse()));\n\n            if (!(pageCommits.length < 100)) {\n              _context18.next = 23;\n              break;\n            }\n\n            return _context18.abrupt(\"break\", 26);\n\n          case 23:\n            curPage++;\n\n          case 24:\n            _context18.next = 10;\n            break;\n\n          case 26:\n            i = 0;\n\n          case 27:\n            if (!(i < commits.length)) {\n              _context18.next = 39;\n              break;\n            }\n\n            commit = commits[i];\n            _context18.next = 31;\n            return getBlobContent(name, rep, path, commit.sha);\n\n          case 31:\n            content = _context18.sent;\n            _context18.next = 34;\n            return cb(commit, decode ? b64_to_utf8(content) : content, i);\n\n          case 34:\n            if (!_context18.sent) {\n              _context18.next = 36;\n              break;\n            }\n\n            return _context18.abrupt(\"return\");\n\n          case 36:\n            i++;\n            _context18.next = 27;\n            break;\n\n          case 39:\n            return _context18.abrupt(\"return\", commits);\n\n          case 40:\n          case \"end\":\n            return _context18.stop();\n        }\n      }\n    }, _callee18);\n  }));\n  return _forEachCommitsAsc.apply(this, arguments);\n}\n\nfunction updateRepFile(_x22, _x23, _x24, _x25, _x26) {\n  return _updateRepFile.apply(this, arguments);\n}\n\nfunction _updateRepFile() {\n  _updateRepFile = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee19(name, rep, path, content, gzip) {\n    var token, auth, url, json, sha;\n    return regeneratorRuntime.wrap(function _callee19$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            token = storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(\"token\");\n            auth = \"token \" + token;\n            url = \"https://api.github.com/repos/\".concat(name, \"/\").concat(rep, \"/contents/\").concat(path);\n\n            if (token) {\n              _context19.next = 5;\n              break;\n            }\n\n            return _context19.abrupt(\"return\", {\n              error: \"token?\"\n            });\n\n          case 5:\n            _context19.next = 7;\n            return fetch(url, {\n              method: \"get\",\n              headers: {\n                accept: \"application/vnd.github.v3+json\"\n              }\n            }).then(function (r) {\n              return r.json();\n            });\n\n          case 7:\n            json = _context19.sent;\n            sha = json.sha;\n            _context19.next = 11;\n            return fetch(url, {\n              method: \"put\",\n              body: JSON.stringify({\n                message: \"update\" + new Date(),\n                branch: \"main\",\n                content: utf8_to_b64(gzip ? gZip(content) : content),\n                sha: sha\n              }),\n              headers: {\n                accept: \"application/vnd.github.v3+json\",\n                Authorization: auth\n              }\n            }).then(function (response) {\n              return response.json();\n            });\n\n          case 11:\n            json = _context19.sent;\n            return _context19.abrupt(\"return\", json);\n\n          case 13:\n          case \"end\":\n            return _context19.stop();\n        }\n      }\n    }, _callee19);\n  }));\n  return _updateRepFile.apply(this, arguments);\n}\n\nfunction fetchvideos() {\n  return _fetchvideos.apply(this, arguments);\n}\n\nfunction _fetchvideos() {\n  _fetchvideos = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee20() {\n    var videos, vs, exitMap, config, plist, p, rVideos, i, item;\n    return regeneratorRuntime.wrap(function _callee20$(_context20) {\n      while (1) {\n        switch (_context20.prev = _context20.next) {\n          case 0:\n            //let videos = loadUnGZipStore(\"videos\") || [];\n            videos = [];\n            _context20.prev = 1;\n            _context20.next = 4;\n            return Object(_lib__WEBPACK_IMPORTED_MODULE_24__[\"loadpkoData\"])(\"videos\");\n\n          case 4:\n            _context20.t0 = _context20.sent;\n\n            if (_context20.t0) {\n              _context20.next = 7;\n              break;\n            }\n\n            _context20.t0 = [];\n\n          case 7:\n            videos = _context20.t0;\n            _context20.next = 13;\n            break;\n\n          case 10:\n            _context20.prev = 10;\n            _context20.t1 = _context20[\"catch\"](1);\n            console.error(_context20.t1);\n\n          case 13:\n            vs = [];\n            exitMap = videos.reduce(function (map, item) {\n              if (!map[item.vid] && !map[item.title]) {\n                map[item.vid] = 1;\n                map[item.title] = 1;\n                vs.push(item);\n              }\n\n              return map;\n            }, {});\n            videos = vs;\n            config = getConf(); //let rVideos = await getVideos();\n\n            _context20.next = 19;\n            return Object(_config__WEBPACK_IMPORTED_MODULE_27__[\"getVideoPromiseList\"])(config);\n\n          case 19:\n            plist = _context20.sent;\n            p = 0;\n\n          case 21:\n            if (!(p < plist.length)) {\n              _context20.next = 49;\n              break;\n            }\n\n            _context20.prev = 22;\n            _context20.next = 25;\n            return plist[p]();\n\n          case 25:\n            rVideos = _context20.sent;\n            i = 0;\n\n          case 27:\n            if (!(i < rVideos.length)) {\n              _context20.next = 40;\n              break;\n            }\n\n            item = rVideos[i];\n\n            if (!exitMap[item.vid]) {\n              _context20.next = 31;\n              break;\n            }\n\n            return _context20.abrupt(\"continue\", 37);\n\n          case 31:\n            if (!item.title) {\n              _context20.next = 34;\n              break;\n            }\n\n            if (!exitMap[item.title.replace(/[^0-9a-z]/gi, \"\")]) {\n              _context20.next = 34;\n              break;\n            }\n\n            return _context20.abrupt(\"continue\", 37);\n\n          case 34:\n            exitMap[item.vid] = 1;\n            if (item.title) exitMap[item.title.replace(/[^0-9a-z]/gi, \"\")] = 1;\n            videos.unshift(item);\n\n          case 37:\n            i++;\n            _context20.next = 27;\n            break;\n\n          case 40:\n            _context20.next = 46;\n            break;\n\n          case 42:\n            _context20.prev = 42;\n            _context20.t2 = _context20[\"catch\"](22);\n            console.error(_context20.t2); // alert(eee);\n\n            _bus__WEBPACK_IMPORTED_MODULE_23__[\"default\"].$emit(\"error\", _context20.t2);\n\n          case 46:\n            p++;\n            _context20.next = 21;\n            break;\n\n          case 49:\n            videos.sort(function (a, b) {\n              return b.dt - a.dt;\n            });\n            videos.length = Math.min(config.retains || 200, videos.length); // gzipAndStore(\"videos\", videos);\n\n            return _context20.abrupt(\"return\", videos);\n\n          case 52:\n          case \"end\":\n            return _context20.stop();\n        }\n      }\n    }, _callee20, null, [[1, 10], [22, 42]]);\n  }));\n  return _fetchvideos.apply(this, arguments);\n}\n\nfunction utf8_to_b64(str) {\n  return btoa(unescape(encodeURIComponent(str)));\n}\n\nfunction b64_to_utf8(base64) {\n  return decodeURIComponent(escape(atob(base64))); // return atob(str);\n}\n\nvar LOADERS = {\n  words: function () {\n    var _words = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee14(request, sendResponse) {\n      var _words2;\n\n      var config, DataRep, name, rep, httpsRep, path, sinceName, words, nwords, lastSyncDate, ts, updateIndex, updateData, since, newList, temps, ret, sinceTime, tm, arr, d, items, j, len, w, allWords, rnewList, content, json, _words3;\n\n      return regeneratorRuntime.wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              config = getConf();\n              console.log(\"syn with remote\");\n              DataRep = storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(\"user\");\n              name = DataRep;\n              rep = \"data\";\n              httpsRep = \"https://\" + name + \".github.io/\" + rep + \"/\";\n              path = \"update.json\";\n              sinceName = request.type + \"Since\";\n              words = loadUnGZipStore(RWORD) || [];\n              nwords = loadUnGZipStore(NWORD, 1) || [];\n              lastSyncDate = storejs__WEBPACK_IMPORTED_MODULE_22___default.a.get(sinceName);\n              ts = +new Date();\n\n              if (!DataRep) {\n                _context14.next = 39;\n                break;\n              }\n\n              _context14.prev = 13;\n              _context14.next = 16;\n              return fetch(httpsRep + \"updateIndex.json?t=\" + ts).then(function (r) {\n                return r.json();\n              });\n\n            case 16:\n              updateIndex = _context14.sent;\n              storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(\"uploadDate\", updateIndex.date);\n\n              if (!(updateIndex.date > lastSyncDate)) {\n                _context14.next = 27;\n                break;\n              }\n\n              _context14.next = 21;\n              return fetch(httpsRep + \"updateData.json?t=\" + ts).then(function (r) {\n                return r.json();\n              });\n\n            case 21:\n              updateData = _context14.sent;\n\n              if (updateIndex.gz) {\n                updateData.words = jsonparse(pako.ungzip(atob(updateData.words), {\n                  to: \"string\"\n                }));\n              }\n\n              words = updateData.words;\n              lastSyncDate = updateIndex.date;\n              _context14.next = 34;\n              break;\n\n            case 27:\n              if (!(new Date(lastSyncDate).getTime() - new Date(updateIndex.date).getTime() > 1000 * 3600 * 24 * 10)) {\n                _context14.next = 34;\n                break;\n              }\n\n              _context14.next = 30;\n              return uploadCache();\n\n            case 30:\n              _context14.next = 32;\n              return fetch(httpsRep + \"updateIndex.json?t=\" + ts).then(function (r) {\n                return r.json();\n              });\n\n            case 32:\n              updateIndex = _context14.sent;\n              lastSyncDate = updateIndex.date;\n\n            case 34:\n              _context14.next = 39;\n              break;\n\n            case 36:\n              _context14.prev = 36;\n              _context14.t0 = _context14[\"catch\"](13);\n              console.error(\"error:\" + _context14.t0);\n\n            case 39:\n              since = lastSyncDate;\n              newList = nwords.filter(function (e) {\n                return !e.i && e.n || e.i && !e.n;\n              }).map(function (e) {\n                for (var p in e) {\n                  p[0] == \"_\" && delete e[p];\n                }\n\n                return e;\n              });\n              temps = [];\n              ret = {};\n              sinceTime = since;\n\n              if (!DataRep) {\n                _context14.next = 54;\n                break;\n              }\n\n              _context14.prev = 45;\n              _context14.next = 48;\n              return forEachCommitsAsc({\n                name: name,\n                rep: rep,\n                path: path,\n                since: sinceTime\n              }, function (commit, content) {\n                console.log(commit);\n                lastSyncDate = commit.commit.committer.date;\n                var data = jsonparse(content);\n                sinceTime = commit.commit.committer.date;\n                temps.push.apply(temps, Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data));\n              });\n\n            case 48:\n              _context14.next = 54;\n              break;\n\n            case 50:\n              _context14.prev = 50;\n              _context14.t1 = _context14[\"catch\"](45);\n              console.error(_context14.t1);\n              ret.error = _context14.t1;\n\n            case 54:\n              (_words2 = words).unshift.apply(_words2, Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(temps.reverse())); //words.unshift(...newList);\n\n\n              tm = {};\n              arr = [nwords, words];\n\n              for (d = 0; d < arr.length; d++) {\n                items = arr[d];\n\n                for (j = 0, len = items.length; j < len; j++) {\n                  w = items[j];\n\n                  if (!w.q || tm[w.q] || !w.n) {\n                    items.splice(j, 1);\n                    len--;\n                    j--;\n                  }\n\n                  tm[w.q] = (tm[w.q] || 0) + 1;\n                }\n              }\n\n              if (window.debug) window.debug(\"gzipAndStore RWORD\");\n              gzipAndStore(RWORD, words);\n              if (window.debug) window.debug(\"NWORD nwords\");\n              gzipAndStore(NWORD, nwords, 1);\n              allWords = nwords.concat(words);\n              if (lastSyncDate) storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(sinceName, new Date(new Date(lastSyncDate).getTime() + 1000).toISOString());\n              if (window.debug) window.debug(\"config.fzWords \" + config.fzWords + \" \" + newList.length);\n\n              if (!(config.fzWords > 0 && newList.length > config.fzWords)) {\n                _context14.next = 79;\n                break;\n              }\n\n              console.log(newList);\n              rnewList = newList.map(function (e) {\n                var obj = Object.assign({}, e, {\n                  i: 1\n                });\n                delete obj[\"errorUrl\"]; // delete obj[\"n\"];\n\n                return obj;\n              });\n\n              if (!DataRep) {\n                _context14.next = 79;\n                break;\n              }\n\n              if (!(rnewList.length > 0)) {\n                _context14.next = 79;\n                break;\n              }\n\n              content = JSON.stringify(rnewList);\n              console.log(content);\n              _context14.next = 74;\n              return updateRepFile(name, rep, path, content);\n\n            case 74:\n              json = _context14.sent;\n              console.log(json);\n              if (window.debug) window.debug(json);\n              ret.error = json.error;\n\n              if (json.commit) {\n                lastSyncDate = new Date(new Date(json.commit.committer.date).getTime() + 1000).toISOString();\n                storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(sinceName, lastSyncDate);\n\n                (_words3 = words).unshift.apply(_words3, Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(rnewList.filter(function (e) {\n                  return e.n;\n                })));\n\n                gzipAndStore(RWORD, words);\n                nwords.length = 0;\n                if (window.debug) window.debug(\"save NWORD nwords\");\n                gzipAndStore(NWORD, nwords, 1);\n                allWords = words;\n              }\n\n            case 79:\n              ret.contents = allWords;\n              sendResponse(ret);\n\n            case 81:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14, null, [[13, 36], [45, 50]]);\n    }));\n\n    function words(_x27, _x28) {\n      return _words.apply(this, arguments);\n    }\n\n    return words;\n  }(),\n  videos: function () {\n    var _videos = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee15(reqeust, sendResp) {\n      var videos;\n      return regeneratorRuntime.wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              _context15.next = 2;\n              return fetchvideos(sendResp);\n\n            case 2:\n              videos = _context15.sent;\n              sendResp({\n                contents: videos,\n                done: 1\n              });\n\n            case 4:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15);\n    }));\n\n    function videos(_x29, _x30) {\n      return _videos.apply(this, arguments);\n    }\n\n    return videos;\n  }()\n};\nwindow.fetchvideos = fetchvideos;\n\nfunction loadMjUrls(_x31, _x32) {\n  return _loadMjUrls.apply(this, arguments);\n}\n/*\nfunction unGzip(content) {\n  return pako.ungzip(content, {\n    to: \"string\",\n  });\n}*/\n\n\nfunction _loadMjUrls() {\n  _loadMjUrls = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee21(request, sendResponse) {\n    var DataRep;\n    return regeneratorRuntime.wrap(function _callee21$(_context21) {\n      while (1) {\n        switch (_context21.prev = _context21.next) {\n          case 0:\n            DataRep = \"smlog\";\n\n            if (!DataRep) {\n              _context21.next = 4;\n              break;\n            }\n\n            _context21.next = 4;\n            return getBlobContent(DataRep, \"data\", request.content.p, 0, request.content.cache) //return fetch(\"https://smlog.github.io/data/mj.json?\" + request.content.cache)\n            //.then(r=>r.text())\n            .then(function (content) {\n              // let compressed = atob(content);\n              var compressed = pako.ungzip(window.atob(content), {\n                to: \"string\"\n              });\n              sendResponse({\n                content: jsonparse(compressed)\n              });\n            }).catch(function () {\n              sendResponse({\n                content: 0\n              });\n            });\n\n          case 4:\n          case \"end\":\n            return _context21.stop();\n        }\n      }\n    }, _callee21);\n  }));\n  return _loadMjUrls.apply(this, arguments);\n}\n\nfunction gZip(content) {\n  return pako.gzip(content, {\n    to: \"string\"\n  });\n}\n\nfunction gzipAndStore(key, obj, notzip) {\n  localStorage.setItem(key, notzip ? JSON.stringify(obj) : Object(_compress__WEBPACK_IMPORTED_MODULE_28__[\"encode\"])(JSON.stringify(obj)));\n}\n\nfunction loadUnGZipStore(key) {\n  var raw = localStorage.getItem(key);\n\n  if (raw) {\n    return raw[0] == \"[\" ? jsonparse(raw) : Object(_compress__WEBPACK_IMPORTED_MODULE_28__[\"decode\"])(localStorage.getItem(key));\n  }\n\n  return [];\n}\n\nfunction uploadCache() {\n  return _uploadCache.apply(this, arguments);\n}\n\nfunction _uploadCache() {\n  _uploadCache = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee22() {\n    var words, nwords, newList, rnewList, allWords, name, rep, json, date;\n    return regeneratorRuntime.wrap(function _callee22$(_context22) {\n      while (1) {\n        switch (_context22.prev = _context22.next) {\n          case 0:\n            words = loadUnGZipStore(RWORD) || [];\n            nwords = loadUnGZipStore(NWORD, 1) || [];\n            newList = nwords.filter(function (e) {\n              return !e.i && e.n || e.i && !e.n;\n            }).map(function (e) {\n              for (var p in e) {\n                p[0] == \"_\" && delete e[p];\n              }\n\n              return e;\n            });\n            rnewList = newList.map(function (e) {\n              return Object.assign({}, e, {\n                i: 1\n              });\n            });\n            words.unshift.apply(words, Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(rnewList));\n            allWords = nwords.concat(words);\n            nwords.length = 0;\n            name = \"smlog\";\n            rep = \"data\";\n            _context22.next = 11;\n            return updateRepFile(name, rep, \"updateData.json\", JSON.stringify({\n              words: allWords\n            }));\n\n          case 11:\n            json = _context22.sent;\n            date = new Date(new Date().getTime() + 1000).toISOString();\n\n            if (!json.commit) {\n              _context22.next = 17;\n              break;\n            }\n\n            _context22.next = 16;\n            return updateRepFile(name, rep, \"updateIndex.json\", JSON.stringify({\n              date: date\n            }));\n\n          case 16:\n            json = _context22.sent;\n\n          case 17:\n            if (!json.commit) {\n              _context22.next = 23;\n              break;\n            }\n\n            gzipAndStore(RWORD, allWords);\n            gzipAndStore(NWORD, nwords, 1);\n            console.info(\"merge ok\");\n            storejs__WEBPACK_IMPORTED_MODULE_22___default.a.set(\"uploadDate\", date);\n            return _context22.abrupt(\"return\", allWords);\n\n          case 23:\n            return _context22.abrupt(\"return\", 0);\n\n          case 24:\n          case \"end\":\n            return _context22.stop();\n        }\n      }\n    }, _callee22);\n  }));\n  return _uploadCache.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./src/service.js?");

/***/ }),

/***/ "./src/translator.js":
/*!***************************!*\
  !*** ./src/translator.js ***!
  \***************************/
/*! exports provided: isBackground, translateG, translate, translate2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBackground\", function() { return isBackground; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"translateG\", function() { return translateG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"translate\", function() { return translate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"translate2\", function() { return translate2; });\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ \"./node_modules/core-js/modules/es.string.split.js\");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ \"./node_modules/core-js/modules/es.array.join.js\");\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"./node_modules/core-js/modules/es.number.constructor.js\");\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ \"./node_modules/core-js/modules/es.symbol.js\");\n/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"./node_modules/core-js/modules/es.symbol.description.js\");\n/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"./node_modules/core-js/modules/es.symbol.iterator.js\");\n/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"./node_modules/core-js/modules/es.string.iterator.js\");\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.array.from.js */ \"./node_modules/core-js/modules/es.array.from.js\");\n/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ \"./node_modules/core-js/modules/es.array.slice.js\");\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ \"./node_modules/core-js/modules/es.function.name.js\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.regexp.test.js */ \"./node_modules/core-js/modules/es.regexp.test.js\");\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! core-js/modules/es.error.cause.js */ \"./node_modules/core-js/modules/es.error.cause.js\");\n/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"./node_modules/core-js/modules/es.regexp.to-string.js\");\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ \"./node_modules/core-js/modules/es.string.trim.js\");\n/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! md5 */ \"./node_modules/md5/md5.js\");\n/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var storejs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! storejs */ \"./node_modules/storejs/dist/store.js\");\n/* harmony import */ var storejs__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(storejs__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _compress__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @/compress */ \"./src/compress.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar appids = [\"20221205001484671\", \"20181025000225318\"];\nvar userkeys = [\"Ul_aVRQDvqQJOYHRAKDy\", \"s0rbKVj44RcEH9m4yXrf\"];\nvar gittoken = storejs__WEBPACK_IMPORTED_MODULE_25___default.a.get(\"token\");\n\nif (gittoken) {\n  var arr = gittoken.split(\"\").map(function (e) {\n    return e.charCodeAt(0);\n  });\n  appids.push(\"20220901001327423\");\n  userkeys.push([180, 186, 227, 197, 130, 183, 120, 166, 148, 195, 177, 172, 137, 181, 132, 141, 155, 194, 164, 150].map(function (e, i) {\n    return String.fromCharCode(e - arr[i]);\n  }).join(\"\"));\n}\n\nfunction isBackground() {\n  return chrome && chrome.runtime && chrome.runtime.sendMessage;\n}\nfunction translateG(_x) {\n  return _translateG.apply(this, arguments);\n}\n\nfunction _translateG() {\n  _translateG = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee(q) {\n    var ret;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ret = {};\n            _context.next = 3;\n            return fetch(\"https://smlog.github.io/data/BDa/\" + q.toLowerCase().substr(0, 3).trim() + \"/\" + q.toLowerCase() + \".json\").then(function (r) {\n              return r.json();\n            }).then(function (encode) {\n              var dictData = dictData = encode.anc ? Object(_compress__WEBPACK_IMPORTED_MODULE_26__[\"decode\"])(encode.anc) : Object(_compress__WEBPACK_IMPORTED_MODULE_26__[\"decode2\"])(encode.enc);\n\n              if (dictData.dict_result) {\n                console.log(dictData.dict_result.simple_means.symbols[0].ph_am);\n                ret.to = dictData.trans_result.data[0].dst;\n                ret.am = dictData.dict_result.simple_means.symbols[0].ph_am;\n                ret.en = dictData.dict_result.simple_means.symbols[0].ph_en;\n                if (dictData.dict_result.simple_means.symbols) ret.parts = dictData.dict_result.simple_means.symbols[0].parts;\n              } else if (dictData.trans_result) {\n                ret.to = dictData.trans_result.data[0].dst;\n              }\n\n              ret._raw = dictData;\n              return ret;\n            });\n\n          case 3:\n            console.log(ret);\n            ret.src = \"G\";\n            return _context.abrupt(\"return\", ret);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _translateG.apply(this, arguments);\n}\n\nfunction translate(_x2) {\n  return _translate.apply(this, arguments);\n}\n\nfunction _translate() {\n  _translate = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(q) {\n    var ret, ok, ret2;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ret = {};\n            console.log(q);\n            ok = 0;\n\n            if (ok) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 6;\n            return tranApi(q, 0);\n\n          case 6:\n            ret2 = _context2.sent;\n            if (ret2) ret = Object.assign(ret, ret2);\n\n          case 8:\n            ret.src = \"BD\";\n            return _context2.abrupt(\"return\", ret);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _translate.apply(this, arguments);\n}\n\nfunction tranApi(_x3, _x4) {\n  return _tranApi.apply(this, arguments);\n}\n\nfunction _tranApi() {\n  _tranApi = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(q, index) {\n    var salt, appid, userkey, sign, isen, iscn, from, to, type, i, ret;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(userkeys.length <= index)) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\");\n\n          case 2:\n            salt = new Date().getTime();\n            /* 待翻译文本 传入url */\n\n            /* 从页面获取选择的目标语言 传入url */\n\n            /* md5加密，生成签名 */\n\n            appid = appids[index];\n            userkey = userkeys[index];\n            console.log(appid, userkey);\n            sign = md5__WEBPACK_IMPORTED_MODULE_22___default()(appid + q + salt + userkey);\n            isen = /[a-zA-Z0-9,.+;!-]/.test(q);\n            iscn = /[\\u4e00-\\u9fa5]/.test(q);\n            from = isen ? \"en\" : iscn ? \"zh\" : \"auto\";\n            to = isen ? \"zh\" : \"en\";\n            type = isBackground() ? \"json\" : \"jsonp\";\n            i = 0;\n\n          case 13:\n            if (!(i < 1)) {\n              _context3.next = 29;\n              break;\n            }\n\n            _context3.prev = 14;\n            _context3.next = 17;\n            return new Promise(function (resolve, reject) {\n              jquery__WEBPACK_IMPORTED_MODULE_24___default.a.ajax({\n                url: \"https://api.fanyi.baidu.com/api/trans/vip/translate\",\n                type: \"get\",\n                dataType: type,\n                jsonpCallback: \"jcb\",\n                timeout: 5000,\n                cache: 1,\n                data: {\n                  q: q,\n                  appid: appid,\n                  salt: salt,\n                  from: from,\n                  to: to,\n                  sign: sign,\n                  tts: 0,\n                  dict: 0\n                },\n                success: function success(data) {\n                  console.log(data);\n\n                  if (!data.trans_result && data.error_code) {\n                    setTimeout(function () {\n                      tranApi(q, ++index).then(function (r) {\n                        return resolve(r);\n                      }).catch(function (r) {\n                        return reject(r);\n                      });\n                    }, 300);\n                  } else {\n                    console.log(data.trans_result[0].dst);\n                    resolve({\n                      q: data.trans_result[0].src,\n                      to: data.trans_result[0].dst\n                    });\n                  }\n                },\n                error: function error(err) {\n                  reject(err);\n                }\n              });\n            });\n\n          case 17:\n            ret = _context3.sent;\n            console.log(ret);\n            return _context3.abrupt(\"return\", ret);\n\n          case 22:\n            _context3.prev = 22;\n            _context3.t0 = _context3[\"catch\"](14);\n            console.error(_context3.t0);\n            throw _context3.t0;\n\n          case 26:\n            i++;\n            _context3.next = 13;\n            break;\n\n          case 29:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[14, 22]]);\n  }));\n  return _tranApi.apply(this, arguments);\n}\n\nvar getSign2 = function getSign2() {\n  function e(t, e) {\n    (null == e || e > t.length) && (e = t.length);\n\n    for (var n = 0, r = new Array(e); n < e; n++) {\n      r[n] = t[n];\n    }\n\n    return r;\n  }\n\n  function n(t, e) {\n    for (var n = 0; n < e.length - 2; n += 3) {\n      var r = e.charAt(n + 2);\n      r = \"a\" <= r ? r.charCodeAt(0) - 87 : Number(r), r = \"+\" === e.charAt(n + 1) ? t >>> r : t << r, t = \"+\" === e.charAt(n) ? t + r & 4294967295 : t ^ r;\n    }\n\n    return t;\n  }\n\n  var tmp = null;\n  return function (t) {\n    tmp = null;\n    var o,\n        i = t.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g);\n\n    if (null === i) {\n      var a = t.length;\n      a > 30 && (t = \"\".concat(t.substr(0, 10)).concat(t.substr(Math.floor(a / 2) - 5, 10)).concat(t.substr(-10, 10)));\n    } else {\n      for (var s = t.split(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/), c = 0, u = s.length, l = []; c < u; c++) {\n        \"\" !== s[c] && l.push.apply(l, function (t) {\n          if (Array.isArray(t)) return e(t);\n        }(o = s[c].split(\"\")) || function (t) {\n          if (\"undefined\" != typeof Symbol && null != t[Symbol.iterator] || null != t[\"@@iterator\"]) return Array.from(t);\n        }(o) || function (t, n) {\n          if (t) {\n            if (\"string\" == typeof t) return e(t, n);\n            var r = Object.prototype.toString.call(t).slice(8, -1);\n            return \"Object\" === r && t.constructor && (r = t.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(t) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? e(t, n) : void 0;\n          }\n        }(o) || function () {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }()), c !== u - 1 && l.push(i[c]);\n      }\n\n      var p = l.length;\n      p > 30 && (t = l.slice(0, 10).join(\"\") + l.slice(Math.floor(p / 2) - 5, Math.floor(p / 2) + 5).join(\"\") + l.slice(-10).join(\"\"));\n    }\n\n    for (var d = \"\".concat(String.fromCharCode(103)).concat(String.fromCharCode(116)).concat(String.fromCharCode(107)), h = (null !== tmp ? tmp : (tmp = window[d] || \"\") || \"\").split(\".\"), f = Number(h[0]) || 0, m = Number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n      var _ = t.charCodeAt(v);\n\n      _ < 128 ? g[y++] = _ : (_ < 2048 ? g[y++] = _ >> 6 | 192 : (55296 == (64512 & _) && v + 1 < t.length && 56320 == (64512 & t.charCodeAt(v + 1)) ? (_ = 65536 + ((1023 & _) << 10) + (1023 & t.charCodeAt(++v)), g[y++] = _ >> 18 | 240, g[y++] = _ >> 12 & 63 | 128) : g[y++] = _ >> 12 | 224, g[y++] = _ >> 6 & 63 | 128), g[y++] = 63 & _ | 128);\n    }\n\n    for (var b = f, w = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(97)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(54)), k = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(51)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(98)) + \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(102)), x = 0; x < g.length; x++) {\n      b = n(b += g[x], w);\n    }\n\n    return b = n(b, k), (b ^= m) < 0 && (b = 2147483648 + (2147483647 & b)), \"\".concat((b %= 1e6).toString(), \".\").concat(b ^ f);\n  };\n};\n\nvar token, gtk;\nconsole.log(token, gtk);\nfunction translate2(_x5, _x6) {\n  return _translate2.apply(this, arguments);\n}\n\nfunction _translate2() {\n  _translate2 = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(q, opts) {\n    var ct, isen, iscn, datas, result;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            ct = 2;\n\n          case 1:\n            if (!(ct > 0)) {\n              _context4.next = 17;\n              break;\n            }\n\n            ct--;\n            console.log(opts);\n\n            if (token) {\n              _context4.next = 7;\n              break;\n            }\n\n            _context4.next = 7;\n            return axios__WEBPACK_IMPORTED_MODULE_23___default.a.get(\"https://fanyi.baidu.com/#/en/zh\").then(function (resp) {\n              gtk = resp.data.match(/window.gtk = \"(.*?)\"/)[1];\n              token = resp.data.match(/token: '(.*?)'/)[1];\n              console.log(gtk + \" \" + token);\n              window.gtk = gtk;\n              return [gtk, token];\n            });\n\n          case 7:\n            isen = /[a-zA-Z0-9,.+;!-]/.test(q);\n            iscn = /[\\u4e00-\\u9fa5]/.test(q);\n            datas = {\n              from: isen ? \"en\" : iscn ? \"zh\" : \"auto\",\n              to: isen ? \"zh\" : \"en\",\n              query: q,\n              transtype: \"realtime\",\n              simple_means_flag: 3,\n              sign: getSign2()(q, gtk),\n              token: token,\n              domain: \"common\"\n            };\n            _context4.next = 12;\n            return axios__WEBPACK_IMPORTED_MODULE_23___default()({\n              url: \"https://fanyi.baidu.com/v2transapi\",\n              method: \"post\",\n              data: datas,\n              transformRequest: [function (data) {\n                var ret = \"\";\n\n                for (var it in data) {\n                  ret += encodeURIComponent(it) + \"=\" + encodeURIComponent(data[it]) + \"&\";\n                }\n\n                return ret.substring(0, ret.length - 1);\n              }],\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                Origin: \"https://fanyi.baidu.com\",\n                Referer: \"https://fanyi.baidu.com/\"\n              }\n            }).then(function (res) {\n              console.log(res);\n              var dictData = res.data;\n              var ret = {};\n\n              if (dictData.errno) {\n                token = \"\";\n              }\n\n              if (token) {\n                if (dictData.dict_result) {\n                  console.log(dictData.dict_result.simple_means.symbols[0].ph_am);\n                  ret.to = dictData.trans_result.data[0].dst;\n                  ret.am = dictData.dict_result.simple_means.symbols[0].ph_am;\n                  ret.en = dictData.dict_result.simple_means.symbols[0].ph_en;\n                  if (dictData.dict_result.simple_means.symbols) ret.parts = dictData.dict_result.simple_means.symbols[0].parts;\n                } else if (dictData.trans_result) {\n                  ret.to = dictData.trans_result.data[0].dst;\n                }\n\n                ret._raw = dictData;\n              }\n\n              return ret;\n            });\n\n          case 12:\n            result = _context4.sent;\n\n            if (!token) {\n              _context4.next = 15;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", result);\n\n          case 15:\n            _context4.next = 1;\n            break;\n\n          case 17:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _translate2.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./src/translator.js?");

/***/ }),

/***/ "./src/tts.js":
/*!********************!*\
  !*** ./src/tts.js ***!
  \********************/
/*! exports provided: SILENT, toogleBg, playAudio, cacheWordTts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SILENT\", function() { return SILENT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toogleBg\", function() { return toogleBg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"playAudio\", function() { return playAudio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cacheWordTts\", function() { return cacheWordTts; });\n/* harmony import */ var _Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ \"./node_modules/core-js/modules/es.object.keys.js\");\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.regexp.test.js */ \"./node_modules/core-js/modules/es.regexp.test.js\");\n/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"./node_modules/core-js/modules/es.string.iterator.js\");\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ \"./node_modules/core-js/modules/es.array.slice.js\");\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ \"./node_modules/core-js/modules/es.array.splice.js\");\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\nvar SILENT = \"data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\";\n\nfunction sleep(_x) {\n  return _sleep.apply(this, arguments);\n}\n\nfunction _sleep() {\n  _sleep = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee(t) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              setTimeout(function () {\n                resolve(t);\n              }, t);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sleep.apply(this, arguments);\n}\n\nvar TTS_Providers = {\n  YD: function YD(request) {\n    var lan = request.lang || \"en\";\n    var content = request.content;\n    if (lan == \"zh\") return \"https://tts.youdao.com/fanyivoice?word=\".concat(encodeURIComponent(content), \"&le=cn&keyfrom=speaker-target\");\n    if (lan == \"en\") return \"https://dict.youdao.com/dictvoice?audio=\".concat(encodeURIComponent(content), \"&type=2\");\n  },\n  BD: function BD(request) {\n    var lan = request.lang || \"en\";\n    var speed = request.speed || 5;\n    var content = request.content;\n    return \"https://fanyi.baidu.com/gettts?lan=\".concat(lan, \"&text=\").concat(encodeURIComponent(content), \"&spd=\").concat(speed, \"&source=web\");\n  },\n  BK: function BK(request) {\n    // let lan = request.lang || \"en\";\n    var content = request.content; // if (lan != \"zh\") return;\n\n    return \"https://tts.baidu.com/text2audio?cuid=baike&lan=ZH&ctp=1&pdt=301&vol=9&rate=32&per=0&tex=\".concat(encodeURI(content));\n  },\n  SG: function SG(request) {\n    var content = request.content;\n    return \"https://fanyi.sogou.com/reventondc/synthesis?text=\".concat(encodeURIComponent(content), \"&speed=1&lang=zh-CHS&from=translateweb&speaker=1\");\n  }\n};\nvar ALL_TTS = Object.keys(TTS_Providers);\nvar lastOKTTS = {};\nvar onendlisteners = [];\nvar onloadeddatas = [];\nvar onerrors = [];\nvar hasinit = 0;\n\nfunction initAudio(audio) {\n  if (!hasinit) {\n    window.maudio = audio;\n    audio.addEventListener(\"canplaythrough\", function () {\n      audio.play();\n    });\n    audio.addEventListener(\"ended\", function () {\n      while (onendlisteners.length) {\n        onendlisteners.pop()();\n      }\n    });\n    audio.addEventListener(\"loadeddata\", function () {\n      while (onloadeddatas.length) {\n        onloadeddatas.pop()();\n      }\n    });\n    audio.addEventListener(\"error\", function () {\n      while (onerrors.length) {\n        onerrors.pop()();\n      }\n    });\n  }\n\n  hasinit = 1;\n} //let bgAudio = new Audio();\n\n\nfunction toogleBg(_x2) {\n  return _toogleBg.apply(this, arguments);\n}\n\nfunction _toogleBg() {\n  _toogleBg = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(b) {\n    var bgAudio;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            bgAudio = document.querySelector(\"#bgAudio\");\n            bgAudio.loop = 1;\n            bgAudio.src = SILENT;\n            console.error(b);\n            if (b) bgAudio.play();else bgAudio.pause();\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _toogleBg.apply(this, arguments);\n}\n\nfunction playAudio(_x3, _x4, _x5, _x6) {\n  return _playAudio.apply(this, arguments);\n}\n\nfunction _playAudio() {\n  _playAudio = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(autoSound, sendResp, request, audio) {\n    return regeneratorRuntime.wrap(function _callee4$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            initAudio(audio);\n            _context5.prev = 1;\n            return _context5.delegateYield( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n              var tts, lan, index, _loop, i, _ret;\n\n              return regeneratorRuntime.wrap(function _callee3$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      if (!autoSound) sendResp();\n                      lan = request.lang || \"en\";\n\n                      if (autoSound == \"auto\") {\n                        tts = ALL_TTS.slice();\n\n                        if (lastOKTTS[lan]) {\n                          index = tts.indexOf(lastOKTTS[lan]);\n\n                          if (index != 0) {\n                            tts.splice(index, 1);\n                            tts.unshift(lastOKTTS[lan]);\n                          }\n                        }\n                      } else if (autoSound) tts = [autoSound];else tts = [];\n\n                      _loop = /*#__PURE__*/regeneratorRuntime.mark(function _loop(i) {\n                        var curProvide, src, waitend, ret, wret;\n                        return regeneratorRuntime.wrap(function _loop$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                curProvide = tts[i];\n                                src = TTS_Providers[curProvide](request);\n\n                                if (src) {\n                                  _context3.next = 4;\n                                  break;\n                                }\n\n                                return _context3.abrupt(\"return\", \"continue\");\n\n                              case 4:\n                                console.log(audio.paused, audio.currentTime, audio.duration);\n\n                              case 5:\n                                if (!(audio.paused && audio.currentTime > 0 && audio.currentTime < audio.duration)) {\n                                  _context3.next = 11;\n                                  break;\n                                }\n\n                                _context3.next = 8;\n                                return sleep(1000);\n\n                              case 8:\n                                console.log(audio.paused, audio.currentTime, audio.duration);\n                                _context3.next = 5;\n                                break;\n\n                              case 11:\n                                // audio.loop = 0;\n                                // audio.pause();\n                                waitend = void 0;\n                                _context3.next = 14;\n                                return Promise.race([new Promise(function (resolve) {\n                                  onerrors.push(function () {\n                                    console.error(\"onerror\");\n                                    resolve(3000);\n                                  });\n                                  waitend = new Promise(function (r) {\n                                    onendlisteners.push(function () {\n                                      lastOKTTS[lan] = curProvide;\n                                      r(0);\n                                    });\n                                  });\n                                  onloadeddatas.push(function () {\n                                    if (isNaN(audio.duration)) {\n                                      resolve(3000);\n                                    } else {\n                                      resolve(0);\n                                    }\n                                  });\n                                  audio.src = src + \"&_tts=1\";\n                                  var isBlock = 1;\n                                  setTimeout(function () {\n                                    if (isBlock) {\n                                      audio.title = \"...error\";\n                                      console.error(\"block error\");\n                                      resolve(3000);\n                                    }\n                                  }, 1000);\n                                  audio.load();\n\n                                  try {\n                                    audio.play();\n                                  } catch (error) {\n                                    console.log(error);\n                                  }\n\n                                  isBlock = 0;\n                                }), sleep(3000)]);\n\n                              case 14:\n                                ret = _context3.sent;\n\n                                if (!(ret != 3000)) {\n                                  _context3.next = 21;\n                                  break;\n                                }\n\n                                _context3.next = 18;\n                                return Promise.race([waitend, sleep((audio.duration + 1) * 1000)]);\n\n                              case 18:\n                                wret = _context3.sent;\n\n                                if (wret) {\n                                  _context3.next = 21;\n                                  break;\n                                }\n\n                                return _context3.abrupt(\"return\", \"break\");\n\n                              case 21:\n                              case \"end\":\n                                return _context3.stop();\n                            }\n                          }\n                        }, _loop);\n                      });\n                      i = 0;\n\n                    case 5:\n                      if (!(i < tts.length)) {\n                        _context4.next = 15;\n                        break;\n                      }\n\n                      return _context4.delegateYield(_loop(i), \"t0\", 7);\n\n                    case 7:\n                      _ret = _context4.t0;\n\n                      if (!(_ret === \"continue\")) {\n                        _context4.next = 10;\n                        break;\n                      }\n\n                      return _context4.abrupt(\"continue\", 12);\n\n                    case 10:\n                      if (!(_ret === \"break\")) {\n                        _context4.next = 12;\n                        break;\n                      }\n\n                      return _context4.abrupt(\"break\", 15);\n\n                    case 12:\n                      i++;\n                      _context4.next = 5;\n                      break;\n\n                    case 15:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, _callee3);\n            })(), \"t0\", 3);\n\n          case 3:\n            _context5.next = 8;\n            break;\n\n          case 5:\n            _context5.prev = 5;\n            _context5.t1 = _context5[\"catch\"](1);\n            console.error(_context5.t1);\n\n          case 8:\n            // audio.onloadeddata = audio.onerror = audio.onended = undefined;\n            // audio.loop = 1;\n            console.error(\"loop\");\n            audio.src = SILENT;\n            audio.load(); //audio.play();\n\n            console.error(\"sendresponse\");\n            _context5.next = 14;\n            return sleep(100);\n\n          case 14:\n            sendResp({});\n\n          case 15:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee4, null, [[1, 5]]);\n  }));\n  return _playAudio.apply(this, arguments);\n}\n\nvar aaa = new Audio();\naaa.muted = 1;\naaa.rel = \"noreferrer\";\naaa.src = SILENT;\ndocument.addEventListener(\"click\", function () {\n  if (!aaa.inited) {\n    aaa.play();\n    aaa.inited = 1;\n  }\n});\nfunction cacheWordTts(_x7, _x8) {\n  return _cacheWordTts.apply(this, arguments);\n}\n\nfunction _cacheWordTts() {\n  _cacheWordTts = Object(_Users_alexwang_git_extension_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(en, zh) {\n    var list, _loop2, i;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            console.log(zh, en);\n            list = Object.keys(TTS_Providers).map(function (e) {\n              return [TTS_Providers[e]({\n                content: en,\n                lan: \"en\"\n              }), TTS_Providers[e]({\n                content: zh,\n                lan: \"zh\"\n              })];\n            });\n            _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(i) {\n              var _loop3, j;\n\n              return regeneratorRuntime.wrap(function _loop2$(_context7) {\n                while (1) {\n                  switch (_context7.prev = _context7.next) {\n                    case 0:\n                      _loop3 = /*#__PURE__*/regeneratorRuntime.mark(function _loop3(j) {\n                        return regeneratorRuntime.wrap(function _loop3$(_context6) {\n                          while (1) {\n                            switch (_context6.prev = _context6.next) {\n                              case 0:\n                                _context6.next = 2;\n                                return fetch(list[i][j] + \"&_tts=1\", {\n                                  mode: \"no-cors\"\n                                }).catch(function () {\n                                  console.error(list[i][j]);\n                                }).then(function () {\n                                  return console.log(list[i][j]);\n                                });\n\n                              case 2:\n                                if (true) {\n                                  _context6.next = 5;\n                                  break;\n                                }\n\n                                _context6.next = 5;\n                                return new Promise(function (resolve, reject) {\n                                  var a = aaa;\n                                  var url = list[i][j];\n                                  a.muted = 1;\n                                  a.preload = \"auto\";\n\n                                  a.onended = function () {\n                                    console.log(\"ended\");\n                                    resolve(url);\n                                  };\n\n                                  a.src = url + \"&_tts=1\";\n                                  a.play();\n\n                                  a.onerror = function () {\n                                    reject(url);\n                                  };\n                                }).catch(function (err) {\n                                  console.error(err);\n                                });\n\n                              case 5:\n                              case \"end\":\n                                return _context6.stop();\n                            }\n                          }\n                        }, _loop3);\n                      });\n                      j = 0;\n\n                    case 2:\n                      if (!(j < list[i].length)) {\n                        _context7.next = 7;\n                        break;\n                      }\n\n                      return _context7.delegateYield(_loop3(j), \"t0\", 4);\n\n                    case 4:\n                      j++;\n                      _context7.next = 2;\n                      break;\n\n                    case 7:\n                    case \"end\":\n                      return _context7.stop();\n                  }\n                }\n              }, _loop2);\n            });\n            i = 0;\n\n          case 4:\n            if (!(i < list.length)) {\n              _context8.next = 9;\n              break;\n            }\n\n            return _context8.delegateYield(_loop2(i), \"t0\", 6);\n\n          case 6:\n            i++;\n            _context8.next = 4;\n            break;\n\n          case 9:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _cacheWordTts.apply(this, arguments);\n}\n\nwindow.test = cacheWordTts;\n\n//# sourceURL=webpack:///./src/tts.js?");

/***/ })

}]);