!function(e){function t(t){for(var i,o,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(l&&l(t);f.length;)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={index:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([4,"chunk-vendors","chunk-common"]),n()}({0:function(e,t){},"0554":function(e,t,n){"use strict";n("e621")},"05e4":function(e,t,n){},1:function(e,t){},"141b":function(e,t,n){},2:function(e,t){},"294d":function(e,t,n){},"2aa3":function(e,t,n){},"34eb":function(e,t,n){"use strict";n("6ff8")},4:function(e,t,n){e.exports=n("56d7")},4329:function(e,t,n){},"43a4":function(e,t,n){"use strict";n("4771")},4771:function(e,t,n){},5082:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=n("5530"),a=(n("d3b7"),n("25f0"),n("498a"),n("b0c0"),n("2f62")),o=n("fdab"),s=n("1da1"),c=(n("96cf"),n("fb6a"),n("f5ef")),u=n("2909"),l=(n("d81d"),n("ac1f"),n("1276"),n("a434"),n("1157")),d=n.n(l),f={props:["word","playing","playMode","playRel"],data:function(){return{curPlay:"",rwords:[]}},created:function(){},computed:{relwordList:function(){return this.rwords.slice(0,Math.min(this.rwords.length,this.playRel))},relwords:function(){return this.$store.state.config.relwords}},methods:{playWords:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=d()(e),t.curPlay=t.word.q,t.scroll2el(d()(t.$refs.word),i),t.playing){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,t.playSound(t.word,!0);case 8:if(!(t.playMode>=2)){n.next=13;break}return n.next=11,t.sleep(500);case 11:return n.next=13,t.playSound(t.word,!0);case 13:if(!t.isSpell){n.next=24;break}return n.next=16,t.sleep(1e3);case 16:r=t.curPlay.split("").map((function(e){return e})),a=0;case 18:if(!(a<r.length)){n.next=24;break}return n.next=21,t.tts("en",r[a],!0,6);case 21:a++,n.next=18;break;case 24:if(!(t.playMode>=3)){n.next=27;break}return n.next=27,t.playSound(t.word,!0,"zh");case 27:return n.next=29,t.sleep(1e3);case 29:if(!t.playRel){n.next=32;break}return n.next=32,t.playRwords(i);case 32:t.curPlay="";case 33:case"end":return n.stop()}}),n)})))()},playRwords:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t.rwords,r=0;case 2:if(!(r<i.length)){n.next=21;break}if(t.playing){n.next=5;break}return n.abrupt("return");case 5:return t.curPlay=i[r].q,t.scroll2el(d()(t.$refs.rword[r]),e),n.next=10,t.playSound(i[r],!0);case 10:if(!(t.playMode>=2)){n.next=13;break}return n.next=13,t.playSound(i[r],!0);case 13:if(!(t.playMode>=3)){n.next=16;break}return n.next=16,t.playSound(i[r],!0,"zh");case 16:return n.next=18,t.sleep(1e3);case 18:r++,n.next=2;break;case 21:case"end":return n.stop()}}),n)})))()},onEnterPlay:function(e,t){var n=this;Object(s.a)(regeneratorRuntime.mark((function i(){var r,a,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=!1,a=function t(){r=!0,e.target.removeEventListener("mouseout",t)},e.target.addEventListener("mouseout",a),o=0;case 4:if(!(o<100)){i.next=13;break}if(!r){i.next=7;break}return i.abrupt("return");case 7:return i.next=10,n.playSound(t,!0);case 10:o++,i.next=4;break;case 13:case"end":return i.stop()}}),i)})))()},loadRords:function(e){if(e){var t=this;d.a.ajax({url:"/data/word/r/"+e.q.substring(0,2)+"/"+e.q+".js",type:"get",dataType:"jsonp",jsonpCallback:e.q,timeout:5e3,cache:1,success:function(e){var n;t.rwords.length=0;var i=e[1].map((function(e){return{q:e[0],to:e[1],am:e[2]}}));(n=t.rwords).push.apply(n,Object(u.a)(i))},error:function(e){t.rwords.length=0}})}}},mounted:function(){this.relwords&&this.loadRords(this.word)},watch:{relwords:function(e){e?this.loadRords(this.word):this.rwords.splice(0,this.rwords.length)}}},p=(n("34eb"),n("2877")),h=Object(p.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"word",staticClass:"word",staticStyle:{padding:"5px 0"}},[n("div",{class:{detach:!e.word.i&e.word.n,remove:!e.word.n}},[n("div",{class:{cur:e.curPlay==e.word.q},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.playSound(e.word)}}},[e._v(" "+e._s(e.word.q)+" "),e.word.am?n("b",{on:{mouseenter:function(t){return e.onEnterPlay(t,e.word)}}},[e._v(" ["+e._s(e.word.am)+"]")]):e._e()]),n("div",{staticStyle:{"font-weight":"bold"}},[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleItemIsNew(e.word,t)}}},[e._v(e._s(e.word.to))])])]),e._l(e.relwordList,(function(t){return n("div",{key:t.q,ref:"rword",refInFor:!0,staticClass:"rword"},[n("div",{class:{cur:e.curPlay==t.q},staticStyle:{cursor:"pointer"},on:{click:function(n){return e.playSound(t)}}},[e._v(" "+e._s(t.q)+" "),t.am?n("b",{on:{mouseenter:function(n){return e.onEnterPlay(n,t)}}},[e._v(" ["+e._s(t.am)+"]")]):e._e()]),n("div",[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return e.toggleItemIsNew(t,n)}}},[e._v(e._s(t.to))])])])}))],2)}),[],!1,null,"12994e18",null).exports,g={data:function(){return{pageSize:5,page:1,playMode:0,playRel:0,playing:0}},created:function(){},components:{WordItem:h},computed:Object(r.a)({relwords:function(){return this.$store.state.config.relwords},pageList:function(){var e=this.words;return 0==e.length?e:e.slice((this.page-1)*this.pageSize,this.page*this.pageSize)},pages:function(){var e=this.words;return Math.floor((e.length+this.pageSize-1)/this.pageSize)}},Object(a.b)(["curItem","words"])),methods:{changePlayMode:function(){this.playing&&this.playMode?(this.playMode=this.playMode>2?0:this.playMode+1,0==this.playMode&&(this.playing=0)):(this.playing=!this.playing,this.playMode||(this.playMode=1))},changePlayNum:function(e){},getPageItems:function(e){var t=this.words;return 0==t.length?[]:t.slice(e*this.pageSize,(e+1)*this.pageSize)},toPage:function(e){e<1||e>this.pages||(this.page=e)},playList:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.page-1;case 1:if(!(n<e.pages)){t.next=23;break}e.getPageItems(n),i=0;case 5:if(!(i<e.$refs.word.length)){t.next=17;break}if(e.playing){t.next=9;break}return e.$store.commit("curPlay",null),t.abrupt("return");case 9:return t.next=12,e.sleep(1);case 12:return t.next=14,e.$refs.word[i].playWords(e.$refs.words);case 14:i++,t.next=5;break;case 17:return e.page++,t.next=20,e.sleep(1);case 20:n++,t.next=1;break;case 23:e.playing=0;case 24:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;c.a.$on("toggleAutoPlay",(function(){e.playing=!e.playing}))},watch:{playing:function(e){e&&this.playList()}}},m=(n("cc6b"),Object(p.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"words",staticClass:"witems",staticStyle:{padding:"5px",background:"white","max-height":"calc(100vh - 180px)",overflow:"auto"}},e._l(e.pageList,(function(t){return n("WordItem",{key:t.q,ref:"word",refInFor:!0,staticStyle:{padding:"5px 0"},attrs:{word:t,playMode:e.playMode,playing:e.playing,playRel:e.playRel}})})),1),n("div",{staticClass:"bottom"},[n("a",{class:{playing:e.playing},on:{click:function(t){return e.changePlayMode()}}},[e._v("Play"+e._s(e.playMode))]),e.relwords?n("a",{on:{click:function(t){e.playRel=e.playRel>=20?0:e.playRel+5}}},[e._v(" PR"+e._s(e.playRel)+" ")]):e._e(),n("div",{staticStyle:{"text-align":"right",float:"right"}},[e._v(" ("),n("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),n("a",{staticClass:"ctrl",on:{click:function(t){e.toPage(parseInt(e.page)-1)}}},[e._v(" Prev ")]),n("a",{staticClass:"ctrl",on:{click:function(t){e.toPage(parseInt(e.page)+1)}}},[e._v(" Next ")])])])])}),[],!1,null,"5b92ada4",null)).exports,v=(n("99af"),n("5319"),n("7db0"),n("a15b"),n("466d"),n("4de4"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("841c"),n("b60c")),w=n("ba5f"),y=n("1f80"),b=n("53ca"),x=(n("a630"),n("6062"),n("4e82"),n("159b"),n("34e9")),k=n("eb5e"),T=n.n(k),_=n("db49"),C=n("da7e"),S=n.n(C),j=S.a.get("my")||[],O=[{n:"Radio",data:[],a:1},{n:"Video",c:_.d,data:function(){return this.videos}},{n:"Fav",data:j,c:[]},{n:"TV",data:[],c:[],s:function(e,t){return(e["group-title"]+e["tvg-language"]+e["tvg-country"]+e.title).toLowerCase().indexOf(t)>-1},c2:[],c2f:function(e,t){var n=e["tvg-language"];return n&&n.indexOf(t)>-1},title:function(e){return e.title},cnt:{}},{n:"MJ",data:[],c:[],disabled:1},{n:"Local",data:[],c:[],disabled:0,del:1}],$=Array.from(new Set(j.map((function(e){return O[e.mediaType].n}))));O[2].c=$;var A={data:function(){return{refresh:1,cachedNum:0,loading:0,favMap:j.reduce((function(e,t){return e[t.vid]=1,e}),{}),mediaTypes:O,curOpt1:"",curOpt2:"",pageSize:500,page:1,curVideoId:"",search:"",busy:0,mediaType:1,subIndex:0,done:0}},created:function(){},computed:Object(r.a)(Object(r.a)({},Object(a.b)(["words"])),{},{preload:function(){return this.$store.state.config.preload},cnt:function(){return this.mediaTypes[this.mediaType].cnt},curMediaType:function(){return this.mediaTypes[this.mediaType]},opts1:function(){var e=this,t=this.mediaTypes[this.mediaType].c||[],n=this.mediaTypes[this.mediaType].cnt;return this.curOpt2&&n&&(t=t.filter((function(t){return n[t+e.curOpt2]}))),t},opts2:function(){var e=this,t=this.mediaTypes[this.mediaType].c2||[],n=this.mediaTypes[this.mediaType].cnt;return this.curOpt1&&n&&(t=t.filter((function(t){return n[e.curOpt1+t]}))),t},pageList:function(){var e=this.searchList();return e.length>0&&(e=e.slice(0,this.page*this.pageSize)),e},pages:function(){var e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)}},Object(a.b)(["videos"])),methods:{ifneedload:function(){0==this.pageList.length&&"Video"==this.curMediaType.n&&c.a.$emit("fresh","videos",1)},cacheWords:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r,a,o,s,c,u,l,d,f,p,h,g,m,w,b,x,k,T;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0,i="","",!(r=e.cc)){n.next=74;break}if(a="",0!=r.indexOf("http")){n.next=17;break}return n.prev=7,n.next=10,fetch(r).then((function(e){return e.text()}));case 10:if(0==(a=n.sent).indexOf("<?xml")){for(a=a.replace(/\n/g,""),o=/<p begin="(.*?)" end="(.*?)".*?>(.*?)<\/p>/g,c="WEBVTT\n\n",u=-1;null!=(s=o.exec(a));)-1==u&&(u=12==s[1].length?0:1),c+=u?"".concat(s[1],"0 --\x3e ").concat(s[2],"0\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n"):"".concat(s[1]," --\x3e ").concat(s[2],"\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n");a=c,1}n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7);case 17:if(l=a.match(/[A-Z]/g),d=a.match(/[a-z]/gi,""),0,!(l&&d&&l.length/d.length>.4)){n.next=57;break}(f=a.split(/\n+/).filter((function(e){return 2!=e.indexOf(":")}))).shift(),p=[],h=0;case 25:if(!(h<f.length)){n.next=54;break}g=f[h].trim(),m=h+1;case 28:if(!(m<f.length)){n.next=38;break}if(!(f[m].trim().indexOf(g)>-1)){n.next=34;break}return g=f[h=m].trim(),n.abrupt("continue",35);case 34:return n.abrupt("break",38);case 35:m++,n.next=28;break;case 38:w=p.length,b=w-1;case 41:if(!(b>=0&&w>=p.length-4)){n.next=49;break}if(x=p[b],0!=g.indexOf(x)){n.next=46;break}return w=b,n.abrupt("continue",46);case 46:b--,n.next=41;break;case 49:p.length=w,p.push(g);case 51:h++,n.next=25;break;case 54:a=p.join(" ").toLowerCase().replace(/\s+/," "),n.next=58;break;case 57:1;case 58:if(!(i=a).trim()){n.next=74;break}k=Object(v.b)(t.words,i,!1),T=0;case 64:if(!(T<k[1].length)){n.next=74;break}return n.next=70,Object(y.b)(k[1][T].q,k[1][T].to);case 70:case 71:T++,n.next=64;break;case 74:case"end":return n.stop()}}),n,null,[[7,14]])})))()},getFileBase64:function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return t(i.result)},i.onerror=function(e){return n(e)}}))},cache:function(e){var t=this;if(this.config.isAudio&&1==this.mediaType&&this.config.audioCacheNum>0){this.curIndex=e;var n=this.searchList(),i=this.config.audioCacheNum,r=this;Object(s.a)(regeneratorRuntime.mark((function a(){var o,s,u,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.cachedNum=0,o=0,s=regeneratorRuntime.mark((function a(s){var u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e==t.curIndex){a.next=2;break}return a.abrupt("return","break");case 2:if(u=n[s],!r.config.cacheMode){a.next=6;break}return a.abrupt("return",{v:void 0});case 6:return a.prev=6,a.next=9,t.loadCache("video-"+u.vid).then((function(e){e&&Object.assign(u,e)}));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(6);case 14:return a.next=16,Object(_.b)(u,t.mediaType);case 16:if(null!=u.audio){a.next=31;break}return a.prev=17,a.next=20,Object(x.d)(u);case 20:if(c.a.$emit("video",u),!(t.config.isAudio<2&&u.cc)){a.next=26;break}return a.next=26,Object(x.c)(u.cc);case 26:a.next=31;break;case 28:a.prev=28,a.t1=a.catch(17);case 31:if(!u._c){a.next=37;break}return u._c=1,r.cachedNum++,a.abrupt("return","continue");case 37:if(!u.audio){a.next=64;break}return a.prev=39,a.next=42,Object(x.b)(u.audio);case 42:if(a.prev=42,!(t.config.isAudio<2)){a.next=46;break}return a.next=46,t.cacheWords(u);case 46:a.next=52;break;case 49:a.prev=49,a.t2=a.catch(42);case 52:a.next=58;break;case 54:return a.prev=54,a.t3=a.catch(39),a.abrupt("return","continue");case 58:return u._c=1,r.cachedNum++,a.next=63,t.saveCache("video-"+u.vid,u);case 63:o++;case 64:if(o>3&&(t.saveCache("videos",r.videos),o=0),!(r.cachedNum>=i)){a.next=70;break}return o>0&&t.saveCache("videos",r.videos),a.abrupt("return","break");case 70:case"end":return a.stop()}}),a,null,[[6,11],[17,28],[39,54],[42,49]])})),u=e+1;case 4:if(!(u<n.length)){a.next=16;break}return a.delegateYield(s(u),"t0",6);case 6:if("break"!==(l=a.t0)){a.next=9;break}return a.abrupt("break",16);case 9:if("continue"!==l){a.next=11;break}return a.abrupt("continue",13);case 11:if("object"!==Object(b.a)(l)){a.next=13;break}return a.abrupt("return",l.v);case 13:u++,a.next=4;break;case 16:case"end":return a.stop()}}),a)})))()}},del:function(e){var t=this;confirm("delete?")&&fetch("cache/local",{method:"put",headers:{type:"video/mp4",name:encodeURIComponent(e.title),delete:e.url}}).then((function(){var n=t.mediaTypes[t.mediaType].data.indexOf(e);n>-1&&t.mediaTypes[t.mediaType].data.splice(n,1)}))},upload:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((i=e.target.files[0]).name&&i.size){n.next=4;break}return n.abrupt("return");case 4:return r=[new Date(i.lastModified)].map((function(e){return[e.getFullYear(),e.getMonth()+1,e.getDate()].join("/")})).join("")+" "+Math.ceil(i.size/1024/1024)+"M "+i.name,n.next=8,t.getFileBase64(i);case 8:a=n.sent,fetch("cache/local",{method:"put",body:a,headers:{type:i.type||"video/mp4",encode:"base64",name:encodeURIComponent(r),cat:t.search.trim()}}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){t.loadLocal()}),10)}));case 10:case"end":return n.stop()}}),n)})))()},loadLocal:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x.c)("list/cache/local").then((function(e){return e.json()})).then((function(t){var n;e.loading=0,t&&t.length&&(e.mediaTypes[e.mediaType].data.splice(0,e.mediaTypes[e.mediaType].data.length),e.mediaTypes[e.mediaType].data.length=0,(n=e.mediaTypes[e.mediaType].data).push.apply(n,Object(u.a)(t.map((function(e){return e.vid=e.url,e})))))}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onFav:function(e,t,n){var i;e.stopPropagation(),2!=n&&(t.mediaType=n);for(var r=-1,a=0;a<j.length;a++)if(j[a].vid==t.vid){r=a;break}r>-1?j.splice(r,1):j.push(t),t.fav=this.favMap[t.vid]=r>-1?0:1,this.$set(this.favMap,t.vid,t.fav);var o=Array.from(new Set(j.map((function(e){return O[e.mediaType].n}))));this.mediaTypes[2].c.length=0,(i=this.mediaTypes[2].c).push.apply(i,Object(u.a)(o)),this.refresh++,S.a.set("my",j)},focusSearch:function(){this.search=""},changeMediaType:function(){var e=this;switch(this.mediaTypes[this.mediaType].n){case"TV":var t=localStorage.tvtime||0;Object(s.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((new Date).getTime()-t>2592e5)){n.next=2;break}return n.delegateYield(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="group-title",e.loading=1,i=0;case 3:if(!(i<10)){t.next=20;break}return t.prev=4,t.delegateYield(regeneratorRuntime.mark((function t(){var i,r,a,o,s,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.c)("https://iptv-org.github.io/api/channels.json").then((function(e){return e.json()}));case 2:return i=t.sent,t.next=5,Object(x.c)("https://iptv-org.github.io/api/streams.json").then((function(e){return e.json()}));case 5:for(r=t.sent,a=[],o={},s={},c=0;c<r.length;c++)s[r[c].channel]=r[c];return(i=i.filter((function(e){return s[e.id]})).map((function(e){return e.url=s[e.id].url,e.vid=e.id,e[n]=e.categories.join(","),e.fav=0,e.title=e.name+"/"+e.languages,e}))).sort((function(e,t){return e[n].localeCompare(t[n])})),a.sort(),i.forEach((function(e){e[n]&&e[n].split(";").forEach((function(e){var t=e;o[t]=o[t]?o[t]+1:1,o[e]=o[e]?o[e]+1:1}))})),u={mapCount:o,allChannels:i,types:a},t.next=17,e.saveCache("tv",u);case 17:return localStorage.tvtime=(new Date).getTime(),t.abrupt("return","break");case 19:case"end":return t.stop()}}),t)}))(),"t0",6);case 6:if("break"!==t.t0){t.next=9;break}return t.abrupt("break",20);case 9:t.next=17;break;case 11:return t.prev=11,t.t1=t.catch(4),t.next=16,e.sleep(2e3);case 16:i++;case 17:i++,t.next=3;break;case 20:case"end":return t.stop()}}),t,null,[[4,11]])}))(),"t0",2);case 2:return e.loading=0,n.next=5,e.loadCache("tv").catch((function(){localStorage.tvtime=0})).then((function(t){if(t.allChannels){var n=e.mediaTypes[e.mediaType].data,i=e.mediaTypes[e.mediaType].c,r=e.mediaTypes[e.mediaType].cnt;i.length=n.length=0,n.push.apply(n,Object(u.a)(t.allChannels)),i.push.apply(i,Object(u.a)(t.types)),Object.assign(r,t.mapCount)}else localStorage.tvtime=0}));case 5:case"end":return n.stop()}}),n)})))();break;case"MJ":if(0==this.mediaTypes[this.mediaType].data.length){if(this.loading)return;this.loading=1,Object(w.c)(null,{cmd:"urls",content:{p:"mj.json",cache:864e5}},(function(t){var n;e.loading=0,t.content&&t.content.length&&(n=e.mediaTypes[e.mediaType].data).push.apply(n,Object(u.a)(t.content.map((function(e){return{vid:e[0],title:e[1],urls:[],rate:e[2],date:e[4]}}))))}))}break;case"Radio":if(this.loading)return;this.loading=1;var n=localStorage.radiotime||0;Object(s.a)(regeneratorRuntime.mark((function t(){var i,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((new Date).getTime()-n>2592e5)){t.next=27;break}i=0;case 2:if(!(i<10)){t.next=27;break}return t.prev=3,t.next=6,Object(x.c)("https://smlog.github.io/data/radios.json").then((function(e){return e.json()})).then((function(t){if(e.loading=0,t.content&&t.content.length)return t.content.map((function(e){return e.vid=e.url,e}))}));case 6:if(!(r=t.sent)){t.next=15;break}return e.mediaTypes[e.mediaType].data.length=0,(a=e.mediaTypes[e.mediaType].data).push.apply(a,Object(u.a)(r)),t.next=14,e.saveCache("radio",r);case 14:localStorage.radiotime=(new Date).getTime();case 15:return t.abrupt("break",27);case 18:return t.prev=18,t.t0=t.catch(3),t.next=23,e.sleep(2e3);case 23:i++;case 24:i++,t.next=2;break;case 27:e.loadCache("radio").catch((function(){localStorage.radiotime=0})).then((function(t){var n;t.length?(e.mediaTypes[e.mediaType].data.length=0,(n=e.mediaTypes[e.mediaType].data).push.apply(n,Object(u.a)(t))):localStorage.radiotime=0})),e.loading=0;case 29:case"end":return t.stop()}}),t,null,[[3,18]])})))();break;case"lo":"12345"!=prompt("confirm:")&&(this.mediaType=0);break;case"Local":this.loadLocal()}},loadMore:function(){var e=this;this.busy=!0,setTimeout((function(){e.busy=e.pages>0&&e.page>=e.pages,e.busy||e.page++}),1e3)},searchList:function(){var e=this,t=this.search.toLowerCase().trim();if(1==this.mediaType){var n=this.videos;return this.curOpt1&&(n=n.filter((function(t){return t.src==e.curOpt1}))),this.done&&(n=n.filter((function(e){return e._d}))),t?n.filter((function(e){return e.d.indexOf(t)>-1||e.title.toLowerCase().indexOf(t)>-1})):n}var i=this.mediaTypes[this.mediaType].data,r=this.mediaTypes[this.mediaType].c2f,a=this.mediaTypes[this.mediaType].s||function(e,t){return e.title.toLowerCase().indexOf(t)>-1};return 2==this.mediaType?this.curOpt1&&(i=i.filter((function(t){return O[t.mediaType].n==e.curOpt1}))):this.curOpt1&&(i=i.filter((function(t){return t.src.indexOf(e.curOpt1)>-1}))),this.curOpt2&&r&&(i=i.filter((function(t){return r(t,e.curOpt2)}))),t?i.filter((function(e){return a(e,t)})):i},play:function(e,t,n,i,r){var a=this;this.curVideoId=e.vid;var o=1;if(4==this.mediaType&&(i=i||0,this.subIndex=i,e.urls.length?e.url=e.urls[i]:(o=0,Object(w.c)(null,{cmd:"urls",content:{p:"mj/"+e.vid,cache:864e5}},(function(r){var o;r.content&&r.content.length&&((o=e.urls).push.apply(o,Object(u.a)(r.content)),e.url=e.urls[i],c.a.$emit("videoId",parseInt(a.mediaType),e,t,n,i))})))),o){c.a.$emit("videoId",parseInt(null!=e.mediaType?e.mediaType:this.mediaType),e,t,n,i,r||i?0:this.pageList[n+1<this.pageList.length?n+1:0]);var s=n+1<this.pageList.length?n+1:0;c.a.$emit("nVideoId",parseInt(null!=e.mediaType?e.mediaType:this.mediaType),this.pageList,s)}t&&this.$emit("selectItem",e),this.cache(n)},toPage:function(e){e<1||e>this.pages||(this.page=e)}},mounted:function(){var e=this;T.a.init({mainElement:this.$refs.container2,triggerElement:this.$refs.container2,onRefresh:function(){c.a.$emit("fresh","videos",1)}}),c.a.$on("end",(function(t,n,i,r){var a,o=e.searchList(),s=i,c=r;if(4!=e.mediaType){for(var u=n?-1:1,l=-1,d=i+u;d>=0&&d<o.length;d+=u)if(!e.config.isAudio||1!=e.mediaType||0!==o[d].audio&&"cnn"!=o[d].src){l=d;break}if(-1==l)for(var f=0;f<o.length;f++)if(!e.config.isAudio||1!=e.mediaType||0!==o[f].audio&&"cnn"!=o[f].src){l=f;break}-1==l&&(l=0),s=l}else{var p=o[s].urls.length;n?--c<0&&(c=p-1):++c>=p&&(c=0),s>0&&(a=o[s-1])}e.play(o[s],0,s,c,a)}))},watch:{mediaType:function(){this.page=1,this.busy=0,this.curOpt1=this.curOpt2=""},"$store.state.config.mj":function(e){O[4].disabled=!e}}},P=(n("6bd2"),Object(p.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list",staticStyle:{position:"relative","user-select":"none"}},[n("div",[5==e.mediaType?n("div",{staticClass:"op",staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",{staticClass:"a-upload"},[n("input",{attrs:{name:"files",type:"file"},on:{change:function(t){return e.upload(t)}}}),e._v("Upload ")])]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticStyle:{"text-align":"center"}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-spinner"}})],1),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],staticStyle:{"max-height":"400px",overflow:"auto"},attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"30"}},[n("div",{ref:"container2",staticClass:"result"},[n("table",{staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(t,i){return n("tr",{key:t.vid||t.title,class:{_d:t._d,_c:t._c},staticStyle:{cursor:"pointer"}},[n("td",[n("div",{on:{click:function(n){n.stopPropagation(),e.play(t,1,i),e.updateConfig2({showList:0})}}},[[e.refresh?n("div",{class:{cur:e.curVideoId==t.vid,ni:!t.i,cached:t.cached}},[n("i",{staticClass:"num",on:{click:function(n){return n.stopPropagation(),e.onFav(n,t,e.mediaType)}}},[e._v(e._s(i+1))]),t.d?n("span",[e._v(e._s(t.d)+":")]):e._e(),n("span",[e._v(" "+e._s(e.curMediaType.title&&e.curMediaType.title(t)||t.title))]),t.duration?n("span",{staticClass:"src"},[e._v(e._s(("0"+parseInt(t.duration/60)).substr(-2))+":"+e._s(("0"+t.duration%60).substr(-2)))]):e._e(),t.src?n("span",{staticClass:"src"},[e._v(e._s(t.src))]):e._e(),t.org?n("span",{staticClass:"src"},[e._v(e._s(t.org))]):e._e(),e.mediaTypes[e.mediaType].del?n("span",{staticClass:"del",on:{click:function(n){return n.stopPropagation(),e.del(t,e.mediaType)}}},[e._v("x")]):e._e(),t.rate?n("span",[e._v(" rate:"+e._s(t.rate)+" ")]):e._e(),e.favMap[t.vid]?n("span",[e._v("*")]):e._e()]):e._e(),e.curVideoId==t.vid&&t.urls&&t.urls.length?n("div",e._l(t.urls,(function(r,a){return n("span",{key:a,class:{cur:e.subIndex==a},staticStyle:{margin:"8px"},on:{click:function(n){return n.stopPropagation(),e.play(t,1,i,a)}}},[e._v(e._s(a+1))])})),0):e._e()]],2)])])})),0)])]),n("div",{staticStyle:{"text-align":"right",background:"gray","padding-right":"5px"}},[1==e.mediaType?n("label",[e.config.audioCacheNum>0?n("span",[n("b",{staticStyle:{color:"green"}},[e._v(e._s(e.cachedNum))]),e._v("/"+e._s(e.config.audioCacheNum))]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.done,expression:"done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.done)?e._i(e.done,null)>-1:e.done},on:{change:function(t){var n=e.done,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&(e.done=n.concat([null])):a>-1&&(e.done=n.slice(0,a).concat(n.slice(a+1)))}else e.done=r}}}),e._v(" Done ")]):e._e(),n("select",{directives:[{name:"show",rawName:"v-show",value:e.opts1.length,expression:"opts1.length"},{name:"model",rawName:"v-model",value:e.curOpt1,expression:"curOpt1"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.curOpt1=t.target.multiple?n:n[0]},function(t){e.page=1}]}},[n("option",{attrs:{value:""}},[e._v("All")]),e._l(e.opts1,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)),e.cnt?n("span",[e._v("("+e._s(e.cnt[t+e.curOpt2])+")")]):e._e()])}))],2),n("select",{directives:[{name:"show",rawName:"v-show",value:e.opts2.length,expression:"opts2.length"},{name:"model",rawName:"v-model",value:e.curOpt2,expression:"curOpt2"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.curOpt2=t.target.multiple?n:n[0]},function(t){e.page=1}]}},[n("option",{attrs:{value:""}},[e._v("All")]),e._l(e.opts2,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)),e.cnt?n("span",[e._v("("+e._s(e.cnt[e.curOpt1+t])+")")]):e._e()])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.mediaType,expression:"mediaType"}],on:{click:function(t){return e.ifneedload()},focus:function(t){return e.changeMediaType()},change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.mediaType=t.target.multiple?n:n[0]},function(t){e.changeMediaType(),e.ifneedload()}]}},[e._l(e.mediaTypes,(function(t,i){return[t.disabled?e._e():n("option",{key:i,domProps:{value:i}},[e._v(" "+e._s(t.n)+" ")])]}))],2),e._v(" Filter:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{width:"60px"},domProps:{value:e.search},on:{focus:function(t){return e.focusSearch()},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" ("),n("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page-1)}}},[e._v(" Prev ")]),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page+1)}}},[e._v(" Next ")])])])}),[],!1,null,"7540ddca",null)).exports;var M={data:function(){return{show:0,showList:0,isHover:0}},created:function(){},computed:Object(r.a)({},Object(a.b)(["curItem","words"])),components:{Video:P},methods:{isM:function(){return null!=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},togglePlay:function(){c.a.$emit("togglePlay")},showPlayer:function(){c.a.$emit("showPlayer")}},mounted:function(){var e=this,t=function(t){e.$refs.mediaList&&(e.$refs.mediaList.contains(t.target)||e.$refs.mediaListText.contains(t.target)||(e.showList=!1)),e.$refs.listContainer&&!e.$refs.listContainer.contains(t.target)&&e.updateConfig2({showList:0})},n=document;n.addEventListener("click",t),n.addEventListener("touchend",t)},watch:{}},L=(n("0554"),Object(p.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"listContainer",staticClass:"vb_1 is-fixed-bottom is-hidden-desktop",class:{hover:e.autoHide||e.isM()||e.isHover,isActivedTran:e.config.activeTran},on:{mouseenter:function(t){e.isHover=1,e.updateConfig2({showList:1})},mouseleave:function(t){e.isHover=0},click:function(t){return e.updateConfig2({showList:1})},touchmove:function(t){return e.updateConfig2({showList:1})},touchstart:function(t){return e.updateConfig2({showList:1})}}},[n("div",{ref:"mediaList",staticClass:"listCon"},[n("Video",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],on:{selectItem:function(t){e.showList=0}}})],1),n("div",{staticClass:"columns has-text-centered is-mobile is-size-7 is-marginless is-paddingless",staticStyle:{"user-select":"none"}},[e.shownews?n("div",{staticClass:"column is-marginless"},[n("span",{on:{click:e.showPlayer}},[e._v("Read")])]):e._e(),n("div",{ref:"mediaListText",staticClass:"column is-marginless"},[n("span",{staticClass:"button",class:{play:!e.config2.playingM,pause:e.config2.playingM},staticStyle:{"margin-right":"10px","margin-left":"10px"},on:{click:function(t){return e.togglePlay()}}}),n("span",{ref:"showListBt",staticStyle:{"flex-grow":"1"},on:{click:function(t){e.showList=!e.showList}}},[n("font-awesome-icon",{attrs:{icon:["fas","ellipsis"]}})],1)])])])}),[],!1,null,"ecdfd2c6",null)).exports,R=n("611b"),I=n.n(R),N=(n("c78c"),{components:{vdr:I.a},mounted:function(){this.y=.865*(d()(".videoCon").height()||9*Math.min(d()(window).width(),d()(window).height())/16),this.width=.8*(d()(".videoCon").width()||d()(window).width()),this.x=.1*(d()(".videoCon").width()||d()(window).width()),this.height=16*(d()(".videoCon").height()||Math.min(d()(window).width(),d()(window).height()))/232},data:function(){return{width:200,height:16,x:0,y:0}},methods:{onResize:function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i},onDrag:function(e,t){this.x=e,this.y=t}}}),W=Object(p.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",width:"100%",position:"absolute",top:"0"}},[n("vdr",{staticStyle:{background:"rgba(0, 0, 0, 1)",border:"none"},attrs:{w:e.width,h:e.height,x:e.x,y:e.y,parent:!0,debug:!1,isConflictCheck:!0,snap:!0,snapTolerance:20}})],1)}),[],!1,null,null,null).exports,z=(n("fda2"),function(){var e=this,t=e.$createElement;return(e._self._c||t)("video",{ref:"videoPlayer",staticClass:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",attrs:{"x5-playsinline":"",preload:"auto","webkit-playsinline":"true",playsinline:"true","x-webkit-airplay":"allow",airplay:"allow",controls:"",poster:"",autoplay:"false",title:e.title}})}),H=(n("e9c4"),n("f0e2"));n("a151"),n("2e59"),n("94b9"),n("6856")(H.a),i.a.prototype.$video=H.a;var E={props:["source","cc","title","mediaItem","timeupdate"],data:function(){return{player:null,options:{inactivityTimeout:5e3,userActions:{hotkeys:function(e){88===e.which&&this.pause(),89===e.which&&this.play()}},type:"application/x-mpegURL",src:"",preload:!0,autoplay:!1,isLoop:!1,playsinline:!0,controls:"progress,current,durration,volume",crossOrigin:!1,textTrackDisplay:!0,playbackRates:[.5,.6,.7,.8,.9,1],fill:!0,fluid:!0,plugins:{airPlay:{addButtonToControlBar:!0}},html5:{vhs:{overrideNative:!1},hls:{enableLowInitialPlaylist:!0,smoothQualityChange:!0,overrideNative:!1},nativeVideoTracks:!0,nativeAudioTracks:!0}}}},created:function(){},computed:{},methods:{init:function(){var e=this,t=this.player,n=this;if(!this.player){(t=this.player=this.$video(this.$refs.videoPlayer,this.options,(function(){var e=this.textTracks(),t=function(){for(var t=function(t){var i=e[t];if("showing"==i.mode&&"captions"==i.kind)return i.cuechange||(i.addEventListener("cuechange",(function(){i.activeCues[0]&&n.$emit("cuechange",i.activeCues[0],i)})),i.cuechange=1),"break"},i=0;i<e.length;i++){if("break"===t(i))break}};["change","removtrack","addtrack"].forEach((function(n){e.addEventListener(n,t)})),e.addEventListener("addtrack",(function(){setTimeout((function(){for(var t=0;t<e.length&&("captions"==e[t].kind&&(e[t].mode=n.cc?"showing":"disabled"),"new word"!=e[t].label);t++);}),5e3)}))}))).on("loadeddata",(function(){t.playbackRate(n.config.playbackrate),setTimeout((function(){for(var e=t.textTracks(),n=0;n<e.length;n++)"new word"!==e[n].label&&(e[n].mode="disabled")}),0)})),t.on("timeupdate",(function(n){e.$emit("timeupdate",n,t)}));var i=0;t.on("touchstart",(function(){e.updateConfig2({touchstart:1}),i&&clearTimeout(i),i=0})),t.on("touchend",(function(){i=setTimeout((function(){e.updateConfig2({touchstart:0})}),1e3)}));var r=0,a=0;t.on("volumechange",(function(){(new Date).getTime()-a<600&&(e.emit(t.volume()-r>0?"NEXT":"PRE"),t.volume(r)),a=(new Date).getTime(),r=t.volume()})),this.$emit("initPlayer",t),window.player=t,t.on("ended",(function(){var t=n.mediaItem,i=sessionStorage;setTimeout((function(){t._d=+new Date;var e=i.doneVideoMap?JSON.parse(i.doneVideoMap):{};e[t.vid]=t._d,i.doneVideoMap=JSON.stringify(e)}),1e3),e.$emit("ended")})),t.on("error",(function(t){setTimeout((function(){e.$emit("error",1)}),0)})),t.on("pause",(function(){e.$emit("pause"),c.a.$emit("pause"),e.updateConfig2({playingM:0})})),t.on("play",(function(){e.$emit("play"),c.a.$emit("play"),e.updateConfig2({playingM:1})})),t.on("ratechange",(function(){t.currentTime()>1&&e.updateConfig({playbackrate:t.playbackRate()})}))}var o=this.source;if(o){var s="audio/mpeg";o.indexOf(".m3p")>-1?s="audio/mp3":o.indexOf(".m4a")>-1?s="audio/mp4":o.indexOf(".mp4")>-1?s="video/mp4":o.indexOf("m3u8")>-1?s="application/x-mpegURL":o.indexOf(".mpd")>-1&&(s="application/dash+xml"),o.indexOf("/cache/local")>-1?fetch(o).then((function(e){return e.blob()})).then((function(t){e.player.src([{src:window.URL.createObjectURL(t),type:s}])})):this.player.src([{src:o,type:s}])}t.paused()&&this.player.play()}},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},watch:{"$store.state.config.playbackrate":{handler:function(e){this.player&&this.player.playbackRate(e)}},source:function(){this.init()},title:function(){document.title=this.title}}},D=(n("ee6c"),Object(p.a)(E,z,[],!1,null,"26f1aa12",null)).exports,U=n("5806"),q={props:["source","cc","isLive"],data:function(){return{alioptions:{isLive:0,useH5Prism:1,playsinline:1,useHlsPluginForSafari:1}}},created:function(){},computed:{},components:{VueAliplayerV2:n.n(U).a},updated:function(){var e=this;this.$nextTick((function(){e.init()}))},methods:{init:function(){this.alioptions.isLive=this.isLive},ended:function(){this.$emit("ended")}},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},watch:{source:function(){this.init()}}},V=(n("6863"),Object(p.a)(q,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("vue-aliplayer-v2",{ref:"VueAliplayerV2",staticClass:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",attrs:{source:e.source,options:e.alioptions,isLive:e.isLive},on:{ended:e.ended}})}),[],!1,null,"25e888d1",null)).exports,F={data:function(){return{custCue:"",isAliPlayer:0,isHide:0,cc:0,loopCount:0,cueIndex:0,item:{},nextItem:{},isCc:0,mediaType:1,videoUrl:"",show:0,url:"",top:"0%",player:null,videos:null,videoId:"",videoIndex:0,text:"",scrollTimer:1,title:"",isAutoScroll:!0,playing:0,sps:[],isMask:0,av:1,isTouch:0}},created:function(){},computed:Object(r.a)(Object(r.a)({},Object(a.b)(["showApp","curItem","words","seeCurWords","nextUrl"])),{},{preload:function(){return this.$store.state.config.preload},dict:function(){return this.$store.state.config.dict}}),components:{PlayerControllers:L,VideoJsPlayer:D,AliPlayer:V,ResizeMask:W},methods:{touchstartCustCue:function(){this.player&&this.player.pause(),c.a.touchstartCustCue=1},resize:function(){setTimeout((function(){d()(window).resize()}),200)},modeText:function(){switch(this.config.isAudio){case 0:return"Video";default:return"Audio"}},loopText:function(){switch(this.config.isLoop){case 0:return"Seq";case 1:return"LL";case 2:return"LSeq";case 3:return"LSeq"+this.loopCount;case 4:return"Loop"}},onTouch:function(){var e=this;clearTimeout(this.isTouch),this.isTouch=setTimeout((function(){clearTimeout(e.isTouch),e.isTouch=0}),3e3)},initPlayer:function(e){this.player=e},clickUrl:function(e){open(e)},tryCaption2TTV:function(){var e,t=this,n={};this.onCuesChangeSync2=function(i,r){if("showing"==r.mode&&"captions"==r.kind){e!=r&&(n={},d()(t.$refs.lynx).html("")),e=r;for(var a=r.cues,o=[],s=a.length-1;s>=0;s--){var c=a[s];if(n[""+c.startTime])break;n[""+c.startTime]=1;var u=parseInt(c.startTime),l=parseInt(c.endTime),f='<span begin="'.concat(u,'" end="').concat(l,'">').concat(t.textAddNewMarks(t.words,c.text,!1).replace(/^(\s*[A-Z][^A-Z]+)/g,"<br />$1"),"</span> ");o.unshift(f)}o.length>0&&(t.cues=d()(t.$refs.lynx).append(o.join("\n")).find("span"))}}},LseqNext:function(e,t){var n=this;this.config.isLoop>0&&this.config.isLoop<4&&t&&t.duration()-t.currentTime()<1&&!this.loadingNext&&(this.loadingNext=1,setTimeout((function(){2==n.config.isLoop?(n.loopCount=0,n.next()):3==n.config.isLoop?(n.loopCount++,n.loopCount>=n.config.loopCount&&(n.loopCount=0,n.next())):1==n.config.isLoop&&(n.loopCount=0,n.player.pause(),n.next()),setTimeout((function(){n.loadingNext=0}),1e4)}),1e3*(t.duration()-t.currentTime())))},scroll:function(e){var t=this;if(clearInterval(this.scrollTimer),this.onCuesChangeSync=0,this.isAutoScroll&&!e)if(this.cc){if(this.player){this.cueIndex=0;var n=d()(this.$refs.text);this.cues=n.find("span"),n.find("span").each((function(){d()(this).text().trim()||d()(this).attr("skip",1)})),this.onCuesChangeSync=function(){var e=t.cues,i=parseInt(t.player.currentTime());if(t.cueIndex>=e.length&&(t.cueIndex=0,n.find("span.cur").removeClass("cur")),t.cueIndex>0){var r=e.eq(t.cueIndex);if(r.addClass("cur"),t.dict){var a=r.find(".newWord").text().trim();a&&(t.title=a)}r.attr("skip")||t.scrollMid(r,n),t.cueIndex++}else for(var o=0;o<e.length;o++){var s=e.eq(o);if(s&&s.attr("begin")<=i&&s.attr("end")>i){if(n.find("span.cur").removeClass("cur"),s.addClass("cur"),t.dict){var c=s.find(".newWord").text().trim();c&&(t.title=c)}t.cueIndex=o+1,t.scrollMid(s,n);break}}}}}else{var i=d()(this.$refs.text),r=d()(this.$refs.lynx),a=0;window.cancelAnimationFrame(window.requestAnimationFrame2),window.requestAnimationFrame2=window.requestAnimationFrame((function(){i.animate({scrollTop:-i.height()},100)})),this.scrollTimer=setInterval((function(){var e=0,n=i.height(),o=r.height()-n,s=(o+n/2)/t.player.duration(),c=Math.ceil(2*s);t.player.currentTime()!=a&&(e=i.scrollTop()+c,window.cancelAnimationFrame(window.requestAnimationFrame3),window.requestAnimationFrame3=window.requestAnimationFrame((function(){i.animate({scrollTop:e},100)})),a=t.player.currentTime()),t.top=Math.floor(100*Math.min(1,1*e/o))+"%"}),2e3)}},bg:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){Object(w.c)(null,{cmd:"bg",title:e.title},(function(e){e&&t()}))})));case 1:case"end":return t.stop()}}),t)})))()},markNewWords:function(e){var t=this.words;this.text=this.textAddNewMarks(t,e.replace(/\n/g,"<br />"))},textAddNewMarks:function(e,t,n){var i=this,r=Object(v.b)(e,t,n);return setTimeout((function(){i.$store.commit("add2CurWords",[r[1]])}),1e3),r[0]},ajustTextHeight:function(){this.$refs.text.style.top=(d()(this.$refs.videoCon).is(":hidden")?0:d()(this.$refs.videoCon).height())+d()(this.$refs.bts).height()+"px"},next:function(e){var t=this;!e&&this.config.isLoop<2&&this.seeCurWords?Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){c.a.$once("finishPlayCurWords",(function(){e()})),c.a.$emit("playCurWords")}));case 2:t.end(0);case 3:case"end":return e.stop()}}),e)})))():this.end(0)},prev:function(){this.end(1)},error:function(){var e=this;setTimeout((function(){e.end(0)}),1e4)},end:function(e){this.cueIndex=0,this.scroll(!0),this.$store.commit("nextUrl",""),c.a.$emit("end",this.videoId,e,this.videoIndex,this.subIndex,this.config.isAudio)},cuechange:function(e,t){var n=this;if(this.onCuesChangeSync2&&this.onCuesChangeSync2(e,t),this.onCuesChangeSync&&this.onCuesChangeSync(e,t),e&&this.config.custCue){var i=e.endTime-e.startTime;this.custCue=e.text,this.cueTimer&&clearTimeout(this.cueTimer),this.cueTimer=setTimeout((function(){n.player.paused()||(n.custCue=""),n.cueTImer=0}),1e3*(5+i))}},init:function(){var e=this;d()(this.$refs.top).scroll((function(){e.ajustTextHeight()}))},trimDup:function(e){for(var t=[],n=e.split("\n"),i=0;i<n.length-1;i++){if(n[i].trim())for(var r=i+1;r<n.length;r++)0==n[r].indexOf(n[i])&&(i=r);t.push(n[i])}return(t=t.map((function(e,t){return 0==t?e:e.toLowerCase()}))).join("\n").split(/(?=\d{2}:\d{2}:\d{2}.\d{3} --> \d{2}:\d{2}:\d{2}.\d{3})/).map((function(e,t,n){return 0==t||t==n.length-1?e:e.replace(/\d{2}:\d{2}:\d{2}.\d{3}\n/,n[t+1].split(" --\x3e")[0]+"\n")})).join("")},loadTTV:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r,a,o,s,c,u,l,d,f,p,h,g,m,v,w,y,b,x,k,T,_;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.cc=0,i="",r="",!e){n.next=65;break}if(a="",0!=e.indexOf("http")){n.next=16;break}return n.prev=6,n.next=9,fetch(e).then((function(e){return e.text()}));case 9:if(0==(a=n.sent).indexOf("<?xml")){for(a=a.replace(/\n/g,""),o=/<p begin="(.*?)" end="(.*?)".*?>(.*?)<\/p>/g,c="WEBVTT\n\n",u=-1;null!=(s=o.exec(a));)-1==u&&(u=12==s[1].length?0:1),c+=u?"".concat(s[1],"0 --\x3e ").concat(s[2],"0\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n"):"".concat(s[1]," --\x3e ").concat(s[2],"\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n");a=c,t.cc=1}n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6);case 16:if(l=a.match(/[A-Z]/g),d=a.match(/[a-z]/gi,""),t.cc=0,!(l&&d&&l.length/d.length>.4)){n.next=56;break}(f=a.split(/\n+/).filter((function(e){return 2!=e.indexOf(":")}))).shift(),p=[],h=0;case 24:if(!(h<f.length)){n.next=53;break}g=f[h].trim(),m=h+1;case 27:if(!(m<f.length)){n.next=37;break}if(!(f[m].trim().indexOf(g)>-1)){n.next=33;break}return g=f[h=m].trim(),n.abrupt("continue",34);case 33:return n.abrupt("break",37);case 34:m++,n.next=27;break;case 37:v=p.length,w=v-1;case 40:if(!(w>=0&&v>=p.length-4)){n.next=48;break}if(y=p[w],0!=g.indexOf(y)){n.next=45;break}return v=w,n.abrupt("continue",45);case 45:w--,n.next=40;break;case 48:p.length=v,p.push(g);case 50:h++,n.next=24;break;case 53:a=p.join(" ").toLowerCase().replace(/\s+/," "),n.next=57;break;case 56:t.cc=1;case 57:if(i=a,!t.isCc||t.cc){n.next=62;break}return t.next(),n.abrupt("return",1);case 62:i.trim()&&(i=t.textAddNewMarks(t.words,i,!1)),t.cc?(r=t.trans(i),t.text="",setTimeout((function(){t.text=t.caption2Text(i)}),500)):(a=a.replace(/\.[\s]+/g,".\n"),t.markNewWords(a)),setTimeout((function(){return t.scroll()}),1e3);case 65:for(b=t.player,x=b.textTracks(),k=0;k<x.length;k++)"new word"==x[k].label&&b.removeRemoteTextTrack(x[k]);return r.trim()&&(T=new Blob([i]),_=URL.createObjectURL(T),b.addRemoteTextTrack({kind:self.config.custCue?"metadata":"captions",label:"new word",mode:"showing",srclang:"zh",default:"true",src:_},!0)),n.abrupt("return",0);case 70:case"end":return n.stop()}}),n,null,[[6,13]])})))()},caption2Text:function(e){return"<span>"+e.split(/\n/).map((function(e){return e.replace(/^(\s*[A-Z][^A-Z]+)/g,"<br />$1")})).join("\n").replace(/(\d{2}):(\d{2}):(\d{2}).(\d{3}) --> (\d{2}):(\d{2}):(\d{2}).(\d{3})/g,(function(e,t,n,i,r,a,o,s){return'<span begin="'.concat(60*n+parseInt(i),'" end="').concat(60*o+parseInt(s),'">')})).replace(/<span/g,"</span><span")},trans:function(e){var t=d()("<div>"+e+"</div>");return t.find("em.newWord").replaceWith((function(){var e=d()(this),t=e.find(".newWorda").text(),n=e.find(".newWordb").text();return"<i>".concat(t,"</i><b>").concat(n,"</b>")})),t.html().replace(/&gt;/g,">")},loadVideo:function(e,t,n){var i=this;return Object(s.a)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=0,e.vid){r.next=4;break}return r.abrupt("return");case 4:return r.prev=4,r.next=7,i.loadCache("video-"+e.vid).then((function(t){t&&Object.assign(e,t)}));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(4);case 12:return r.next=14,Object(_.b)(e,t,n);case 14:if(!(i.show&&i.config.isAudio<2)){r.next=26;break}if(r.prev=15,i.isAliPlayer){r.next=19;break}return r.next=19,i.loadTTV(e.cc);case 19:r.next=24;break;case 21:r.prev=21,r.t1=r.catch(15);case 24:e.cc||(a=0,i.cc=2,setTimeout((function(){i.tryCaption2TTV()}),0)),i.config.custCue&&setTimeout((function(){d()("video track").attr("kind","metadata")}),3e3);case 26:if(1!=i.mediaType){r.next=58;break}if(r.prev=28,null!=e.audio){r.next=39;break}return r.prev=30,r.next=33,Object(x.d)(e);case 33:c.a.$emit("video",e),r.next=39;break;case 36:r.prev=36,r.t2=r.catch(30);case 39:if(!i.config.isAudio){r.next=47;break}if(e.audio){r.next=43;break}throw"no audio";case 43:i.videoUrl=e.audio+"?_="+i.mediaType,i.av=0,r.next=49;break;case 47:i.av=1,a||setTimeout((function(){i.videoUrl=e.url,i.player.play()}),100);case 49:r.next=56;break;case 52:throw r.prev=52,r.t3=r.catch(28),r.t3;case 56:r.next=59;break;case 58:setTimeout((function(){i.videoUrl=e.url,i.player.play()}),100);case 59:setTimeout((function(){i.ajustTextHeight()}),1e3);case 60:case"end":return r.stop()}}),r,null,[[4,9],[15,21],[28,52],[30,36]])})))()},scrollMid:function(e,t){if(e&&e.offset&&e.offset()){var n=e.offset().top+t[0].scrollTop-t.offset().top-t.height()/2;window.cancelAnimationFrame(window.requestAnimationFrame1),window.requestAnimationFrame1=window.requestAnimationFrame((function(){d()(t).animate({scrollTop:n},1e3)}))}}},mounted:function(){var e=this,t=this;this.init(),document.body.addEventListener("click",(function(){e.config.bgkeeplive&&Object(y.d)(1),e.updateConfig2({touchstart:1}),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.updateConfig2({touchstart:0}),e.timer=0}),2e3)})),c.a.$on("NEXT",(function(){e.next(1)})),c.a.$on("PRE",(function(){e.prev(1)})),c.a.$on("videoId",(function(t,n,i,r,a,o){i&&(e.show=1),location.search.indexOf("hidePlayer=1")>-1&&(e.show=0),e.nextItem=o,e.videoId=n.vid,e.title=n.title,e.item=n,e.videoIndex=r,e.subIndex=a,e.mediaType=t,e.$store.commit("add2CurWords",[[],1]),e.onCuesChangeSync2=0,e.text="",0==e.mediaType?(e.videoUrl=e.url=n.url,e.av=0):Object(s.a)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.loadVideo(n,t,o);case 3:i.next=9;break;case 5:i.prev=5,i.t0=i.catch(0),e.end();case 9:case"end":return i.stop()}}),i,null,[[0,5]])})))()})),c.a.$on("videos",(function(t){e.videos=t})),c.a.$on("togglePlay",(function(){e.config2.playingM?e.player.pause():e.player.play()})),c.a.$on("showPlayer",(function(){e.show=!e.show})),d()(window).on("resize",(function(){t.ajustTextHeight()}));var n=0;setInterval((function(){var t=document.querySelector("video");t&&!t.paused&&(n==t.currentTime?e.config.timeoutnext&&(n=0,e.next()):n=t.currentTime)}),2e4)},watch:{showApp:function(e){var t=this;e?this.player.paused()||(this.player.pause(),this.isTranPause=1):this.isTranPause&&(this.isTranPause=0,this.player.play()),!e&&c.a.touchstartCustCue&&(setTimeout((function(){t.emit("togglePlay")}),1e3),c.a.touchstartCustCue=0)},isHide:function(){var e=this;setTimeout((function(){e.ajustTextHeight()}),0)},isAutoScroll:function(){this.scroll()},show:function(e){e&&setTimeout((function(){d()(window).resize()}),100)},"$store.state.config.viewMode":{handler:function(){this.resize()}},"$store.state.config.isLoop":{handler:function(e){document.querySelector("video").loop=!!e}},"$store.state.config.isAudio":{handler:function(){var e=this;setTimeout((function(){Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.loadVideo(e.item,e.mediaType,e.nextItem);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),e.end();case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}),800)}}}},B=(n("93eb"),Object(p.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"top",staticClass:"top",on:{click:function(t){return e.onTouch()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.hi,expression:"!config.hi"}],ref:"videoCon",staticClass:"videoCon",staticStyle:{position:"relative"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.hi&&e.config.custCue&&e.custCue,expression:"!config.hi&&config.custCue && custCue"}],staticClass:"custCue"},[n("div",{staticStyle:{display:"flex","justify-content":"center"}},[n("div",{staticStyle:{background:"rgba(0, 0, 0, 0.5)"},domProps:{innerHTML:e._s(e.custCue)},on:{touchstart:function(t){return e.touchstartCustCue()},click:function(t){return t.preventDefault(),t.stopPropagation(),e.touchstartCustCue()}}})])]),n("font-awesome-icon",{staticClass:"pbtn",staticStyle:{left:"0"},attrs:{icon:["fas","arrow-left"]},on:{click:function(t){return e.emit("PRE")}}}),n("font-awesome-icon",{staticClass:"pbtn",staticStyle:{right:"0"},attrs:{icon:["fas","arrow-right"]},on:{click:function(t){return e.emit("NEXT")}}}),e.isAliPlayer?e._e():n("div",[n("VideoJsPlayer",{attrs:{source:e.videoUrl,cc:e.cc,title:e.title,mediaItem:e.item},on:{cuechange:e.cuechange,initPlayer:e.initPlayer,ended:e.next,timeupdate:e.LseqNext,error:e.error}})],1),e.isAliPlayer?n("div",{staticClass:"ali"},[n("AliPlayer",{attrs:{source:e.videoUrl,isLive:3==e.mediaType},on:{ended:e.next}})],1):e._e(),e.isMask?n("ResizeMask"):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.viewMode&&(e.isMask<2||e.isTouch),expression:"!config.viewMode && (isMask < 2 || isTouch)"}],staticStyle:{position:"relative","z-index":"10000"}},[n("div",{ref:"bts",class:{preload:e.preload},attrs:{id:"bts"}},[n("a",{staticClass:"up",class:{selected:e.isAutoScroll},staticStyle:{"margin-left":"0"},on:{click:function(t){e.isAutoScroll=!e.isAutoScroll}}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.isAutoScroll,expression:"isAutoScroll"}],attrs:{size:"xs",icon:"fa-solid fa-check"}}),e._v(" "+e._s(e.top))],1),e._e(),n("a",{staticClass:"up",class:{selected:e.config.hi},on:{click:function(t){e.updateConfig({hi:!e.config.hi}),e.resize()}}},[e._v(" Hi")]),n("a",{staticClass:"up",on:{click:function(t){return e.updateConfig({fs:e.config.fs>=5?1:e.config.fs+1})}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}}),n("span",[e._v(e._s(e.config.fs))])],1),n("a",{staticClass:"up",class:{selected:e.isAliPlayer},on:{click:function(t){e.isAliPlayer=!e.isAliPlayer}}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.isAliPlayer,expression:"isAliPlayer"}],attrs:{size:"xs",icon:"fa-solid fa-check"}}),e._v(" Ali")],1),n("a",{staticClass:"loop",class:{nocc:2==e.config.isAudio},on:{click:function(t){return e.updateConfig({isAudio:e.config.isAudio>=2?0:1+e.config.isAudio})}}},[e._v(" "+e._s(e.modeText())+" ")]),n("a",{staticClass:"loop",on:{click:function(t){return e.updateConfig({isLoop:++e.config.isLoop>4?0:e.config.isLoop})}}},[e._v(" "+e._s(e.loopText())+" ")]),n("a",{on:{click:function(t){return e.prev(1)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-left"}})],1),n("a",{on:{click:function(t){return e.next(1)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-right"}}),e.nextUrl?n("span",[e._v("*")]):e._e()],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMask<2,expression:"isMask < 2"}],ref:"text",staticClass:"text"},[n("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(t){return e.clickUrl(e.videoUrl)}}},[e._v(e._s(e.title))]),e.item.src?n("div",[e._v(" source:"),n("a",{attrs:{target:"_blank",href:e.item.src}},[e._v(e._s(e.item.src))]),e.item.org?n("a",{staticStyle:{"padding-left":"5px"}},[e._v(e._s(e.item.org))]):e._e()]):e._e(),n("div",{ref:"lynx",domProps:{innerHTML:e._s(e.text)}})])]),n("PlayerControllers")],1)}),[],!1,null,"073dfed6",null)).exports;window.loaded=function(){alert(this)};var J={data:function(){return{pageSize:5,page:1,curVideoId:"",search:"",busy:0}},created:function(){},filters:{fmtDate:function(e){return e.substring(4,6)+"-"+e.substring(6,8)}},computed:Object(r.a)({pageList:function(){var e=this.searchList();return 0==e.length||(e=e.slice(0,this.page*this.pageSize)),e},pages:function(){var e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)}},Object(a.b)(["news","words"])),methods:{close:function(e,t){var n=d()("html, body").scrollTop()-d()("#a"+t).outerHeight();setTimeout((function(){d()("html, body").animate({scrollTop:n},300)}),300),e.show=!1},clickHandler:function(e){c.a.$emit("click",e)},loadContent:function(e,t){var n=this;if(""==Object(w.a)().toString()){var i=this;e.desc||Object(w.c)(null,{cmd:"content",content:e},(function(r){if(r.content){var a=Object(v.a)(n.words,r.content);a=a.replace(/<img(.*?)>/gi,'<iframe style="width:100%;margin:0;padding:0;border:0;" frameborder="no" border="0" class="img"  $1 ></iframe>').replace(/src=/i,'src = "about:blank" _src='),setTimeout((function(){for(var e=document.querySelectorAll("#a"+t+" iframe.img"),n=function(t){var n=e[t],r=n.getAttribute("_src");if(!r)return d()(n).remove(),"continue";var a=n.contentDocument||n.contentWindow.document;a.addEventListener("click",i.clickHandler),a.addEventListener("touchend",i.clickHandler),a.body.style.overflow="hidden",a.body.innerHTML='<img  style="width:100%;" src="'.concat(r,'" />'),a.body.querySelector("img").onload=function(){d()(n).height(d()(n).contents().height())}},r=0;r<e.length;r++)n(r)}),100),e.desc=a}n.curVideoId=e.p})),this.$set(e,"show",!e.show)}},loadMore:function(){var e=this;this.busy=!0,setTimeout((function(){e.page++,e.busy=e.pages>0&&e.page>=e.pages}),1e3)},searchList:function(){return this.news},toPage:function(e){e<1||e>this.pages||(this.page=e)}},mounted:function(){var e=this;c.a.$on("swiper",(function(t,n){e.pageList.map((function(t,n){return t.show&&e.close(t,n)}))}))},watch:{}},Y=(n("63ef"),Object(p.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"20"}},[n("div",{staticStyle:{padding:"5px",background:"white"}},[n("table",{staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(t,i){return n("tr",{key:i},[n("td",[n("h4",{staticClass:"title",class:{cur:e.curVideoId==t.p,ni:!t.i},on:{click:function(n){return e.loadContent(t,i)}}},[e._v(" "+e._s(e._f("fmtDate")(t.date))+": "+e._s(t.title)+" "),n("i",{staticClass:"src"},[e._v(e._s(t.src))])]),n("div",{attrs:{id:"a"+i}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"desc",domProps:{innerHTML:e._s(t.desc)}}),t.show?n("div",{staticStyle:{"text-align":"center"},on:{click:function(n){return e.close(t,i)}}},[e._v(" Close ")]):e._e()])])])})),0)]),n("div",{staticStyle:{"text-align":"right"}},[e._v(" Filter:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{width:"60px"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" ("),n("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page-1)}}},[e._v(" Prev ")]),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page+1)}}},[e._v(" Next ")])])])}),[],!1,null,"600c5b4c",null)).exports,Z=n("b85c"),X=(n("9911"),n("a4d3"),n("e01a"),n("ec3d")),Q={data:function(){return{url:"",pageSize:20,page:1,curVideoId:"",search:"",busy:0,news:[],curIndex:0,loading:0}},created:function(){},filters:{fmtDate:function(e){return e.substring(4,6)+"-"+e.substring(6,8)}},computed:Object(r.a)({pageList:function(){var e=this.searchList();return 0==e.length||(e=e.slice(0,this.page*this.pageSize)),e},pages:function(){var e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)}},Object(a.b)(["words"])),methods:{close:function(e){setTimeout((function(){d()("html, body").animate({scrollTop:e.scrollTop},300)}),300),e.show=!1},clickHandler:function(e){c.a.$emit("click",e)},fetchUrl:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="https://ftr.fivefilters.net/makefulltextfeed.php?max=1&url="+encodeURIComponent(e.url),!e.url||!e.url.match("http.+")){t.next=13;break}if(0!=e.news.filter((function(t){return t.link==e.url})).length){t.next=12;break}return t.next=5,Object(_.a)(n,"xml");case 5:(i=t.sent).rss.channel.item.pubDate=i.rss.channel.item.pubDate.replace(" +0000",""),e.news.unshift(i.rss.channel.item),e.loadContent(i.rss.channel.item,0),t.next=13;break;case 12:alert(e.url+" already exists!");case 13:case"end":return t.stop()}}),t)})))()},open:function(e,t){var n=this;""==Object(w.a)().toString()&&(this.curIndex=t,this.loading=1,e.scrollTop=d()("html, body").scrollTop(),this.$set(e,"show",!e.show),setTimeout((function(){n.loadContent(e,t)}),0))},loadContent:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""==Object(w.a)().toString()){n.next=3;break}return n.abrupt("return");case 3:if(e.show){n.next=5;break}return n.abrupt("return");case 5:return i=e.link.replace(/.+\/(.*?\/[^/]+)/,"$1"),n.next=8,t.loadCache("new-"+i).catch((function(){return""}));case 8:if((r=n.sent)||!e.link){n.next=24;break}return a="https://ftr.fivefilters.net/makefulltextfeed.php?max=1&url="+encodeURIComponent(e.link),n.next=14,Object(_.a)(a,"xml");case 14:o=n.sent,s=o.rss.channel.item.description,r=s.replace(/(<\/?a.*?>)|(<\/?span.*?>)/g,""),c=d()("<div>"+r+"</div>"),u=["title","src","srcset","class"],c.find("*").each((function(){var e=d()(this),t=[];d.a.each(this.attributes,(function(){this&&this.specified&&-1==u.indexOf(this.name.toLowerCase())&&t.push(this.name)}));for(var n=0,i=t;n<i.length;n++){var r=i[n];e.removeAttr(r)}})),c.find("iframe").remove(),c.find("img,video").attr("referrerpolicy","no-referrer"),r=c[0].innerHTML,sessionStorage["new-"+i]=Object(X.d)(r);case 24:l=Object(v.b)(t.words,r),r=l[0],t.$store.commit("add2CurWords",[l[1],1]),e.desc=r,t.curVideoId=e.p,t.loading=2;case 30:case"end":return n.stop()}}),n)})))()},loadMore:function(){var e=this;this.busy=!0,setTimeout((function(){e.page++,e.busy=e.pages>0&&e.page>=e.pages}),1e3)},searchList:function(){return this.news},toPage:function(e){e<1||e>this.pages||(this.page=e)},getDate:function(e){if(e.pubDate){var t=new Date(e.pubDate);return t.getMonth()+1+"-"+t.getDate()}return""},getImage:function(e){return e.thumbnail?e.thumbnail.url:e.group&&e.group.content&&e.group.content.length>0?e.group.content.pop().url:void 0},fresh:function(){c.a.$emit("freshnews",1)}},mounted:function(){var e,t=this,n=this;T.a.init({mainElement:this.$refs.container,triggerElement:this.$refs.container,onRefresh:function(){n.fresh()}}),c.a.$on("swiper",(function(e,n){t.pageList.map((function(e,n){return e.show&&t.close(e,n)}))})),sessionStorage.news&&(e=this.news).push.apply(e,Object(u.a)(Object(X.a)(sessionStorage.news))),c.a.$on("freshnews",(function(e){var i=localStorage.freshnews||0;!e&&(new Date).getTime()-i<216e5||Object(s.a)(regeneratorRuntime.mark((function e(){var i,r,a,o,s,c,l,d,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=t.config.rsss.filter((function(e){return e.enable})),o=regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.rss2json.com/v1/api.json?rss_url="+encodeURIComponent(a[n].url)).then((function(e){return e.json()})).then((function(e){return e.items.filter((function(e){return e.pubDate})).map((function(e){return{title:e.title,link:e.link,pubDate:e.pubDate,thumb:t.getImage(e),name:a[n].name}}))}));case 3:i=e.sent,r.push.apply(r,Object(u.a)(i.filter((function(e){return e.link&&-1==e.link.indexOf("/videos/")})))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),s=0;case 4:if(!(s<a.length)){e.next=9;break}return e.delegateYield(o(s),"t0",6);case 6:s++,e.next=4;break;case 9:c=[],l={},d=Object(Z.a)(t.news.concat(r));try{for(d.s();!(f=d.n()).done;)(p=f.value)&&!l[p.link]&&(p.dt=new Date(p.pubDate).getTime(),c.push(p),l[p.link]=1)}catch(e){d.e(e)}finally{d.f()}c.sort((function(e,t){return t.dt-e.dt})),c.length=Math.min(n.config.keepNewsCount,c.length),localStorage.freshnews=(new Date).getTime(),sessionStorage.news=Object(X.d)(JSON.stringify(c)),t.news.length=0,(i=t.news).push.apply(i,c);case 19:case"end":return e.stop()}}),e)})))()}))},watch:{}},G=(n("68e0"),Object(p.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new2"},[n("div",{staticClass:"newbar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"urlinput",attrs:{placeholder:"http:// or https:// url"},domProps:{value:e.url},on:{blur:e.fetchUrl,focus:function(t){e.url=""},input:function(t){t.target.composing||(e.url=t.target.value)}}})]),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],ref:"container",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"20"}},[n("div",{staticStyle:{padding:"5px",background:"white","user-select":"none"}},[n("table",{staticClass:"row",staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(t,i){return n("tr",{key:t.link,class:{cur:e.curIndex==i}},[n("td",[n("div",{staticClass:"item",class:{cur:e.curIndex==i,loading:t.show&&e.curIndex==i&&1==e.loading,loaded:t.show&&e.curIndex==i&&2==e.loading,readed:t.desc},on:{mouseover:function(t){e.curIndex=i},click:function(n){return e.open(t,i)}}},[t.thumb?n("img",{staticClass:"thumb",attrs:{src:t.thumb,referrerpolicy:"no-referrer"}}):e._e(),n("div",[n("div",{staticClass:"title"},[e._v(e._s(i+1)+". "+e._s(t.title))]),n("div",{staticClass:"info"},[n("span",{staticClass:"name"},[e._v(e._s(t.name))]),n("span",{staticClass:"date"},[e._v(e._s(e.getDate(t)))])])])]),n("div",{attrs:{id:"a"+i}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"desc",domProps:{innerHTML:e._s(t.desc)}}),t.show?n("div",{staticClass:"close",on:{click:function(n){return e.close(t,i)}}},[n("a",{staticClass:"bt"},[e._v("Close")])]):e._e()])])])})),0)]),0==e.pageList.length?n("div",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.fresh()}}},[n("a",[e._v("Refresh")])]):e._e()])])}),[],!1,null,"ca2fe7da",null)).exports,K={data:function(){return{playMode:localStorage.playMode&&parseInt(localStorage.playMode)||0,curPlay:"",isSpell:!1,playNum:0}},created:function(){},computed:Object(r.a)({},Object(a.b)(["curWords","seeCurWords"])),components:{WordItem:h},methods:{playList:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.curWords.length){t.next=15;break}n=0;case 3:if(!(n<e.$refs.word.length)){t.next=15;break}if(e.config2.playing){t.next=7;break}return e.curPlay="",t.abrupt("return");case 7:return t.next=10,e.sleep(10);case 10:return t.next=12,e.$refs.word[n].playWords(e.$refs.curWs);case 12:n++,t.next=3;break;case 15:e.updateConfig2({playing:0});case 16:case"end":return t.stop()}}),t)})))()},showHideCurWords:function(e){var t=d()(window).width();if(d()(".videoCon").is(":visible")){var n=d()(".videoCon").width(),i=n>0&&t-n<.25*t;d()(this.$refs.curWs).css("top",i?d()(".text").offset().top+"px":"auto"),e?i?(d()(".text").css({width:t!=n?Math.min(.75*t,n)+"px":"75%"}),d()(this.$refs.curWs).css({left:"auto",right:"0"})):d()(this.$refs.curWs).css({left:d()(".text").outerWidth()+"px",right:"auto"}):d()(".text").css("width","100%")}else e?(d()(this.$refs.curWs).css({left:"auto",right:"0",top:0}),d()(".new2").css("width","75%")):d()(".new2").css("width","100%")}},mounted:function(){var e=this;d()(window).resize((function(){e.showHideCurWords(e.seeCurWords)})),c.a.$on("newWord",(function(t){e.$store.commit("add2CurWords",[[t]])})),c.a.$on("playCurWords",(function(){Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.config2.playing){t.next=4;break}e.updateConfig2({playing:0}),t.next=15;break;case 4:return e.updateConfig2({playing:1}),e.skipTrigAutoPlay=1,t.prev=6,t.next=9,e.playList();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6);case 14:e.skipTrigAutoPlay=0;case 15:c.a.$emit("finishPlayCurWords");case 16:case"end":return t.stop()}}),t,null,[[6,11]])})))()}))},watch:{"$store.state.config2.playing":{handler:function(e){e&&!this.skipTrigAutoPlay&&this.playList()}},"$store.state.config.seeCurWords":{handler:function(e){this.showHideCurWords(e)}}}},ee=(n("43a4"),Object(p.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords,expression:"config.seeCurWords"}],ref:"curWs",staticClass:"curWs"},e._l(e.curWords,(function(t){return n("WordItem",{key:t.q,ref:"word",refInFor:!0,staticStyle:{padding:"5px 0"},attrs:{curPlay:e.curPlay,word:t,playMode:e.playMode,playing:e.config2.playing,playRel:3}})})),1)])}),[],!1,null,"17d18f8b",null)).exports,te=(n("b680"),{data:function(){return{playMode:localStorage.playMode&&parseInt(localStorage.playMode)||0,curPlay:"",isSpell:!1,playNum:0,opacity:.1}},created:function(){},computed:{},components:{},watch:{"$store.state.config2.mask":{handler:function(e){e||this.onLeave()}}},methods:{changeRate:function(){this.config.playbackrate=(.1+parseFloat(this.config.playbackrate)).toFixed(1),this.updateConfig({playbackrate:this.config.playbackrate>1?.5:this.config.playbackrate})},clickAudio:function(){this.updateConfig({isAudio:this.config.isAudio>=2?0:1+this.config.isAudio})},onLeave:function(){this.opacity=0,this.updateConfig2({mask:0})},onTouch:function(){this.opacity=1,this.updateConfig2({mask:1})},togglePlayAndMode:function(){this.playMode++,this.playMode>3&&(this.playMode=0),localStorage.playMode=this.playMode},setShowCurWords:function(e){this.updateConfig({seeCurWords:e}),e||this.updateConfig2({playing:e})}},mounted:function(){var e=this;document.addEventListener("click",(function(t){e.$refs.op_tool&&(e.$refs.op_tool.contains(t.target)||e.onLeave())}))}}),ne=(n("a1f0"),Object(p.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"op_tool",staticClass:"op_tool",class:{show:e.opacity,hide:!e.opacity},on:{touchstart:function(t){return e.onTouch(1)},mouseover:function(t){return e.onTouch()},mouseout:function(t){return e.onLeave(0)},touchmove:function(t){return e.onTouch()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.opacity<1,expression:"opacity < 1"}],ref:"mask",staticStyle:{width:"150%",height:"100%",position:"absolute","z-index":"1","user-select":"none"},on:{touchstart:function(e){e.preventDefault()},touchend:function(e){e.preventDefault()},touchmove:function(e){e.preventDefault()}}}),n("div",{staticClass:"icons"},[n("span",{class:{playing:e.config2.playing},on:{click:function(t){return e.togglePlayAndMode()}}},[e._v(e._s(e.playMode))]),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords&&e.config2.playing,expression:"config.seeCurWords && config2.playing"}],attrs:{icon:"volume-high","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords&&!e.config2.playing,expression:"config.seeCurWords && !config2.playing"}],attrs:{icon:"volume-xmark","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),n("font-awesome-icon",{class:{active:e.config.viewMode,left:2==e.config.viewMode},attrs:{icon:"fa-solid fa-maximize","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({viewMode:++e.config.viewMode>2?0:e.config.viewMode})}}}),n("font-awesome-icon",{class:{active:e.config.seeCurWords},attrs:{icon:["fas","list"],"fixed-width":"",size:"lg"},on:{click:function(t){return e.setShowCurWords(!e.config.seeCurWords)}}}),1==e.config.isAudio?n("font-awesome-icon",{attrs:{icon:["fas","headphones"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}):2==e.config.isAudio?n("font-awesome-icon",{attrs:{icon:["fas","headphones-simple"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}):n("font-awesome-icon",{attrs:{icon:["fas","tv"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}),n("font-awesome-icon",{class:{active:e.config.custCue,borderTop:2==e.config.custCue,borderBottom:1==e.config.custCue},attrs:{icon:["fas","closed-captioning"],"fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({custCue:++e.config.custCue>2?0:e.config.custCue})}}}),n("font-awesome-icon",{attrs:{icon:"eye","fixed-width":"",size:"lg"},on:{click:function(t){return e.toggleSetting()}}}),n("a",{on:{click:function(t){return e.changeRate()}}},[e._v(e._s(e.config.playbackrate))])],1)])}),[],!1,null,"4b0719ee",null)).exports,ie=(n("b64b"),{data:function(){return{pauseTimer:0,pauseTimerTimer:0,endTime:"",token:"",tokenMessage:"",showSetting:1,refreshIndicator:0,uploadDate:"",voices:["YD","BD","BK","SG"],rssIndex:-1}},filters:{fmtDate:function(e){return e?e.getHours()+":"+e.getMinutes()+":"+e.getSeconds():""}},created:function(){var e=this,t=this;Object(s.a)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},n.prev=1,n.next=4,d.a.ajax({url:"https://smlog.github.io/data/config.js",dataType:"jsonp",jsonpCallback:"applyConfig"});case 4:i=n.sent,n.next=19;break;case 7:return n.prev=7,n.t0=n.catch(1),n.prev=10,n.next=13,fetch("/data/config.json").then((function(e){return e.json()}));case 13:i=n.sent,n.next=19;break;case 16:n.prev=16,n.t1=n.catch(10);case 19:t.timer=setInterval((function(){if("complete"===document.readyState){window.clearInterval(t.timer);var n=+new Date;Object(w.c)(null,{cmd:"getConfig",reqId:++n},(function(t){if(t){var n=Object.assign(e.config,t,i),r=n.rsss,a=t.rsss?t.rsss.reduce((function(e,t){return e[t.name]=t.enable,e}),{}):{};r.forEach((function(e){e.enable=a[e.name]?1:0}));var o=n.urls,s={};if(t.urls)for(var c=0,u=Object.keys(t.urls);c<u.length;c++){var l,d=u[c],f=Object(Z.a)(t.urls[d]);try{for(f.s();!(l=f.n()).done;){var p=l.value;s[p.url]=p.enable}}catch(e){f.e(e)}finally{f.f()}}for(var h=0,g=Object.keys(o);h<g.length;h++){var m,v=g[h],w=Object(Z.a)(o[v]);try{for(w.s();!(m=w.n()).done;){var y=m.value;y.enable=s[y.url]?1:0}}catch(e){w.e(e)}finally{w.f()}}Object.assign(n,t),r&&r.length&&Object.assign(n,{rsss:r,urls:o}),e.$store.commit("config",n),e.loadmodsdata().then((function(){e.refresh()}))}})),Object(w.c)(null,{cmd:"get",name:"user",reqId:++n},(function(t){e.tokenMessage=t})),Object(w.c)(null,{cmd:"get",name:"uploadDate",reqId:++n},(function(t){e.uploadDate=t})),c.a.$on("video",(function(t){e.saveCache("video-"+t.vid,t)})),c.a.$on("new",(function(t,n){e.saveCache("new-"+t,n)}))}}),1e3);case 20:case"end":return n.stop()}}),n,null,[[1,7],[10,16]])})))()},mounted:function(){var e=this;setTimeout((function(){e.config.autoRefresh&&e.refresh(!0)}),1e3)},methods:{focus:function(e){setTimeout((function(){e.target.focus()}),1e3)},mUpload:function(){var e=this;this.$store.commit("setLoading",1),this.loading||(this.loading=1,Object(w.c)(null,{cmd:"mUpload"},(function(t){t&&e.refresh(),e.$store.commit("setLoading",0),e.loading=0})))},loadmodsdata:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,i,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in n=e,i=[],e.config)0==r.indexOf("show")&&e.config[r]&&i.push(r.substring(4));i.sort().reverse(),a=0;case 5:if(!(a<i.length)){t.next=19;break}return t.prev=6,t.next=9,e.loadCache(i[a]);case 9:o=t.sent,n.$store.commit(i[a],o||[]),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6);case 16:a++,t.next=5;break;case 19:c.a.$on("fresh",(function(t,n){e.refreshmode(t,n)}));case 20:case"end":return t.stop()}}),t,null,[[6,13]])})))()},refreshmode:function(e,t){var n=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var r,a,o,s,u;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=n,c.a.$emit("fresh"+e,t),!(n.$store[e]&&n.$store[e].length>0)){i.next=7;break}return i.next=7,n.saveCache(e,n.$store[e]);case 7:return a={},i.next=10,new Promise((function(n){Object(w.c)(null,{cmd:"lists",force:t,type:e},(function(t){t&&(t.contents&&t.contents.length&&(r.$store.commit(e,t.contents),a[e]=t.contents),t.done&&n())}))}));case 10:o=Object.keys(a),s=0;case 12:if(!(s<o.length)){i.next=19;break}return u=o[s],i.next=16,n.saveCache(u,a[u]).catch((function(e){}));case 16:s++,i.next=12;break;case 19:case"end":return i.stop()}}),i)})))()},refresh:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r,a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i=t).refreshIndicator){n.next=4;break}return n.abrupt("return");case 4:for(a in i.refreshIndicator=1,r=[],t.config)0==a.indexOf("show")&&t.config[a]&&r.push(a.substring(4));r.sort().reverse(),o=0;case 9:if(!(o<r.length)){n.next=15;break}return n.next=12,t.refreshmode(r[o],e);case 12:o++,n.next=9;break;case 15:i.refreshIndicator=0;case 16:case"end":return n.stop()}}),n)})))()},updateConfig:function(){var e=this;Object(w.c)(null,{cmd:"setConfig",content:this.config},(function(){e.$store.commit("config",e.config)}))},submitTimer:function(){clearTimeout(this.pauseTimerTimer);var e=this,t=parseInt(this.pauseTimer);if(t>0){var n=(new Date).getTime();e.endTime=new Date(n+60*t*1e3),this.pauseTimerTimer=setTimeout((function(){d()("audio,video").each((function(){d()(this)[0].pause()})),Object(w.c)(null,{cmd:"audio",pause:!0},(function(){})),e.pauseTimer=0,e.endTime=""}),60*t*1e3)}},submitToken:function(){var e=this;this.tokenMessage="",Object(w.c)(null,{cmd:"token",content:this.token},(function(t){e.tokenMessage=t.message||t.name,t.name||setTimeout((function(){Object(w.c)(null,{cmd:"token"},(function(t){e.tokenMessage=t,t||(e.token="")}))}),3e3)}))},toggleHl:function(){d()("html > head #newwordHl").length>0?d()("html > head #newwordHl").remove():d()("html > head").append(d()('<style id="newwordHl" type = "text/css">\n      .newWordb{   display:none;}\n      </style>'))}},computed:Object(r.a)({},Object(a.b)(["curTab","showApp","curItem"])),watch:{}}),re=(n("b0f2"),Object(p.a)(ie,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"font-size":"0.8em",color:"white"}},[n("div",{staticClass:"t_1"},[n("span",[n("input",{attrs:{type:"checkbox"},on:{click:function(t){return e.toggleHl()}}}),e._v("HL")]),n("span",{on:{click:function(t){e.showSetting=!e.showSetting}}},[e._v(" Setting ")]),n("span",{on:{click:function(t){return e.refresh(!0)}}},[e._v("Refresh"),e.refreshIndicator?n("span",[e._v("...")]):e._e()]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.autoRefresh,expression:"config.autoRefresh"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.autoRefresh)?e._i(e.config.autoRefresh,null)>-1:e.config.autoRefresh},on:{change:function(t){var n=e.config.autoRefresh,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"autoRefresh",n.concat([null])):a>-1&&e.$set(e.config,"autoRefresh",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"autoRefresh",r)}}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showSetting,expression:"showSetting"}],staticStyle:{"font-size":"0.8em",color:"white","text-align":"left","border-top":"1px dashed white",padding:"5px"}},[n("div",[n("div",[e._v(" Translate Url:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.tranUrl,expression:"config.tranUrl"}],domProps:{value:e.config.tranUrl},on:{blur:function(t){return e.updateConfig()},input:function(t){t.target.composing||e.$set(e.config,"tranUrl",t.target.value)}}})])]),n("div",[n("div",[e._v(" Back ground Audio keep live "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.bgkeeplive,expression:"config.bgkeeplive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.bgkeeplive)?e._i(e.config.bgkeeplive,null)>-1:e.config.bgkeeplive},on:{change:[function(t){var n=e.config.bgkeeplive,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"bgkeeplive",n.concat([null])):a>-1&&e.$set(e.config,"bgkeeplive",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"bgkeeplive",r)},function(t){return e.updateConfig()}]}})])]),n("audio",{directives:[{name:"show",rawName:"v-show",value:e.config.bgkeeplive,expression:"config.bgkeeplive"}],attrs:{id:"bgAudio",controls:""},on:{click:function(e){e.stopPropagation()}}})]),n("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[n("div",[n("span",[e._v(" Retain:")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.retains,expression:"config.retains",modifiers:{number:!0}}],staticStyle:{"max-width":"30px"},attrs:{min:"30"},domProps:{value:e.config.retains},on:{change:function(t){return e.updateConfig()},input:function(t){t.target.composing||e.$set(e.config,"retains",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("div",[n("span",[e._v(" Loop Count:")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.loopCount,expression:"config.loopCount",modifiers:{number:!0}}],staticStyle:{"max-width":"30px"},attrs:{min:"1"},domProps:{value:e.config.loopCount},on:{change:function(t){return e.updateConfig()},input:function(t){t.target.composing||e.$set(e.config,"loopCount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("div",[n("span",[e._v(" Timeout Next:")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.timeoutnext,expression:"config.timeoutnext"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.timeoutnext)?e._i(e.config.timeoutnext,null)>-1:e.config.timeoutnext},on:{change:[function(t){var n=e.config.timeoutnext,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"timeoutnext",n.concat([null])):a>-1&&e.$set(e.config,"timeoutnext",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"timeoutnext",r)},function(t){return e.updateConfig()}]}})])]),n("div",{staticStyle:{"text-align":"left"}},[e._v(" Stop after "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.pauseTimer,expression:"pauseTimer",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.pauseTimer},on:{blur:[e.submitTimer,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.pauseTimer=e._n(t.target.value))}}}),e._v(" minus "),e.endTime?n("span",[e._v("at "+e._s(e._f("fmtDate")(e.endTime)))]):e._e()])]),n("div",{staticStyle:{"text-align":"left"}},[e._v(" Token: "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.token,expression:"token"}],staticStyle:{width:"100%","box-sizing":"border-box"},domProps:{value:e.token},on:{blur:function(t){return e.submitToken()},input:function(t){t.target.composing||(e.token=t.target.value)}}})]),n("div",{staticStyle:{color:"red","font-weight":"bold"}},[e._v(e._s(e.tokenMessage))])]),e.token?n("div",[n("div",[e._v(" Word upload: "),n("a",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(t){return e.mUpload()}}},[e._v("upload "+e._s(e.uploadDate))])]),n("div",[e._v(" Upload "),n("div",[e._v(" only when new word reach "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.config.fzWords,expression:"config.fzWords"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"fzWords",t.target.multiple?n:n[0])},function(t){return e.updateConfig()}]}},[n("option",{attrs:{value:"0"}},[e._v("Disable")]),e._l([1,3,5,10,20,50,100],(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)]),n("div",[e._v(" only when new video reach "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.config.fzVideos,expression:"config.fzVideos"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"fzVideos",t.target.multiple?n:n[0])},function(t){return e.updateConfig()}]}},[n("option",{attrs:{value:"0"}},[e._v("Disable")]),e._l([1,5,10,20,50,100],(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)])])]):e._e(),n("div",{staticStyle:{"text-align":"left"}},[e._v(" Enable: "),n("div",[n("label",[e._v(" Radio "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.radio,expression:"config.radio"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.radio)?e._i(e.config.radio,null)>-1:e.config.radio},on:{change:[function(t){var n=e.config.radio,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"radio",n.concat([null])):a>-1&&e.$set(e.config,"radio",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"radio",r)},function(t){return e.updateConfig()}]}})]),n("label",[e._v(" Words "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.showwords,expression:"config.showwords"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.showwords)?e._i(e.config.showwords,null)>-1:e.config.showwords},on:{change:[function(t){var n=e.config.showwords,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"showwords",n.concat([null])):a>-1&&e.$set(e.config,"showwords",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"showwords",r)},function(t){return e.updateConfig()}]}})]),n("label",[e._v(" MJ "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.mj,expression:"config.mj"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.mj)?e._i(e.config.mj,null)>-1:e.config.mj},on:{change:[function(t){var n=e.config.mj,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"mj",n.concat([null])):a>-1&&e.$set(e.config,"mj",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"mj",r)},function(t){return e.updateConfig()}]}})]),n("label",[e._v(" Dict "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.dict,expression:"config.dict"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.dict)?e._i(e.config.dict,null)>-1:e.config.dict},on:{change:[function(t){var n=e.config.dict,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"dict",n.concat([null])):a>-1&&e.$set(e.config,"dict",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"dict",r)},function(t){return e.updateConfig()}]}})]),n("label",[e._v(" Rel Words "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.relwords,expression:"config.relwords"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.relwords)?e._i(e.config.relwords,null)>-1:e.config.relwords},on:{change:[function(t){var n=e.config.relwords,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"relwords",n.concat([null])):a>-1&&e.$set(e.config,"relwords",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"relwords",r)},function(t){return e.updateConfig()}]}})])])]),n("div",[n("label",[e._v(" Vidoes "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.showvideos,expression:"config.showvideos"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.showvideos)?e._i(e.config.showvideos,null)>-1:e.config.showvideos},on:{change:[function(t){var n=e.config.showvideos,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"showvideos",n.concat([null])):a>-1&&e.$set(e.config,"showvideos",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"showvideos",r)},function(t){return e.updateConfig()}]}})]),e.config.showvideos?n("div",{staticStyle:{"max-height":"50vh",overflow:"auto"}},[n("ul",{staticStyle:{border:"1px solid #ccc",padding:"5px"}},e._l(e.config.urls,(function(t,i){return n("li",{key:i},[n("div",{staticStyle:{"font-weight":"bold","font-size":"120%",display:"flex","justify-content":"space-between"}},[n("span",[e._v(e._s(i))]),n("input",{attrs:{type:"checkbox"},on:{click:function(e){t.forEach((function(e){return e.enable=!e.enable}))},change:function(t){return e.updateConfig()}}})]),e._l(t,(function(t){return n("div",{key:t.url,staticStyle:{display:"flex"}},[n("div",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","flex-grow":"1"}},[e._v(" ... "+e._s(t.url.substr(-40))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.enable,expression:"g.enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.enable)?e._i(t.enable,null)>-1:t.enable},on:{change:[function(n){var i=t.enable,r=n.target,a=!!r.checked;if(Array.isArray(i)){var o=e._i(i,null);r.checked?o<0&&e.$set(t,"enable",i.concat([null])):o>-1&&e.$set(t,"enable",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(t,"enable",a)},function(t){return e.updateConfig()}]}})])}))],2)})),0)]):e._e()]),n("div",{staticStyle:{"user-select":"none"}},[n("div",{staticStyle:{"text-align":"left",margin:"5px 0px",display:"flex","justify-content":"space-between","font-weight":"bold",color:"black","font-size":"120%"}},[n("span",[e._v(" Rss: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.shownews,expression:"config.shownews"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.shownews)?e._i(e.config.shownews,null)>-1:e.config.shownews},on:{change:[function(t){var n=e.config.shownews,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"shownews",n.concat([null])):a>-1&&e.$set(e.config,"shownews",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"shownews",r)},function(t){return e.updateConfig()}]}})]),n("div",[n("span",[e._v("Keep:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.keepNewsCount,expression:"config.keepNewsCount",modifiers:{number:!0}}],staticStyle:{"max-width":"40px"},attrs:{type:"input",min:"0",max:"200"},domProps:{value:e.config.keepNewsCount},on:{change:function(t){return e.updateConfig()},input:function(t){t.target.composing||e.$set(e.config,"keepNewsCount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e.config.shownews?n("div",{staticStyle:{"max-height":"50vh",overflow:"auto"}},[n("ul",{staticStyle:{border:"1px solid #ccc",padding:"5px"}},e._l(e.config.rsss,(function(t,i){return n("li",{key:t.url,on:{click:function(t){e.rssIndex=i}}},[n("div",[n("div",[n("div",{staticStyle:{display:"flex"}},[n("a",{staticStyle:{"flex-grow":"1"}},[e._v(e._s(i)+" "+e._s(t.name))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.enable,expression:"rss.enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.enable)?e._i(t.enable,null)>-1:t.enable},on:{change:[function(n){var i=t.enable,r=n.target,a=!!r.checked;if(Array.isArray(i)){var o=e._i(i,null);r.checked?o<0&&e.$set(t,"enable",i.concat([null])):o>-1&&e.$set(t,"enable",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(t,"enable",a)},function(t){return e.updateConfig()}]}})]),n("div",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[n("span",[e._v(e._s(t.url))])])])])])})),0)]):e._e()]),n("div",{staticStyle:{"text-align":"left",margin:"5px 0",display:"flex","justify-content":"space-between"}},[n("div",[e._v(" Sound: "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.config.autoSound,expression:"config.autoSound"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"autoSound",t.target.multiple?n:n[0])},function(t){return e.updateConfig()}]}},[n("option",{attrs:{value:""}},[e._v("No sound")]),n("option",{attrs:{value:"auto"}},[e._v("auto")]),e._l(e.voices,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2)]),n("div",[e._v(" Translate:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.activeTran,expression:"config.activeTran"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.activeTran)?e._i(e.config.activeTran,null)>-1:e.config.activeTran},on:{change:function(t){var n=e.config.activeTran,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"activeTran",n.concat([null])):a>-1&&e.$set(e.config,"activeTran",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"activeTran",r)}}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.maxTranLen,expression:"config.maxTranLen",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.config.maxTranLen},on:{input:function(t){t.target.composing||e.$set(e.config,"maxTranLen",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",[e._v(" autoHide:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.autoHide,expression:"config.autoHide"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.autoHide)?e._i(e.config.autoHide,null)>-1:e.config.autoHide},on:{change:[function(t){var n=e.config.autoHide,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.config,"autoHide",n.concat([null])):a>-1&&e.$set(e.config,"autoHide",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.config,"autoHide",r)},function(t){return e.updateConfig()}]}})]),n("div",[e._v(" custCue:"),n("a",{on:{click:function(t){e.config.custCue=++e.config.custCue>2?0:e.config.custCue,e.updateConfig()}}},[e._v(e._s(0==e.config.custCue?"NO":1==e.config.custCue?"Bottom":"Top")+" "+e._s(e.config.custCue)+" ")])])])])])}),[],!1,null,"cb3932c8",null)).exports,ae=(n("141b"),"v89"),oe={data:function(){return{ver:ae,zIndex:(new Date).getTime(),error:"",errorUrl:"",showTimer:!1,pauseTimer:0,pauseTimerTimer:0,endTime:"",showInputToken:0,token:"",tokenMessage:"",wlargeh:0}},filters:{fmtDate:function(e){return e?e.getHours()+":"+e.getMinutes()+":"+e.getSeconds():""}},components:{HelloWorld:o.a,NewWordsR:m,MediaPlayer:B,Setting:re,News:Y,News2:G,CurWords:ee,TopTool:ne},mounted:function(){var e=this,t=function(){var e=document.documentElement;e.style.setProperty("--doc-height","".concat(window.innerHeight,"px")),setTimeout((function(){e.style.setProperty("--doc-height","".concat(window.innerHeight,"px")),self.wlargeh=window.innerWidth>window.innerHeight}),200)};window.addEventListener("resize",t),t(),c.a.root=this.$refs.root,d()(this.$refs.rootnav).on("click",(function(){e.clearSelect()}));var n,i,r=document;r.addEventListener("touchstart",(function(e){if(1==e.targetTouches.length){var t=e.targetTouches[0];i=n=t.pageX}}),!1),r.addEventListener("touchmove",(function(e){if(1==e.targetTouches.length){var t=e.targetTouches[0];i=t.pageX}}),!1),r.addEventListener("touchend",(function(e){Math.abs(i-n)>140&&(0==Object(w.a)().toString().length&&c.a.$emit("swiper",e,i-n))}),!1);var a=0,o=function(t){e.$refs.root&&e.showApp&&(e.$refs.root.contains(t.target)||e.$store.commit("setShowApp",!1)),a||(a=1,Object(x.a)())};r.addEventListener("click",o),r.addEventListener("touchend",o),c.a.$on("click",o),this.$refs.play.addEventListener("mouseenter",(function(t){e.setCurTab("HelloWorld"),c.a.$emit("play",t)})),c.a.$on("error",(function(t){e.error=t.error,e.errorUrl=t.errorUrl}))},methods:{touchMask:function(){this.$store.commit("setShowSetting",0),this.$store.commit("setShowApp",0),this.updateConfig2({mask:0}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},clearSelect:function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},toggleAutoPlay:function(){c.a.$emit("toggleAutoPlay")},showError:function(){alert(this.error+":"+this.errorUrl)},changeItemNew:function(e){var t=this;this.curItem.q.trim()&&(this.curItem.n=e.target.checked?1:0,Object(w.c)(null,{cmd:"newWord",content:this.curItem},(function(e){t.$store.commit("newWord",e.contents)})))},setCurTab:function(e){this.$store.commit("setCurTab",e)},enterTab:function(e,t){var n,i=this;e.target.addEventListener("mouseout",(function t(){clearTimeout(n),e.target.removeEventListener("mouseout",t)})),n=setTimeout((function(){i.setCurTab(t)}),200)},submitToken:function(){var e=this;this.tokenMessage="",Object(w.c)(null,{cmd:"token",content:this.token},(function(t){e.tokenMessage=t.message||t.name}))}},computed:Object(r.a)({},Object(a.b)(["curTab","showApp","curItem","curPlay","loading","showSidebar"])),watch:{showApp:function(e){e&&(this.zIndex=(new Date).getTime())},pauseTimer:function(e){clearTimeout(this.pauseTimerTimer);var t=this,n=parseInt(e);if(n>0){var i=(new Date).getTime();t.endTime=new Date(i+60*n*1e3),this.pauseTimerTimer=setTimeout((function(){d()("audio,video").each((function(){d()(this)[0].pause()})),Object(w.c)(null,{cmd:"audio",pause:!0},(function(){})),t.pauseTimer=0,t.endTime=""}),60*n*1e3)}}}},se=(n("fff2"),n("f1ba"),Object(p.a)(oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"app",staticClass:"mytranslate-extension",class:"fs-"+e.config.fs,attrs:{id:"app"}},[n("div",{class:{viewMode:e.config.viewMode,viewMode2:2==e.config.viewMode,touchstart:e.config2.touchstart,showList:e.config2.showList,showCustCue:e.config.custCue,cueTop:2==e.config.custCue,cueBotton:1==e.config.custCue,pause:!e.config2.playingM}},[e.showApp||e.showSidebar||e.config2.mask?n("div",{staticClass:"vt-backdrop backdrop",staticStyle:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",background:"rgba(255, 255, 255, 0.1)",transition:"opacity 0.5s","z-index":"11110"},on:{click:function(t){return t.stopPropagation(),e.touchMask()},mouseup:function(e){e.stopPropagation()},touchend:function(e){e.stopPropagation()}}}):e._e(),e.loading?n("div",{staticClass:"loading"},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-spinner"}})],1):e._e(),n("div",{staticStyle:{width:"100%",height:"100%"}},[e.curPlay?n("div",{staticClass:"curPlay"},[n("div",{on:{click:function(t){return e.toggleAutoPlay()}}},[e._v(" "+e._s(e.curPlay.q)+" "),e.curPlay.am?n("b",[e._v(" ["+e._s(e.curPlay.am)+"]")]):e._e(),n("div",[e._v(e._s(e.curPlay.to))])])]):e._e(),n("div",{staticClass:"videoview"},[n("MediaPlayer")],1),e.shownews?n("news2"):e._e(),n("cur-words")],1),n("div",{staticClass:"sidebarsetting",class:{open:e.showSidebar}},[n("div",{staticClass:"container",staticStyle:{margin:"5px","user-select":"none",display:"flex","justify-content":"space-between","line-height":"2em"}},[n("a",{staticClass:"barTitle",staticStyle:{"font-weight":"bold","font-size":"1.5em"},on:{click:e.toggleSetting}},[n("span",{staticStyle:{color:"blue"}},[e._v("abc")]),n("span",{staticStyle:{color:"red"}},[e._v("Wo")])]),n("div",{staticClass:"content"},[n("span",{staticClass:"ver"},[e._v(" "+e._s(e.ver))])])]),n("Setting",{staticStyle:{"background-color":"gray"}}),e.error?n("div",{staticClass:"error"},[n("div",[e._v(e._s(e.error))]),n("div",[n("a",{attrs:{target:"_blank",href:e.errorUrl}},[e._v(e._s(e.errorUrl))])])]):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showApp,expression:"showApp"}],ref:"root",style:{zIndex:e.zIndex},attrs:{id:"root_1"}},[n("div",{ref:"rootnav",attrs:{id:"nav"}},[n("div",{staticStyle:{display:"inline-block"}},[n("input",{attrs:{type:"checkbox",value:"true"},domProps:{checked:e.curItem.n},on:{mouseup:function(e){e.stopPropagation()},change:function(t){return e.changeItemNew(t)}}}),n("span",{ref:"play",class:{active:"HelloWorld"==e.curTab}},[e._v(" Play ")]),e._v(" ↔ "),n("span",{class:{active:"HelloWorld"==e.curTab},on:{click:function(t){return e.setCurTab("HelloWorld")},mouseenter:function(t){return e.enterTab(t,"HelloWorld")}}},[e._v("Detail")]),e._v(" | "),n("span",{class:{active:"NewWordsR"==e.curTab},on:{click:function(t){return e.setCurTab("NewWordsR")},mouseenter:function(t){return e.enterTab(t,"NewWordsR")}}},[e._v("Word")]),e._v(" | "),e.error?n("span",{staticStyle:{color:"red"},on:{click:function(t){return e.showError()}}},[e._v("Error")]):e._e()]),n("input",{staticStyle:{position:"absolute",right:"3px"},attrs:{type:"checkbox",value:"true"},domProps:{checked:e.curItem.n},on:{mouseup:function(e){e.stopPropagation()},change:function(t){return e.changeItemNew(t)}}})]),n("div",[n("keep-alive",[n(e.curTab,{key:e.curTab,tag:"component",attrs:{play:"$refs.play"}})],1)],1)]),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!e.config2.playingM,expression:"!config2.playingM"}],staticClass:"playbtn",attrs:{"fixed-width":"",icon:["far","circle-play"]},on:{click:function(t){return e.emit("togglePlay")}}}),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.config2.playingM&&e.config2.touchstart,expression:"config2.playingM && config2.touchstart"}],staticClass:"playbtn",attrs:{"fixed-width":"",icon:["far","circle-pause"]},on:{click:function(t){return e.emit("togglePlay")}}})],1),n("top-tool")],1)}),[],!1,null,"888edd14",null)).exports,ce=n("3835");i.a.use(a.a);var ue={},le=new a.a.Store({state:{loading:0,curPlay:null,srcText:"",tranText:"",audioUrl:"",curTab:"HelloWorld",newword:"",showApp:0,showSidebar:0,hkdcny:{now:"",p:""},nextUrl:"",config2:{mask:0,showList:0,touchstart:0,playing:0,touchCustCue:0,playingM:0},config:{playbackrate:1,custCue:0,seeCurWords:0,maxTranLen:300,viewModel:0,loopCount:3,isLoop:0,isAudio:1,fs:2,hi:0,keepNewsCount:50,autoRefresh:0,tranUrl:"",cacheMode:0,lastclean:0,retains:200,activeTran:1,shownews:0,showvideos:0,showwords:0,autoSound:0,mj:0,preload:0,dict:0,relwords:0,timeoutnext:0,audioCacheNum:1,autoHide:0,rsss:[],urls:{}},curItem:{q:"",to:"",n:0,dt:0,am:"",en:"",parts:[],error:"",errorUrl:"",src:"",tos:[]},words:[],curWords:[],videos:[]},mutations:{curPlay:function(e,t){e.curPlay=t},setSrcText:function(e,t){e.srcText=t},setTranText:function(e,t){e.tranText=t},setAudioUrl:function(e,t){e.audioUrl=t},setCurTab:function(e,t){e.curTab=t},setNewword:function(e,t){e.newword=t},setShowApp:function(e,t){e.showApp=t},setShowSetting:function(e,t){e.showSidebar=t},setLoading:function(e,t){e.loading=t},setCurItem:function(e,t){e.curItem=t},setCurItem2:function(e,t){e.curItem=t},words:function(e,t){e.words=t},nextUrl:function(e,t){e.nextUrl=t},add2CurWords:function(e,t){var n=Object(ce.a)(t,2),i=n[0];n[1]&&(e.curWords.length=0,ue={},e.config.seeCurWords&&(e.config.seeCurWords+=1));var r,a=Object(Z.a)(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;ue[o.q]||(ue[o.q]=1,e.curWords.push(o))}}catch(e){a.e(e)}finally{a.f()}},videos:function(e,t){var n=+new Date-6048e5,i=sessionStorage;if(i.doneVideoMap){var r=JSON.parse(i.doneVideoMap);for(var a in r)r[a]<n&&delete r[a];if(i.doneVideoMap=JSON.stringify(r),t){var o,s=Object(Z.a)(t.filter((function(e){return!e._d})));try{for(s.s();!(o=s.n()).done;){var c=o.value;c._d=r[c.vid]||0}}catch(e){s.e(e)}finally{s.f()}t.filter((function(e){return!e._c&&(e._c=0)}))}}e.videos=t},news:function(e,t){e.news=t},config:function(e,t){e.config=Object.assign({},e.config,t)},config2:function(e,t){e.config2=Object.assign({},e.config2,t)},newWord:function(e,t){for(var n=-1,i=0;i<e.words.length;i++)if(e.words[i].q==t.q){n=i;break}if(n>-1&&e.words.splice(n,1),e.words.unshift(t),c.a.$emit("newWord",t),e.config.fzWords>0){for(var r=0,a=0;a<e.words.length&&a<=e.config.fzWords+5;a++)e.words[a].n&&r++;r>=e.config.fzWords&&c.a.$emit("fresh","words",1)}}},actions:{},modules:{},getters:{showNews:function(e){return e.config.showNews}}}),de=n("487a"),fe=n.n(de),pe=n("ecee"),he=n("c074"),ge=n("b702"),me=n("f2d1"),ve={data:function(){return{}},methods:{emit:function(e){c.a.$emit(e)},updateConfig:function(e){var t=this;Object(w.c)(null,{cmd:"setConfig",content:Object.assign(this.config,e)},(function(){t.$store.commit("config",t.config)}))},updateConfig2:function(e){this.$store.commit("config2",Object.assign(this.config2,e))},toggleSetting:function(){this.$store.commit("setShowSetting",!this.showSidebar)},playSound:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return Object(x.f)(e,t,n)},sleep:function(e){return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()},toggleItemIsNew:function(e,t){return e.n=e.n>0?0:1,e.i=e.n?0:e.i,this.changeItemNew(e),t&&t.stopPropagation(),!1},changeItemNew:function(e){var t=this;e.q.trim()&&Object(w.c)(null,{cmd:"newWord",content:e},(function(e){t.$store.commit("newWord",e.contents)}))},scroll2el:function(e,t){var n=e.offset().top+t[0].scrollTop-t.offset().top-t.height()+e.outerHeight();window.cancelAnimationFrame(window.requestAnimationFrame1),window.requestAnimationFrame1=window.requestAnimationFrame((function(){d()(t).animate({scrollTop:n},500)}))},saveCache:function(e,t){return Object(s.a)(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i="cache/"+e,r=JSON.stringify(t),r=Object(X.d)(r),"videos"==e?localStorage[e]=r:sessionStorage[i]=r;case 5:case"end":return n.stop()}}),n)})))()},delCache:function(e){return Object(s.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="cache/"+e,t.abrupt("return",fetch(n,{method:"PUT",headers:{delete:1}}).then((function(e){return e.json()})));case 2:case"end":return t.stop()}}),t)})))()},loadCache:function(e){return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(x.e)(e));case 1:case"end":return t.stop()}}),t)})))()}},computed:Object(r.a)(Object(r.a)({},Object(a.b)(["showSidebar"])),{},{config:function(){return this.$store.state.config},autoHide:function(){return this.$store.state.config.autoHide},shownews:function(){return this.$store.state.config.shownews},config2:function(){return this.$store.state.config2}})},we=(n("6519"),n("ad3d"));pe.c.add(he.a,ge.a,me.a),i.a.component("font-awesome-icon",we.a),i.a.component("font-awesome-layers",we.b),i.a.component("font-awesome-layers-text",we.c),i.a.prototype.$http=S.a,i.a.prototype.$storejs=S.a,i.a.use(fe.a),i.a.mixin(ve),new i.a({store:le,render:function(e){return e(se)}}).$mount("#mytranslate_app")},"5b30":function(e,t,n){},"63ef":function(e,t,n){"use strict";n("9e50")},6519:function(e,t){!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16.7-(n-e)),r=window.setTimeout((function(){t(n+i)}),i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},6863:function(e,t,n){"use strict";n("2aa3")},"68e0":function(e,t,n){"use strict";n("ef05")},"6bd2":function(e,t,n){"use strict";n("dde2")},"6db2":function(e,t,n){},"6ff8":function(e,t,n){},"93eb":function(e,t,n){"use strict";n("cfdd")},"9e50":function(e,t,n){},a1f0:function(e,t,n){"use strict";n("5082")},b0f2:function(e,t,n){"use strict";n("294d")},cc6b:function(e,t,n){"use strict";n("4329")},cfdd:function(e,t,n){},dde2:function(e,t,n){},e621:function(e,t,n){},ee6c:function(e,t,n){"use strict";n("6db2")},ef05:function(e,t,n){},f1ba:function(e,t,n){"use strict";n("05e4")},fff2:function(e,t,n){"use strict";n("5b30")}});